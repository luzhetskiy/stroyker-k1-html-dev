"use strict";function _createForOfIteratorHelper2(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=_unsupportedIterableToArray2(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,r=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return s=t.done,t},e:function(t){r=!0,i=t},f:function(){try{s||null==o.return||o.return()}finally{if(r)throw i}}}}function _unsupportedIterableToArray2(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray2(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray2(t,e):void 0}}function _arrayLikeToArray2(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,a=new Array(e);o<e;o++)a[o]=t[o];return a}var breakpoints={xs:0,sm:576,md:768,lg:1024,xl:1280},touchstartX=0,touchendX=0;function throttle(t,e,o){var a,n=o||{},i=n.noTrailing,s=void 0!==i&&i,r=n.noLeading,c=void 0!==r&&r,l=n.debounceMode,d=void 0===l?void 0:l,u=!1,h=0;function m(){a&&clearTimeout(a)}function p(){for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];var r=this,l=Date.now()-h;function p(){h=Date.now(),e.apply(r,n)}function v(){a=void 0}u||(c||!d||a||p(),m(),void 0===d&&l>t?c?(h=Date.now(),s||(a=setTimeout(d?v:p,t))):p():!0!==s&&(a=setTimeout(d?v:p,void 0===d?t-l:t)))}return p.cancel=function(t){var e=(t||{}).upcomingOnly,o=void 0!==e&&e;m(),u=!o},p}function debounce(t,e,o){var a=(o||{}).atBegin;return throttle(t,e,{debounceMode:!1!==(void 0!==a&&a)})}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function sliderDebounce(t,e,o){var a=!1;return function(){var n=arguments,i=this;a&&clearTimeout(a),a=setTimeout((function(){t.apply(o||i,n)}),e)}}var SliderConstructor=function(){function t(e){_classCallCheck(this,t),this.element=e}return _createClass(t,[{key:"init",value:function(){var t=this;this.params={},this.params.autoplay=null!==this.element.getAttribute("data-autoplay-timeout"),this.params.autoplayTimeout=+this.element.getAttribute("data-autoplay-timeout")||5e3,this.params.arrows=null===this.element.getAttribute("data-no-arrows"),window.matchMedia("(min-width: 575.98px)").matches?this.params.dots=null===this.element.getAttribute("data-no-dots"):this.params.dots=!0,this.params.adaptiveHeight=null!==this.element.getAttribute("data-adaptive-height"),this.params.centerMode=null!==this.element.getAttribute("data-center"),this.params.count={},this.params.count.xs=+this.element.getAttribute("data-slides")||1,this.params.count.sm=+this.element.getAttribute("data-sm-slides")||this.params.count.xs,this.params.count.md=+this.element.getAttribute("data-md-slides")||this.params.count.sm,this.params.count.lg=+this.element.getAttribute("data-lg-slides")||this.params.count.md,this.params.count.xl=+this.element.getAttribute("data-xl-slides")||this.params.count.lg,this.params.rows={},this.params.rows.xs=+this.element.getAttribute("data-rows")||1,this.params.rows.sm=+this.element.getAttribute("data-sm-rows")||this.params.rows.xs,this.params.rows.md=+this.element.getAttribute("data-md-rows")||this.params.rows.sm,this.params.rows.lg=+this.element.getAttribute("data-lg-rows")||this.params.rows.md,this.params.rows.xl=+this.element.getAttribute("data-xl-rows")||this.params.rows.lg,this.params.state={},Object.keys(breakpoints).forEach((function(e,o){var a=0!==o?"-"+e+"-":"-",n=t.element.getAttribute("data".concat(a,"mounted"));if(null===n&&0!==o){var i=Object.keys(breakpoints)[o-1];t.params.state[e]=t.params.state[i]}else t.params.state[e]="true"===n||0===o&&"false"!==n})),this.slides=[],this.containsMobileHiddenSlides=!1,this.element.childNodes.forEach((function(e){e.tagName&&(null!==e.getAttribute("data-slide-mobile-hidden")&&(t.containsMobileHiddenSlides=!0),t.slides.push(e))})),this.createIcons(),this.checkSliderState(),this.checkSliderStateDebounced=sliderDebounce(this.checkSliderState,500,this),window.addEventListener("resize",this.checkSliderStateDebounced)}},{key:"createIcons",value:function(){var t='\n      <svg viewBox="0 0 11 19" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n        <path d="M1.4 18.1L0 16.7L7.6 9.10001L0 1.5L1.4 0L10.4 9.10001C10.4 9.10001 1.3 18.1 1.4 18.1Z"/>\n      </svg>\n    ',e='\n      <svg viewBox="0 0 11 19" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n        <path d="M9.00039 7.24792e-05L10.4004 1.40007L2.80039 9.00009L10.4004 16.6001L9.00039 18.1001L0.000391006 9.00009C0.000391006 9.00009 9.10039 7.24792e-05 9.00039 7.24792e-05Z"/>\n      </svg>\n    ',o="custom-icon-left",a="custom-icon-right";this.element.querySelectorAll(".".concat(o,", .").concat(a)).forEach((function(n){var i=n.classList.contains(o),s=n.classList.contains(a);i?(n.classList.remove(o),t=n.outerHTML):s&&(n.classList.remove(a),e=n.outerHTML),n.remove()})),this.nextArrow='<button type="button" class="button button_style-1 slick-next">'.concat(t,"</button>"),this.prevArrow='<button type="button" class="button button_style-1 slick-prev">'.concat(e,"</button>")}},{key:"checkSliderState",value:function(){if(!this.mounted||this.savedWindowWidth!==window.innerWidth){var t;for(var e in this.savedWindowWidth=window.innerWidth,this.mounted&&this.unmount(),breakpoints)window.innerWidth>=breakpoints[e]&&(t=this.params.state[e]);t?(this.element.classList.remove("visible"),this.containsMobileHiddenSlides&&this.checkSlidesVisibility(),this.mount()):this.element.classList.add("visible")}}},{key:"checkSlidesVisibility",value:function(){var t=this;this.slides.forEach((function(t){t.remove()})),this.slides.forEach((function(e){var o=null!==e.getAttribute("data-slide-mobile-hidden"),a=window.innerWidth<breakpoints.sm;o&&a||t.element.insertAdjacentElement("beforeend",e)}))}},{key:"mount",value:function(){$(this.element).slick({autoplay:this.params.autoplay,autoplaySpeed:this.params.autoplayTimeout,mobileFirst:!0,slidesToShow:this.params.count.xs,slidesToScroll:this.params.count.xs,rows:this.params.rows.xs,prevArrow:this.prevArrow,nextArrow:this.nextArrow,arrows:this.params.arrows,adaptiveHeight:this.params.adaptiveHeight,dots:this.params.dots,centerMode:this.params.centerMode,accessibility:!1,responsive:[{breakpoint:breakpoints.sm-1,settings:{slidesToShow:this.params.count.sm,slidesToScroll:this.params.count.sm,rows:this.params.rows.sm}},{breakpoint:breakpoints.md-1,settings:{slidesToShow:this.params.count.md,slidesToScroll:this.params.count.md,rows:this.params.rows.md}},{breakpoint:breakpoints.lg-1,settings:{slidesToShow:this.params.count.lg,slidesToScroll:this.params.count.lg,rows:this.params.rows.lg}},{breakpoint:breakpoints.xl-1,settings:{slidesToShow:this.params.count.xl,slidesToScroll:this.params.count.xl,rows:this.params.rows.xl}}]});var t=0,e=0;$(".slider-constructor .product-card-slideshow__sector").on("mousemove",(function(t){var e=$(t.currentTarget),o=e.attr("data-sector"),a=e.parent().parent();a.find(".product-card-slideshow__image_active").removeClass("product-card-slideshow__image_active"),a.find(".product-card-slideshow__dot_active").removeClass("product-card-slideshow__dot_active"),a.find('[data-sector-image="'.concat(o,'"]')).addClass("product-card-slideshow__image_active"),a.find('[data-sector-dot="'.concat(o,'"]')).addClass("product-card-slideshow__dot_active")})),$(".slider-constructor .product-card-slideshow__sectors").on("touchstart",(function(e){t=e.changedTouches[0].screenX})),$(".slider-constructor .product-card-slideshow__sectors").on("touchend",(function(o){e=o.changedTouches[0].screenX;var a=$(o.currentTarget).parent(),n=a.find(".product-card-slideshow__image_active"),i=Number(n.attr("data-sector-image")),s=a.find(".product-card-slideshow__image").length;if(e<t){if(a.find(".product-card-slideshow__image_active").removeClass("product-card-slideshow__image_active"),a.find(".product-card-slideshow__dot_active").removeClass("product-card-slideshow__dot_active"),i>=s)return a.find('[data-sector-image="'.concat(1,'"]')).addClass("product-card-slideshow__image_active"),void a.find('[data-sector-dot="'.concat(1,'"]')).addClass("product-card-slideshow__dot_active");a.find('[data-sector-image="'.concat(i+1,'"]')).addClass("product-card-slideshow__image_active"),a.find('[data-sector-dot="'.concat(i+1,'"]')).addClass("product-card-slideshow__dot_active")}if(e>t){if(a.find(".product-card-slideshow__image_active").removeClass("product-card-slideshow__image_active"),a.find(".product-card-slideshow__dot_active").removeClass("product-card-slideshow__dot_active"),i<=1)return a.find('[data-sector-image="'.concat(s,'"]')).addClass("product-card-slideshow__image_active"),void a.find('[data-sector-dot="'.concat(s,'"]')).addClass("product-card-slideshow__dot_active");a.find('[data-sector-image="'.concat(i-1,'"]')).addClass("product-card-slideshow__image_active"),a.find('[data-sector-dot="'.concat(i-1,'"]')).addClass("product-card-slideshow__dot_active")}})),this.mounted=!0}},{key:"unmount",value:function(){$(this.element).slick("unslick"),this.mounted=!1}}]),t}();$(document).ready((function(){$(document).on("click",(function(t){!t.target.closest(".bottom-mobile-menu")&&$(".bottom-mobile-menu-list_active")&&($(".bottom-mobile-menu-list_active").removeClass("bottom-mobile-menu-list_active"),$(".bottom-mobile-menu-button_active").removeClass("bottom-mobile-menu-button_active"))})),$(".catalog-filter-accordion a.opener").click((function(){return $(this).parent().find("ul:first").slideToggle(),$(this).parent().toggleClass("active"),!1})),$("[data-open-dropdown-content]").on("click",(function(t){var e=$(t.currentTarget);e.parent().find("[data-close-dropdown-content]").removeClass("d-none"),e.addClass("d-none")})),$("[data-close-dropdown-content]").on("click",(function(t){var e=$(t.currentTarget);e.parent().find("[data-open-dropdown-content]").removeClass("d-none"),e.addClass("d-none")})),$("[data-toggle-bottom-dropdown]").on("click",(function(t){$(".bottom-mobile-menu-list").toggleClass("bottom-mobile-menu-list_active"),$(t.currentTarget).toggleClass("bottom-mobile-menu-button_active")})),$("[data-close-search-modal]").on("click",(function(){$(".search-modal-window").removeClass("d-block")})),$("[data-open-search-modal]").on("click",(function(){$(".search-modal-window").addClass("d-block"),$(".search-modal-window__input").focus()})),$("[data-clear-input]").on("click",(function(){$("[data-input]").val("")})),$(".like-btn").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active")})),$(".city-selection__link").click((function(){$(".city-selection__list").toggle(0)})),$(window).click((function(t){t.target.classList.contains("city-selection__link")||$(".city-selection__list").toggle(!1)})),$(".burger-menu").click((function(){$(".mobile-menu").toggle(0)})),$(".catalog-inner-btn").click((function(t){t.preventDefault(),$(this).toggleClass("open"),$(".catalog-header-content").toggle(0)})),$(".catalog-inner-btn,.catalog-menu__head a").click((function(t){t.preventDefault(),$(".catalog-menu").toggle(0)})),$(".burger-catalog").click((function(t){t.preventDefault(),$(this).toggleClass("open")})),$(".share-btn").click((function(){$(".share-block__show").toggle(0)})),$(".close-panel").click((function(){$(".bottom-panel").toggle(0)})),$(".filter-btn, .close-btn-2").click((function(){$(".catalog-filter").toggle(0)})),$(".catalog-side__title").click((function(){$(".catalog-side__content").toggle(0),$(".catalog-side__content-accordeon").toggle(0)})),$(".catalog-opened").click((function(){$(".catalog-opened .submenu").toggle(0)})),$(".burger-menu").click((function(){$(this).toggleClass("menu-on")})),$(".catalog-inner").click((function(){$(this).toggleClass("open"),$(".catalog-inner-content").toggle(0)}))})),$((function(){$(".smoothScroll").click((function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if((t=t.length?t:$("[name="+this.hash.slice(1)+"]")).length)return $("html,body").animate({scrollTop:t.offset().top},1e3),!1}}))}));var bigSlides=$(".main-slider .owl-carousel"),autoPlayTimeoutSec=parseInt(bigSlides.data("autoplay-timeout"));bigSlides.owlCarousel({loop:!0,margin:5,nav:!0,dots:!0,items:1,autoplay:!0,autoplayTimeout:1e3*autoPlayTimeoutSec,navText:['<svg class="icon" viewBox="0 0 10.5 18.1"><path stroke="none" d="M9,0l1.4,1.4L2.8,9l7.6,7.6L9,18.1L0,9C0,9,9.1,0,9,0z"></path></svg>','<svg class="icon" viewBox="0 0 10.5 18.1"><path stroke="none" d="M1.4,18.1L0,16.7l7.6-7.6L0,1.5L1.4,0l9,9.1C10.4,9.1,1.3,18.1,1.4,18.1z"></path></svg>']});var radioButtons=document.querySelectorAll('.delivery-selection input[type="radio"]'),choices=document.querySelectorAll(".delivery-choice");radioButtons.forEach((function(t){t.addEventListener("change",(function(){var t=this;choices.forEach((function(e){e.classList.contains(t.id)||e.classList.contains("delivery-type-"+t.value)?e.style.display="block":e.style.display="none"}))}))})),$(".shopping-cart-item__delete").click((function(){$(this).parent(".shopping-cart-item").remove()})),$(".slider .owl-carousel").owlCarousel({loop:!0,margin:0,items:1,nav:!0}),$(".news-slider .owl-carousel").owlCarousel({loop:!0,margin:0,items:4,responsive:{0:{nav:!1,dots:!0,items:1},479:{nav:!1,dots:!0,items:2},768:{nav:!0,dots:!1,items:3},992:{items:4}}}),$(".action-slider .owl-carousel").owlCarousel({loop:!0,margin:20,nav:!0,dots:!1,items:3,responsive:{0:{nav:!1,dots:!0,items:1},479:{nav:!1,dots:!0,items:2},768:{nav:!0,dots:!1,items:3}}}),$(".partners-slider .owl-carousel").owlCarousel({loop:!0,margin:0,nav:!0,dots:!1,items:5,responsive:{0:{dots:!0,nav:!1,items:1},566:{nav:!1,dots:!0,items:2},768:{nav:!1,dots:!0,items:3},900:{nav:!1,dots:!0,items:4},950:{dots:!1}}}),function(t){t("select.custom-select").each((function(){var e=t(this),o=e.attr("id"),a=e.children("optgroup"),n="",i="";a.length?(a.each((function(){var e=t(this),o=e.attr("label");n+='<li class="optgroup">'+o+"</li>",e.children("option").each((function(){var e=t(this),o=e.attr("value"),a=e.html();"selected"===e.attr("selected")?(i=a,n+='<li class="selected" data-value="'+o+'">'+a+"</li>"):n+='<li data-value="'+o+'">'+a+"</li>"}))})),e.children("option").each((function(){var e=t(this),o=e.attr("value"),a=e.html();"selected"===e.attr("selected")?(i=a,n='<li class="selected" data-value="'+o+'">'+a+"</li>"+n):n='<li data-value="'+o+'">'+a+"</li>"+n}))):e.children("option").each((function(){var e=t(this),o=e.attr("value"),a=e.html();"selected"===e.attr("selected")?(i=a,n+='<li class="selected" data-value="'+o+'">'+a+"</li>"):n+='<li data-value="'+o+'">'+a+"</li>"})),t('<div class="dropdown-container"><div class="dropdown-select entypo-down-open-big"><svg class="icon"><use xlink:href="#tab-arrow"></use></svg><span>'+i+'</span></div><ul class="dropdown-select-ul" data-role="'+o+'">'+n+"</ul></div> \x3c!-- .custom-select-wrapper --\x3e").insertAfter(e)}));var e=t(".dropdown-select"),o=t(".dropdown-select-ul"),a=t(".dropdown-select-ul li");e.on("click",(function(){t(this).parent(".dropdown-container").toggleClass("active")})),o.on("mouseleave",(function(){t(this).parent(".dropdown-container").removeClass("active")})),a.on("click",(function(){var e=t(this);if(!e.hasClass("optgroup")){var o=e.parent("ul"),a=o.siblings(".dropdown-select"),n=e.html(),i=e.attr("data-value"),s="#"+o.attr("data-role");o.parent(".dropdown-container").toggleClass("active"),e.siblings("li").removeClass("selected"),e.addClass("selected"),t(s).val(i),a.children("span").html(n)}}))}(jQuery),$(".tab-content").hide(),$(".tab-content:first").show(),$("ul.tabs li,.product-card__review-link a,.schedule-btn a").click((function(){$(".tab-content").hide();var t=$(this).attr("rel");$("#"+t).fadeIn(),$("ul.tabs li").removeClass("active"),$(this).addClass("active"),$(".tab_drawer_heading").removeClass("d_active"),$(".tab_drawer_heading[rel^='"+t+"']").addClass("d_active")})),$(".tab_drawer_heading").click((function(){var t=$(this).attr("rel"),e=$("#"+t+":hidden"),o=$(this).not(".d_active");$(".tab-content").hide(),e.fadeIn(),$(".tab_drawer_heading").removeClass("d_active"),o.addClass("d_active"),$("ul.tabs li").removeClass("active"),$("ul.tabs li[rel^='"+t+"']").addClass("active")})),$("ul.tabs li").last().addClass("tab_last"),jQuery(document).ready((function(){jQuery(".schedule-btn a").click((function(){jQuery(".schedule-link").toggleClass("active")}))})),jQuery(document).ready((function(){jQuery(".product-card__review-link a").click((function(){jQuery(".review-tab-link").toggleClass("active")}))})),$(document).ready((function(){var t=$("#sync1"),e=$("#sync2");t.owlCarousel({items:1,slideSpeed:2e3,nav:!0,autoplay:!1,dots:!0,loop:!0,responsiveRefreshRate:200,margin:10}).on("changed.owl.carousel",(function(t){var o=t.item.count-1,a=Math.round(t.item.index-t.item.count/2-.5);a<0&&(a=o);a>o&&(a=0);e.find(".owl-item").removeClass("current").eq(a).addClass("current");var n=e.find(".owl-item.active").length-1,i=e.find(".owl-item.active").first().index(),s=e.find(".owl-item.active").last().index();a>s&&e.data("owl.carousel").to(a,100,!0);a<i&&e.data("owl.carousel").to(a-n,100,!0)})),e.on("initialized.owl.carousel",(function(){e.find(".owl-item").eq(0).addClass("current")})).owlCarousel({items:3,dots:!0,nav:!0,margin:10,smartSpeed:200,slideSpeed:500,slideBy:3,responsiveRefreshRate:100}).on("changed.owl.carousel",(function(e){var o=e.item.index;t.data("owl.carousel").to(o,100,!0)})),e.on("click",".owl-item",(function(e){e.preventDefault();var o=$(this).index();t.data("owl.carousel").to(o,300,!0)}))})),function(){var t=$(".button1"),e=$(".button2"),o=$(".button3"),a=$(".product-item");e.click((function(e){t.removeClass("current"),o.removeClass("current"),$(e.currentTarget).addClass("current"),localStorage.setItem("catalogGrid","wide"),a.removeClass("product-item--line"),a.addClass("product-item--wide")})),o.click((function(o){e.removeClass("current"),t.removeClass("current"),$(o.currentTarget).addClass("current"),localStorage.setItem("catalogGrid","wide"),a.removeClass("product-item--wide"),a.addClass("product-item--line")})),t.click((function(t){e.removeClass("current"),o.removeClass("current"),$(t.currentTarget).addClass("current"),localStorage.setItem("catalogGrid","default"),a.removeClass("product-item--wide"),a.removeClass("product-item--line")}))}();var keypressSliders=$(".range-slider");function gallery(){$.fancybox&&$(".owl-item [data-fancybox]").on("click",(function(){var t=$(this).parents(".owl-carousel").find(".owl-item:not(.cloned) [data-fancybox]");return $.fancybox.open(t,{selector:t,backFocus:!1},t.index(this)),!1}))}function header(){var t,e,o=$("header"),a=!1;function n(){o.hasClass("header_landing")||(e=$(window).scrollTop(),t=o.height(),e>t?o.addClass("fixed"):o.removeClass("fixed"))}n(),$(window).scroll((function(){a||(a=!0,setTimeout((function(){n(),a=!1}),100))}))}function homeBanner(){var t=$(".home-banner .owl-carousel");t.length&&t.owlCarousel({loop:!0,nav:!0,smartSpeed:500,dots:!0,items:1,lazyLoad:!0,autoplay:!0,autoplayTimeout:1e3*(+t.data("autoplay-timeout")||5),navText:['<svg class="icon" viewBox="0 0 10.5 18.1"><path stroke="none" d="M9,0l1.4,1.4L2.8,9l7.6,7.6L9,18.1L0,9C0,9,9.1,0,9,0z"></path></svg>','<svg class="icon" viewBox="0 0 10.5 18.1"><path stroke="none" d="M1.4,18.1L0,16.7l7.6-7.6L0,1.5L1.4,0l9,9.1C10.4,9.1,1.3,18.1,1.4,18.1z"></path></svg>']})}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var a=e[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),t}function _createForOfIteratorHelper(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,r=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return s=t.done,t},e:function(t){r=!0,i=t},f:function(){try{s||null==o.return||o.return()}finally{if(r)throw i}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,a=new Array(e);o<e;o++)a[o]=t[o];return a}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function landing_sliders(){var t=$(".landing-slider .owl-carousel");t.length&&t.each((function(){var t,e,o,a,n=$(this);n.is(".landing-slider_1 .owl-carousel")?(t=2,e=2,o=3,a=4):n.is(".landing-slider_2 .owl-carousel")&&(t=1,e=2,o=3,a=4),n.owlCarousel({loop:!0,margin:20,responsive:{0:{items:t,margin:16},576:{items:e},768:{items:o},992:{items:a}}})}))}function toggle(){var t=$(".toggle-section");t.each((function(){var t,e,o=$(this),a=o.children(".toggle-section__trigger"),n=o.children(".toggle-section__content"),i=n.find(".toggle-section__close"),s=!!o.hasClass("active");(a.on("click",(function(){s=!s,r()})),i.on("click",(function(){s=!1,r()})),o.is("[data-hover]"))&&(a.add(n).on("mouseenter",(function(t){isTouch||(e&&clearTimeout(e),s=!0,r())})),a.add(n).on("mouseleave",(function(t){var o;isTouch||(o=$(this).is(a)?500:100,e=setTimeout((function(){s=!1,r()}),o))})));function r(){s?(o.add(n).add(a).addClass("active"),o.is("[data-slide]")&&n.slideDown(250)):(o.add(a).add(n).removeClass("active"),o.is("[data-slide]")&&(t?n.stop().slideUp(250):n.hide(0)))}(o.is("[data-out-hide]")||o.is("[data-hover]"))&&$(document).on("click touchstart",(function(t){var e=$(t.target);e.closest(n).length||e.closest(a).length||!s||(s=!1,r())})),r(),t=!0}))}function up(){var t=$(".js-up");function e(){$(window).scrollTop()>50?t.addClass("visible"):t.removeClass("visible")}var o=!1;$(window).on("scroll",(function(){o||(o=!0,setTimeout((function(){e(),o=!1}),100))})),e(),t.on("click",(function(t){t.preventDefault(),$("html, body").animate({scrollTop:0},500)}))}function chatBlock(){var t=$(".chat-block"),e=$("[data-chat-open]"),o=$("[data-chat-close]");e.on("click",(function(){t.addClass("active")})),o.on("click",(function(){t.removeClass("active")}))}$(keypressSliders).each((function(t,e){var o=$(e).data("name"),a=document.getElementById("id_"+o+"_0"),n=document.getElementById("id_"+o+"_1"),i=[a,n];if(a&&n)var s=parseInt(a.dataset.currentValue),r=parseInt(n.dataset.currentValue),c=parseInt(a.dataset.minValue),l=parseInt(n.dataset.maxValue);var d="";function u(t,o){var a=[null,null];a[t]=o,e.noUiSlider.set(a)}"price_range"==o&&(d=" ₽"),"undefined"!=typeof noUiSlider&&noUiSlider.create(e,{start:[s,r],connect:!0,range:{min:c,max:l},format:wNumb({decimals:0,thousand:" ",postfix:d}),step:1}),null!==e&&e.noUiSlider&&e.noUiSlider.on("update",(function(t,e){i[e].value=t[e]})),i.forEach((function(t,o){null!==t&&(t.addEventListener("change",(function(){u(o,this.value)})),t.addEventListener("keydown",(function(t){var a,n=e.noUiSlider.get(),i=Number(n[o]),s=e.noUiSlider.steps()[o];switch(t.which){case 13:u(o,this.value);break;case 38:!1===(a=s[1])&&(a=1),null!==a&&u(o,i+a);break;case 40:!1===(a=s[0])&&(a=1),null!==a&&u(o,i-a)}})))}))})),$(".product-card-slideshow__sector").on("mousemove",(function(t){var e=$(t.currentTarget),o=e.attr("data-sector"),a=e.parent().parent();a.find(".product-card-slideshow__image_active").removeClass("product-card-slideshow__image_active"),a.find(".product-card-slideshow__dot_active").removeClass("product-card-slideshow__dot_active"),a.find('[data-sector-image="'.concat(o,'"]')).addClass("product-card-slideshow__image_active"),a.find('[data-sector-dot="'.concat(o,'"]')).addClass("product-card-slideshow__dot_active")})),$(".product-card-slideshow__sectors").on("touchstart",(function(t){touchstartX=t.changedTouches[0].screenX})),$(".product-card-slideshow__sectors").on("touchend",(function(t){touchendX=t.changedTouches[0].screenX;var e=$(t.currentTarget).parent(),o=e.find(".product-card-slideshow__image_active"),a=Number(o.attr("data-sector-image")),n=e.find(".product-card-slideshow__image").length;if(touchendX<touchstartX){if(e.find(".product-card-slideshow__image_active").removeClass("product-card-slideshow__image_active"),e.find(".product-card-slideshow__dot_active").removeClass("product-card-slideshow__dot_active"),a>=n)return e.find('[data-sector-image="'.concat(1,'"]')).addClass("product-card-slideshow__image_active"),void e.find('[data-sector-dot="'.concat(1,'"]')).addClass("product-card-slideshow__dot_active");e.find('[data-sector-image="'.concat(a+1,'"]')).addClass("product-card-slideshow__image_active"),e.find('[data-sector-dot="'.concat(a+1,'"]')).addClass("product-card-slideshow__dot_active")}if(touchendX>touchstartX){if(e.find(".product-card-slideshow__image_active").removeClass("product-card-slideshow__image_active"),e.find(".product-card-slideshow__dot_active").removeClass("product-card-slideshow__dot_active"),a<=1)return e.find('[data-sector-image="'.concat(n,'"]')).addClass("product-card-slideshow__image_active"),void e.find('[data-sector-dot="'.concat(n,'"]')).addClass("product-card-slideshow__dot_active");e.find('[data-sector-image="'.concat(a-1,'"]')).addClass("product-card-slideshow__image_active"),e.find('[data-sector-dot="'.concat(a-1,'"]')).addClass("product-card-slideshow__dot_active")}})),$(document).ready((function(){var t,e=$(".product-description-group__collapse"),o=0,a=_createForOfIteratorHelper2(e.children());try{for(a.s();!(t=a.n()).done;){var n=t.value;o+=$(n).height()}}catch(t){a.e(t)}finally{a.f()}o>85||(e.addClass("product-description-group__collapse_inactive"),$(".product-description-group__button").addClass("d-none"))})),$(document).ready((function(){var t,e=$(".product-haracteristic-group__collapse"),o=0,a=_createForOfIteratorHelper2(e.children());try{for(a.s();!(t=a.n()).done;){var n=t.value;o+=$(n).height()}}catch(t){a.e(t)}finally{a.f()}o>85||(e.addClass("product-haracteristic-group_inactive"),$(".product-haracteristic-group__button").addClass("d-none"))})),function(t){var e="cscrlb";function o(o,a){var n,i,s,r,c,l=o,d=t(o),u=d.find(".cscrlb-content"),h=7/8,m="vert",p="scrollTop",v="height",f="top";function g(e){e.preventDefault();var o=e.pageY;"horiz"===m&&(o=e.pageX),r=o-s.offset()[f],t(document).on("mousemove",_),t(document).on("mouseup",w)}function _(t){t.preventDefault();var e=t.pageY;"horiz"===m&&(e=t.pageX);var o=(e-i.offset()[f]-r)/i[v]()*u[v]();n[p](o)}function w(){t(document).off("mousemove",_),t(document).off("mouseup",w)}function b(t){if(t.target!==s[0]){var e=h*n[v](),o=("vert"===m?t.originalEvent.layerY:t.originalEvent.layerX)<s.position()[f]?n[p]()-e:n[p]()+e;n[p](o)}}function y(t){C()}function $(){var t=u[v](),e=n[p](),o=i[v](),a=o/t,r=Math.round(a*e),c=Math.floor(a*(o+2));o<t?("vert"===m?s.css({top:r,height:c}):s.css({left:r,width:c}),i.show()):i.hide()}function C(){$(),k()}function k(){s.addClass("visible"),a.autoHide&&("number"==typeof c&&window.clearTimeout(c),c=window.setTimeout((function(){s.removeClass("visible"),"number"==typeof c&&window.clearTimeout(c)}),1e3))}function T(){"vert"===m?(n.width(d.width()+S()),n.height(d.height())):(n.width(d.width()),n.height(d.height()+S()),u.height(d.height()))}function S(){var e=t('<div class="scrollbar-width-tester" style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>');t("body").append(e);var o=t(e).innerWidth(),a=t("div",e).innerWidth();return e.remove(),o===a&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1?17:o-a}function x(){T(),$()}return a=t.extend({},t.fn[e].defaults,a),window.onload=function(){u.focus()},d.hasClass("horizontal")&&(m="horiz",p="scrollLeft",v="width",f="left"),d.prepend('<div class="cscrlb-scrollbar"><div class="drag-handle"></div></div>'),i=d.find(".cscrlb-scrollbar"),s=d.find(".drag-handle"),a.wrapContent&&u.wrap('<div class="cscrlb-scroll-content" />'),n=d.find(".cscrlb-scroll-content"),T(),a.autoHide&&d.on("mouseenter",C),s.on("mousedown",g),i.on("mousedown",b),n.on("scroll",y),$(),t(window).on("resize",(function(){x()})),a.autoHide||k(),{option:function(t,e){if(!e)return a[t];a[t]=e},destroy:function(){var t;u.insertBefore(i),i.remove(),n.remove(),u.css({height:d.height()+"px","overflow-y":"scroll"}),void 0!==a[t="onDestroy"]&&a[t].call(l),d.removeData("plugin_"+e)},recalculate:x}}t.fn[e]=function(a){if("string"==typeof arguments[0]){var n,i=arguments[0],s=Array.prototype.slice.call(arguments,1);return this.each((function(){if(!t.data(this,"plugin_"+e)||"function"!=typeof t.data(this,"plugin_"+e)[i])throw new Error(" "+i+" "+e);n=t.data(this,"plugin_"+e)[i].apply(this,s)})),void 0!==n?n:this}if("object"===_typeof(a)||!a)return this.each((function(){t.data(this,"plugin_"+e)||t.data(this,"plugin_"+e,new o(this,a))}))},t.fn[e].defaults={onInit:function(){},onDestroy:function(){},wrapContent:!0,autoHide:!1}}(jQuery),$((function(){$(".cscrlb-scrollable").cscrlb()})),$(document).ready((function(){homeBanner(),header(),gallery(),landing_sliders(),up(),chatBlock(),toggle(),new СustomInteraction({targets:"a, button, [data-custom-interaction], .image-zoom"}),document.querySelectorAll(".slider-constructor").forEach((function(t){new SliderConstructor(t).init()}))}));var СustomInteraction=function t(){var e=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.targets=o.targets,this.touchendDelay=o.touchendDelay||100;var a=function(t){var o=[];o[0]=t.target!==document?t.target.closest(e.targets):null;for(var a=o[0],n=0;o[0]&&(a=a.parentNode)!==document;)a.matches(o.value)&&(n++,o[n]=a);if("touchstart"==t.type){if(e.touched=!0,e.timeout&&clearTimeout(e.timeout),o[0]){var i,s=_createForOfIteratorHelper(o);try{for(s.s();!(i=s.n()).done;){i.value.setAttribute("data-touch","")}}catch(t){s.e(t)}finally{s.f()}}}else("touchend"==t.type||"contextmenu"==t.type&&e.touched)&&(e.timeout=setTimeout((function(){e.touched=!1}),e.touchendDelay),o[0]&&setTimeout((function(){var t,e=_createForOfIteratorHelper(o);try{for(e.s();!(t=e.n()).done;){t.value.removeAttribute("data-touch")}}catch(t){e.e(t)}finally{e.f()}}),e.touchendDelay));"mouseenter"==t.type&&!e.touched&&o[0]&&o[0]==t.target?o[0].setAttribute("data-hover",""):"mouseleave"==t.type&&!e.touched&&o[0]&&o[0]==t.target&&(o[0].removeAttribute("data-click"),o[0].removeAttribute("data-hover")),"mousedown"==t.type&&!e.touched&&o[0]?o[0].setAttribute("data-click",""):"mouseup"==t.type&&!e.touched&&o[0]&&o[0].removeAttribute("data-click")};document.addEventListener("touchstart",a),document.addEventListener("touchend",a),document.addEventListener("mouseenter",a,!0),document.addEventListener("mouseleave",a,!0),document.addEventListener("mousedown",a),document.addEventListener("mouseup",a),document.addEventListener("contextmenu",a)};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyIiwibyIsImFsbG93QXJyYXlMaWtlIiwiaXQiLCJTeW1ib2wiLCJpdGVyYXRvciIsIkFycmF5IiwiaXNBcnJheSIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheTIiLCJsZW5ndGgiLCJpIiwiRiIsInMiLCJuIiwiZG9uZSIsInZhbHVlIiwiZSIsIl9lMyIsImYiLCJUeXBlRXJyb3IiLCJlcnIiLCJub3JtYWxDb21wbGV0aW9uIiwiZGlkRXJyIiwiY2FsbCIsInN0ZXAiLCJuZXh0IiwiX2U0IiwicmV0dXJuIiwibWluTGVuIiwiX2FycmF5TGlrZVRvQXJyYXkyIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsImZyb20iLCJ0ZXN0IiwiYXJyIiwibGVuIiwiYXJyMiIsImJyZWFrcG9pbnRzIiwieHMiLCJzbSIsIm1kIiwibGciLCJ4bCIsInRvdWNoc3RhcnRYIiwidG91Y2hlbmRYIiwidGhyb3R0bGUiLCJkZWxheSIsImNhbGxiYWNrIiwib3B0aW9ucyIsInRpbWVvdXRJRCIsIl9yZWYiLCJfcmVmJG5vVHJhaWxpbmciLCJub1RyYWlsaW5nIiwiX3JlZiRub0xlYWRpbmciLCJub0xlYWRpbmciLCJfcmVmJGRlYm91bmNlTW9kZSIsImRlYm91bmNlTW9kZSIsInVuZGVmaW5lZCIsImNhbmNlbGxlZCIsImxhc3RFeGVjIiwiY2xlYXJFeGlzdGluZ1RpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJ3cmFwcGVyIiwiX2xlbiIsImFyZ3VtZW50cyIsImFyZ3VtZW50c18iLCJfa2V5Iiwic2VsZiIsInRoaXMiLCJlbGFwc2VkIiwiRGF0ZSIsIm5vdyIsImV4ZWMiLCJhcHBseSIsImNsZWFyIiwic2V0VGltZW91dCIsImNhbmNlbCIsIl9yZWYyJHVwY29taW5nT25seSIsInVwY29taW5nT25seSIsImRlYm91bmNlIiwiX3JlZiRhdEJlZ2luIiwiYXRCZWdpbiIsIl90eXBlb2YiLCJvYmoiLCJzbGlkZXJEZWJvdW5jZSIsImZ1bmMiLCJpbnRlcnZhbCIsImNvbnRleHQiLCJ0aW1lb3V0IiwiX2FyZ3VtZW50cyIsIl90aGlzIiwiU2xpZGVyQ29uc3RydWN0b3IiLCJlbGVtZW50IiwiX2NsYXNzQ2FsbENoZWNrIiwiX2NyZWF0ZUNsYXNzIiwia2V5IiwiX3RoaXMzIiwicGFyYW1zIiwiYXV0b3BsYXkiLCJnZXRBdHRyaWJ1dGUiLCJhdXRvcGxheVRpbWVvdXQiLCJhcnJvd3MiLCJ3aW5kb3ciLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsImRvdHMiLCJhZGFwdGl2ZUhlaWdodCIsImNlbnRlck1vZGUiLCJjb3VudCIsInJvd3MiLCJzdGF0ZSIsImtleXMiLCJmb3JFYWNoIiwiaW5kZXgiLCJicmVha3BvaW50IiwiYXR0ciIsImNvbmNhdCIsInByZXZLZXkiLCJzbGlkZXMiLCJjb250YWluc01vYmlsZUhpZGRlblNsaWRlcyIsImNoaWxkTm9kZXMiLCJzbGlkZSIsInRhZ05hbWUiLCJwdXNoIiwiY3JlYXRlSWNvbnMiLCJjaGVja1NsaWRlclN0YXRlIiwiY2hlY2tTbGlkZXJTdGF0ZURlYm91bmNlZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJsZWZ0SWNvbiIsInJpZ2h0SWNvbiIsImxlZnRJY29uQ2xhc3MiLCJyaWdodEljb25DbGFzcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpY29uIiwiaXNMZWZ0SWNvbiIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiaXNSaWdodEljb24iLCJyZW1vdmUiLCJvdXRlckhUTUwiLCJuZXh0QXJyb3ciLCJwcmV2QXJyb3ciLCJtb3VudGVkIiwic2F2ZWRXaW5kb3dXaWR0aCIsImlubmVyV2lkdGgiLCJ1bm1vdW50IiwiY2hlY2tTbGlkZXNWaXNpYmlsaXR5IiwibW91bnQiLCJhZGQiLCJfdGhpczQiLCJzaG91bGRCZUhpZGRlbiIsImluc2VydEFkamFjZW50RWxlbWVudCIsIiQiLCJzbGljayIsImF1dG9wbGF5U3BlZWQiLCJtb2JpbGVGaXJzdCIsInNsaWRlc1RvU2hvdyIsInNsaWRlc1RvU2Nyb2xsIiwiYWNjZXNzaWJpbGl0eSIsInJlc3BvbnNpdmUiLCJzZXR0aW5ncyIsIm9uIiwiZXZlbnQiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiaWQiLCJwYXJlbnQiLCJmaW5kIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImNoYW5nZWRUb3VjaGVzIiwic2NyZWVuWCIsImltZyIsIk51bWJlciIsImRvY3VtZW50IiwicmVhZHkiLCJjbG9zZXN0IiwiY2xpY2siLCJzbGlkZVRvZ2dsZSIsInRvZ2dsZUNsYXNzIiwiZm9jdXMiLCJ2YWwiLCJwcmV2ZW50RGVmYXVsdCIsInRvZ2dsZSIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiaG9zdG5hbWUiLCJoYXNoIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsIm9mZnNldCIsInRvcCIsImJpZ1NsaWRlcyIsImF1dG9QbGF5VGltZW91dFNlYyIsInBhcnNlSW50IiwiZGF0YSIsIm93bENhcm91c2VsIiwibG9vcCIsIm1hcmdpbiIsIm5hdiIsIml0ZW1zIiwibmF2VGV4dCIsInJhZGlvQnV0dG9ucyIsImNob2ljZXMiLCJidG4iLCJjbGlja2VkIiwiY2hvaWNlIiwic3R5bGUiLCJkaXNwbGF5IiwiZWFjaCIsInRoYXQiLCJsaXN0SUQiLCJncm91cHMiLCJjaGlsZHJlbiIsInRoZU9wdGlvbnMiLCJzdGFydGluZ09wdGlvbiIsImN1ckdyb3VwIiwiY3VyTmFtZSIsImN1ck9wdCIsImN1clZhbCIsImN1ckh0bWwiLCJodG1sIiwiaW5zZXJ0QWZ0ZXIiLCJzZWxlY3RkZCIsInNlbGVjdHVsIiwic2VsZWN0bGkiLCJoYXNDbGFzcyIsInBhcmVudFVsIiwidGhpc2RkIiwic2libGluZ3MiLCJsaWh0bWwiLCJsaXZhbHVlIiwib3JpZ2luYWxTZWxlY3QiLCJqUXVlcnkiLCJoaWRlIiwic2hvdyIsImFjdGl2ZVRhYiIsImZhZGVJbiIsImRfYWN0aXZlVGFiIiwiYWN0aXZlVGFiQmxvY2siLCIkdGhpc0FjdGl2ZSIsIm5vdCIsImxhc3QiLCJzeW5jMSIsInN5bmMyIiwic2xpZGVTcGVlZCIsInJlc3BvbnNpdmVSZWZyZXNoUmF0ZSIsImVsIiwiaXRlbSIsImN1cnJlbnQiLCJNYXRoIiwicm91bmQiLCJlcSIsIm9uc2NyZWVuIiwic3RhcnQiLCJmaXJzdCIsImVuZCIsInRvIiwic21hcnRTcGVlZCIsInNsaWRlQnkiLCJudW1iZXIiLCJidXR0b25EZWZhdWx0VmlldyIsImJ1dHRvbldpZGVWaWV3IiwiYnV0dG9uTGluZVZpZXciLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwia2V5cHJlc3NTbGlkZXJzIiwiZ2FsbGVyeSIsImZhbmN5Ym94IiwiJHNlbGVjdG9yIiwicGFyZW50cyIsIm9wZW4iLCJzZWxlY3RvciIsImJhY2tGb2N1cyIsImhlYWRlciIsImhlaWdodCIsInNjcm9sbCIsIiRoZWFkZXIiLCJpc1Rocm90dGxlZCIsImNoZWNrIiwiaG9tZUJhbm5lciIsIiRzbGlkZXIiLCJsYXp5TG9hZCIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZGVmaW5lUHJvcGVydHkiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX2UiLCJfZTIiLCJfYXJyYXlMaWtlVG9BcnJheSIsImluc3RhbmNlIiwibGFuZGluZ19zbGlkZXJzIiwiJHNsaWRlcnMiLCJjb3VudDEiLCJjb3VudDIiLCJjb3VudDMiLCJjb3VudDQiLCIkdGhpcyIsImlzIiwiJHNlY3Rpb24iLCJpbml0aWFsaXplZCIsIiR0b2dnbGUiLCIkY29udGVudCIsIiRjbG9zZSIsImlzVG91Y2giLCJzbGlkZURvd24iLCJzdG9wIiwic2xpZGVVcCIsIiR0YXJnZXQiLCJ1cCIsIiRidG4iLCJjaGF0QmxvY2siLCIkYmxvY2siLCIkb3BlbiIsImtleXByZXNzU2xpZGVyIiwiZmllbGRfbmFtZSIsImlucHV0MCIsImdldEVsZW1lbnRCeUlkIiwiaW5wdXQxIiwiaW5wdXRzIiwic3RhcnRWYWwiLCJkYXRhc2V0IiwiY3VycmVudFZhbHVlIiwiZW5kVmFsIiwibWluVmFsIiwibWluVmFsdWUiLCJtYXhWYWwiLCJtYXhWYWx1ZSIsInBvc3RmaXgiLCJzZXRTbGlkZXJIYW5kbGUiLCJyIiwibm9VaVNsaWRlciIsInNldCIsImNyZWF0ZSIsImNvbm5lY3QiLCJyYW5nZSIsIm1pbiIsIm1heCIsImZvcm1hdCIsIndOdW1iIiwiZGVjaW1hbHMiLCJ0aG91c2FuZCIsInZhbHVlcyIsImhhbmRsZSIsImlucHV0IiwicG9zaXRpb24iLCJnZXQiLCJzdGVwcyIsIndoaWNoIiwiX3N0ZXAzIiwiY29sbGFwc2UiLCJjb2xsYXBzZUNoaWxkcmVuSGVpZ2h0IiwiX2l0ZXJhdG9yMyIsImNoaWxkIiwiX3N0ZXA0IiwiX2l0ZXJhdG9yNCIsInBsdWdpbk5hbWUiLCJQbHVnaW4iLCIkc2Nyb2xsQ29udGVudEVsIiwiJHNjcm9sbGJhckVsIiwiJGRyYWdIYW5kbGVFbCIsImRyYWdPZmZzZXQiLCJmbGFzaFRpbWVvdXQiLCIkZWwiLCIkY29udGVudEVsIiwicGFnZUp1bXBNdWx0cCIsInNjcm9sbERpcmVjdGlvbiIsInNjcm9sbE9mZnNldEF0dHIiLCJzaXplQXR0ciIsIm9mZnNldEF0dHIiLCJzdGFydERyYWciLCJldmVudE9mZnNldCIsInBhZ2VZIiwicGFnZVgiLCJkcmFnIiwiZW5kRHJhZyIsInNjcm9sbFBvcyIsIm9mZiIsImp1bXBTY3JvbGwiLCJqdW1wQW10Iiwib3JpZ2luYWxFdmVudCIsImxheWVyWSIsImxheWVyWCIsIm9uU2Nyb2xsZWQiLCJmbGFzaFNjcm9sbGJhciIsInJlc2l6ZVNjcm9sbGJhciIsImNvbnRlbnRTaXplIiwic2Nyb2xsT2Zmc2V0Iiwic2Nyb2xsYmFyU2l6ZSIsInNjcm9sbGJhclJhdGlvIiwiaGFuZGxlT2Zmc2V0IiwiaGFuZGxlU2l6ZSIsImZsb29yIiwiY3NzIiwibGVmdCIsIndpZHRoIiwic2hvd1Njcm9sbGJhciIsImF1dG9IaWRlIiwicmVzaXplU2Nyb2xsQ29udGVudCIsInNjcm9sbGJhcldpZHRoIiwidGVtcEVsIiwiYXBwZW5kIiwid2lkdGhNaW51c1Njcm9sbGJhcnMiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJyZWNhbGN1bGF0ZSIsImV4dGVuZCIsImZuIiwiZGVmYXVsdHMiLCJvbmxvYWQiLCJwcmVwZW5kIiwid3JhcENvbnRlbnQiLCJ3cmFwIiwib3B0aW9uIiwiZGVzdHJveSIsImhvb2tOYW1lIiwiaW5zZXJ0QmVmb3JlIiwicmVtb3ZlRGF0YSIsInJldHVyblZhbCIsIm1ldGhvZE5hbWUiLCJhcmdzIiwiRXJyb3IiLCJvbkluaXQiLCJvbkRlc3Ryb3kiLCJjc2NybGIiLCLQoXVzdG9tSW50ZXJhY3Rpb24iLCJ0YXJnZXRzIiwiaW5pdCIsIl90aGlzMiIsInRvdWNoZW5kRGVsYXkiLCJldmVudHMiLCIkdGFyZ2V0cyIsIiRlbGVtZW50IiwicGFyZW50Tm9kZSIsInR5cGUiLCJ0b3VjaGVkIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJzZXRBdHRyaWJ1dGUiLCJfc3RlcDIiLCJfaXRlcmF0b3IyIiwicmVtb3ZlQXR0cmlidXRlIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBLFNBQVNBLDRCQUE0QkMsRUFBR0MsR0FBa0IsSUFBSUMsRUFBdUIsb0JBQVhDLFFBQTBCSCxFQUFFRyxPQUFPQyxXQUFhSixFQUFFLGNBQWUsSUFBS0UsRUFBSSxDQUFFLEdBQUlHLE1BQU1DLFFBQVFOLEtBQU9FLEVBQUtLLDZCQUE2QlAsS0FBT0MsR0FBa0JELEdBQXlCLGlCQUFiQSxFQUFFUSxPQUFxQixDQUFNTixJQUFJRixFQUFJRSxHQUFJLElBQUlPLEVBQUksRUFBT0MsRUFBSSxXQUFjLEVBQUcsTUFBTyxDQUFFQyxFQUFHRCxF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VzFiLEtBQUtDLE1BQVEsQ0FDdkN3YixFQUFPdmIsTUFFYnliLGdCQUFnQixhQUMzQixDQUNGLENBQUUsTUFBT3BiLEdBQ1BtYixFQUFXdmIsRUFBRUksRUFDZixDQUFDLFFBQ0NtYixFQUFXcmIsR0FDYixDQUNGLEdBQUd5YSxFQUFPQyxnQkFLRSxjQUFkdFIsRUFBTTJSLE9BQ0xOLEVBQU9PLFNBQ1JKLEVBQVMsSUFDVEEsRUFBUyxJQUFNeFIsRUFBTUMsT0FFckJ1UixFQUFTLEdBQUdPLGFBQWEsYUFBYyxJQUl6QixjQUFkL1IsRUFBTTJSLE9BQ0xOLEVBQU9PLFNBQ1JKLEVBQVMsSUFDVEEsRUFBUyxJQUFNeFIsRUFBTUMsU0FFckJ1UixFQUFTLEdBQUdVLGdCQUFnQixjQUM1QlYsRUFBUyxHQUFHVSxnQkFBZ0IsZUFHWixhQUFkbFMsRUFBTTJSLE9BQXdCTixFQUFPTyxTQUFXSixFQUFTLEdBQzNEQSxFQUFTLEdBQUdPLGFBQWEsYUFBYyxJQUdsQixXQUFkL1IsRUFBTTJSLE9BQXNCTixFQUFPTyxTQUFXSixFQUFTLElBQzlEQSxFQUFTLEdBQUdVLGdCQUFnQixhQUVoQyxFQUVBdFIsU0FBUy9DLGlCQUFpQixhQUFjMFQsR0FDeEMzUSxTQUFTL0MsaUJBQWlCLFdBQVkwVCxHQUN0QzNRLFNBQVMvQyxpQkFBaUIsYUFBYzBULEdBQVEsR0FDaEQzUSxTQUFTL0MsaUJBQWlCLGFBQWMwVCxHQUFRLEdBQ2hEM1EsU0FBUy9DLGlCQUFpQixZQUFhMFQsR0FDdkMzUSxTQUFTL0MsaUJBQWlCLFVBQVcwVCxHQUNyQzNRLFNBQVMvQyxpQkFBaUIsY0FBZTBULEVBQzNDIiwiZmlsZSI6InNjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoXCJ1c2Ugc3RyaWN0XCIpO1xyXG5cclxuY29uc3QgYnJlYWtwb2ludHMgPSB7XHJcbiAgeHM6IDAsXHJcbiAgc206IDU3NixcclxuICBtZDogNzY4LFxyXG4gIGxnOiAxMDI0LFxyXG4gIHhsOiAxMjgwLFxyXG59O1xyXG5cclxubGV0IHRvdWNoc3RhcnRYID0gMDtcclxubGV0IHRvdWNoZW5kWCA9IDA7XHJcblxyXG5mdW5jdGlvbiB0aHJvdHRsZShkZWxheSwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcclxuICB2YXIgX3JlZiA9IG9wdGlvbnMgfHwge30sXHJcbiAgICBfcmVmJG5vVHJhaWxpbmcgPSBfcmVmLm5vVHJhaWxpbmcsXHJcbiAgICBub1RyYWlsaW5nID0gX3JlZiRub1RyYWlsaW5nID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkbm9UcmFpbGluZyxcclxuICAgIF9yZWYkbm9MZWFkaW5nID0gX3JlZi5ub0xlYWRpbmcsXHJcbiAgICBub0xlYWRpbmcgPSBfcmVmJG5vTGVhZGluZyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJG5vTGVhZGluZyxcclxuICAgIF9yZWYkZGVib3VuY2VNb2RlID0gX3JlZi5kZWJvdW5jZU1vZGUsXHJcbiAgICBkZWJvdW5jZU1vZGUgPSBfcmVmJGRlYm91bmNlTW9kZSA9PT0gdm9pZCAwID8gdW5kZWZpbmVkIDogX3JlZiRkZWJvdW5jZU1vZGU7XHJcblxyXG4gIHZhciB0aW1lb3V0SUQ7XHJcbiAgdmFyIGNhbmNlbGxlZCA9IGZhbHNlO1xyXG5cclxuICB2YXIgbGFzdEV4ZWMgPSAwO1xyXG5cclxuICBmdW5jdGlvbiBjbGVhckV4aXN0aW5nVGltZW91dCgpIHtcclxuICAgIGlmICh0aW1lb3V0SUQpIHtcclxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJRCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjYW5jZWwob3B0aW9ucykge1xyXG4gICAgdmFyIF9yZWYyID0gb3B0aW9ucyB8fCB7fSxcclxuICAgICAgX3JlZjIkdXBjb21pbmdPbmx5ID0gX3JlZjIudXBjb21pbmdPbmx5LFxyXG4gICAgICB1cGNvbWluZ09ubHkgPSBfcmVmMiR1cGNvbWluZ09ubHkgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjIkdXBjb21pbmdPbmx5O1xyXG5cclxuICAgIGNsZWFyRXhpc3RpbmdUaW1lb3V0KCk7XHJcbiAgICBjYW5jZWxsZWQgPSAhdXBjb21pbmdPbmx5O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gd3JhcHBlcigpIHtcclxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmd1bWVudHNfID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xyXG4gICAgICBhcmd1bWVudHNfW19rZXldID0gYXJndW1lbnRzW19rZXldO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBlbGFwc2VkID0gRGF0ZS5ub3coKSAtIGxhc3RFeGVjO1xyXG5cclxuICAgIGlmIChjYW5jZWxsZWQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGV4ZWMoKSB7XHJcbiAgICAgIGxhc3RFeGVjID0gRGF0ZS5ub3coKTtcclxuICAgICAgY2FsbGJhY2suYXBwbHkoc2VsZiwgYXJndW1lbnRzXyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xlYXIoKSB7XHJcbiAgICAgIHRpbWVvdXRJRCA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIW5vTGVhZGluZyAmJiBkZWJvdW5jZU1vZGUgJiYgIXRpbWVvdXRJRCkge1xyXG4gICAgICBleGVjKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJFeGlzdGluZ1RpbWVvdXQoKTtcclxuXHJcbiAgICBpZiAoZGVib3VuY2VNb2RlID09PSB1bmRlZmluZWQgJiYgZWxhcHNlZCA+IGRlbGF5KSB7XHJcbiAgICAgIGlmIChub0xlYWRpbmcpIHtcclxuICAgICAgICBsYXN0RXhlYyA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICAgIGlmICghbm9UcmFpbGluZykge1xyXG4gICAgICAgICAgdGltZW91dElEID0gc2V0VGltZW91dChkZWJvdW5jZU1vZGUgPyBjbGVhciA6IGV4ZWMsIGRlbGF5KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZXhlYygpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKG5vVHJhaWxpbmcgIT09IHRydWUpIHtcclxuICAgICAgdGltZW91dElEID0gc2V0VGltZW91dChcclxuICAgICAgICBkZWJvdW5jZU1vZGUgPyBjbGVhciA6IGV4ZWMsXHJcbiAgICAgICAgZGVib3VuY2VNb2RlID09PSB1bmRlZmluZWQgPyBkZWxheSAtIGVsYXBzZWQgOiBkZWxheVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgd3JhcHBlci5jYW5jZWwgPSBjYW5jZWw7XHJcblxyXG4gIHJldHVybiB3cmFwcGVyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkZWJvdW5jZShkZWxheSwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcclxuICB2YXIgX3JlZiA9IG9wdGlvbnMgfHwge30sXHJcbiAgICBfcmVmJGF0QmVnaW4gPSBfcmVmLmF0QmVnaW4sXHJcbiAgICBhdEJlZ2luID0gX3JlZiRhdEJlZ2luID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkYXRCZWdpbjtcclxuXHJcbiAgcmV0dXJuIHRocm90dGxlKGRlbGF5LCBjYWxsYmFjaywge1xyXG4gICAgZGVib3VuY2VNb2RlOiBhdEJlZ2luICE9PSBmYWxzZSxcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcclxuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XHJcbiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7XHJcbiAgICBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcclxuICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XHJcbiAgICB9O1xyXG4gIH0gZWxzZSB7XHJcbiAgICBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcclxuICAgICAgcmV0dXJuIG9iaiAmJlxyXG4gICAgICAgIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG4gICAgICAgIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmXHJcbiAgICAgICAgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlXHJcbiAgICAgICAgPyBcInN5bWJvbFwiXHJcbiAgICAgICAgOiB0eXBlb2Ygb2JqO1xyXG4gICAgfTtcclxuICB9XHJcbiAgcmV0dXJuIF90eXBlb2Yob2JqKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2xpZGVyRGVib3VuY2UoZnVuYywgaW50ZXJ2YWwsIGNvbnRleHQpIHtcclxuICB2YXIgdGltZW91dCA9IGZhbHNlO1xyXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgX2FyZ3VtZW50cyA9IGFyZ3VtZW50cyxcclxuICAgICAgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGlmICh0aW1lb3V0KSBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCB8fCBfdGhpcywgX2FyZ3VtZW50cyk7XHJcbiAgICB9LCBpbnRlcnZhbCk7XHJcbiAgfTtcclxufVxyXG5cclxuY29uc3QgU2xpZGVyQ29uc3RydWN0b3IgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XHJcbiAgZnVuY3Rpb24gU2xpZGVyQ29uc3RydWN0b3IoZWxlbWVudCkge1xyXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNsaWRlckNvbnN0cnVjdG9yKTtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX2NyZWF0ZUNsYXNzKFNsaWRlckNvbnN0cnVjdG9yLCBbXHJcbiAgICB7XHJcbiAgICAgIGtleTogXCJpbml0XCIsXHJcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgIGxldCBfdGhpczMgPSB0aGlzO1xyXG5cclxuICAgICAgICB0aGlzLnBhcmFtcyA9IHt9O1xyXG4gICAgICAgIHRoaXMucGFyYW1zLmF1dG9wbGF5ID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtYXV0b3BsYXktdGltZW91dFwiKSAhPT0gbnVsbDtcclxuICAgICAgICB0aGlzLnBhcmFtcy5hdXRvcGxheVRpbWVvdXQgPSArdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtYXV0b3BsYXktdGltZW91dFwiKSB8fCA1MDAwO1xyXG4gICAgICAgIHRoaXMucGFyYW1zLmFycm93cyA9IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW5vLWFycm93c1wiKSA9PT0gbnVsbCA/IHRydWUgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgY29uc3QgbWVkaWFRdWVyeSA9IHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1pbi13aWR0aDogNTc1Ljk4cHgpXCIpO1xyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBtZWRpYSBxdWVyeSBpcyB0cnVlXHJcbiAgICAgICAgaWYgKG1lZGlhUXVlcnkubWF0Y2hlcykge1xyXG4gICAgICAgICAgdGhpcy5wYXJhbXMuZG90cyA9IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW5vLWRvdHNcIikgPT09IG51bGwgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMucGFyYW1zLmRvdHMgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5wYXJhbXMuYWRhcHRpdmVIZWlnaHQgPSB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1hZGFwdGl2ZS1oZWlnaHRcIikgIT09IG51bGw7XHJcbiAgICAgICAgdGhpcy5wYXJhbXMuY2VudGVyTW9kZSA9IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNlbnRlclwiKSA9PT0gbnVsbCA/IGZhbHNlIDogdHJ1ZTtcclxuICAgICAgICB0aGlzLnBhcmFtcy5jb3VudCA9IHt9O1xyXG4gICAgICAgIHRoaXMucGFyYW1zLmNvdW50LnhzID0gK3RoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNsaWRlc1wiKSB8fCAxO1xyXG4gICAgICAgIHRoaXMucGFyYW1zLmNvdW50LnNtID0gK3RoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNtLXNsaWRlc1wiKSB8fCB0aGlzLnBhcmFtcy5jb3VudC54cztcclxuICAgICAgICB0aGlzLnBhcmFtcy5jb3VudC5tZCA9ICt0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1tZC1zbGlkZXNcIikgfHwgdGhpcy5wYXJhbXMuY291bnQuc207XHJcbiAgICAgICAgdGhpcy5wYXJhbXMuY291bnQubGcgPSArdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtbGctc2xpZGVzXCIpIHx8IHRoaXMucGFyYW1zLmNvdW50Lm1kO1xyXG4gICAgICAgIHRoaXMucGFyYW1zLmNvdW50LnhsID0gK3RoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXhsLXNsaWRlc1wiKSB8fCB0aGlzLnBhcmFtcy5jb3VudC5sZztcclxuICAgICAgICB0aGlzLnBhcmFtcy5yb3dzID0ge307XHJcbiAgICAgICAgKHRoaXMucGFyYW1zLnJvd3MueHMgPSArdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtcm93c1wiKSB8fCAxKSxcclxuICAgICAgICAgICh0aGlzLnBhcmFtcy5yb3dzLnNtID0gK3RoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNtLXJvd3NcIikgfHwgdGhpcy5wYXJhbXMucm93cy54cyksXHJcbiAgICAgICAgICAodGhpcy5wYXJhbXMucm93cy5tZCA9ICt0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1tZC1yb3dzXCIpIHx8IHRoaXMucGFyYW1zLnJvd3Muc20pLFxyXG4gICAgICAgICAgKHRoaXMucGFyYW1zLnJvd3MubGcgPSArdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtbGctcm93c1wiKSB8fCB0aGlzLnBhcmFtcy5yb3dzLm1kKSxcclxuICAgICAgICAgICh0aGlzLnBhcmFtcy5yb3dzLnhsID0gK3RoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXhsLXJvd3NcIikgfHwgdGhpcy5wYXJhbXMucm93cy5sZyk7XHJcbiAgICAgICAgdGhpcy5wYXJhbXMuc3RhdGUgPSB7fTtcclxuICAgICAgICBPYmplY3Qua2V5cyhicmVha3BvaW50cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5LCBpbmRleCkge1xyXG4gICAgICAgICAgbGV0IGJyZWFrcG9pbnQgPSBpbmRleCAhPT0gMCA/IFwiLVwiICsga2V5ICsgXCItXCIgOiBcIi1cIjtcclxuXHJcbiAgICAgICAgICBsZXQgYXR0ciA9IF90aGlzMy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGFcIi5jb25jYXQoYnJlYWtwb2ludCwgXCJtb3VudGVkXCIpKTtcclxuXHJcbiAgICAgICAgICBpZiAoYXR0ciA9PT0gbnVsbCAmJiBpbmRleCAhPT0gMCkge1xyXG4gICAgICAgICAgICBsZXQgcHJldktleSA9IE9iamVjdC5rZXlzKGJyZWFrcG9pbnRzKVtpbmRleCAtIDFdO1xyXG4gICAgICAgICAgICBfdGhpczMucGFyYW1zLnN0YXRlW2tleV0gPSBfdGhpczMucGFyYW1zLnN0YXRlW3ByZXZLZXldO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChhdHRyID09PSBcInRydWVcIiB8fCAoaW5kZXggPT09IDAgJiYgYXR0ciAhPT0gXCJmYWxzZVwiKSkge1xyXG4gICAgICAgICAgICBfdGhpczMucGFyYW1zLnN0YXRlW2tleV0gPSB0cnVlO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgX3RoaXMzLnBhcmFtcy5zdGF0ZVtrZXldID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zbGlkZXMgPSBbXTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5zTW9iaWxlSGlkZGVuU2xpZGVzID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmNoaWxkTm9kZXMuZm9yRWFjaChmdW5jdGlvbiAoc2xpZGUpIHtcclxuICAgICAgICAgIGlmICghc2xpZGUudGFnTmFtZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgIGlmIChzbGlkZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNsaWRlLW1vYmlsZS1oaWRkZW5cIikgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgX3RoaXMzLmNvbnRhaW5zTW9iaWxlSGlkZGVuU2xpZGVzID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBfdGhpczMuc2xpZGVzLnB1c2goc2xpZGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlSWNvbnMoKTtcclxuICAgICAgICB0aGlzLmNoZWNrU2xpZGVyU3RhdGUoKTtcclxuICAgICAgICB0aGlzLmNoZWNrU2xpZGVyU3RhdGVEZWJvdW5jZWQgPSBzbGlkZXJEZWJvdW5jZSh0aGlzLmNoZWNrU2xpZGVyU3RhdGUsIDUwMCwgdGhpcyk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5jaGVja1NsaWRlclN0YXRlRGVib3VuY2VkKTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIGtleTogXCJjcmVhdGVJY29uc1wiLFxyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlSWNvbnMoKSB7XHJcbiAgICAgICAgbGV0IGxlZnRJY29uID1cclxuICAgICAgICAgICdcXG4gICAgICA8c3ZnIHZpZXdCb3g9XCIwIDAgMTEgMTlcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxcbiAgICAgICAgPHBhdGggZD1cIk0xLjQgMTguMUwwIDE2LjdMNy42IDkuMTAwMDFMMCAxLjVMMS40IDBMMTAuNCA5LjEwMDAxQzEwLjQgOS4xMDAwMSAxLjMgMTguMSAxLjQgMTguMVpcIi8+XFxuICAgICAgPC9zdmc+XFxuICAgICc7XHJcbiAgICAgICAgbGV0IHJpZ2h0SWNvbiA9XHJcbiAgICAgICAgICAnXFxuICAgICAgPHN2ZyB2aWV3Qm94PVwiMCAwIDExIDE5XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cXG4gICAgICAgIDxwYXRoIGQ9XCJNOS4wMDAzOSA3LjI0NzkyZS0wNUwxMC40MDA0IDEuNDAwMDdMMi44MDAzOSA5LjAwMDA5TDEwLjQwMDQgMTYuNjAwMUw5LjAwMDM5IDE4LjEwMDFMMC4wMDAzOTEwMDYgOS4wMDAwOUMwLjAwMDM5MTAwNiA5LjAwMDA5IDkuMTAwMzkgNy4yNDc5MmUtMDUgOS4wMDAzOSA3LjI0NzkyZS0wNVpcIi8+XFxuICAgICAgPC9zdmc+XFxuICAgICc7XHJcbiAgICAgICAgbGV0IGxlZnRJY29uQ2xhc3MgPSBcImN1c3RvbS1pY29uLWxlZnRcIjtcclxuICAgICAgICBsZXQgcmlnaHRJY29uQ2xhc3MgPSBcImN1c3RvbS1pY29uLXJpZ2h0XCI7XHJcbiAgICAgICAgbGV0IGN1c3RvbUljb25zID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICAgICAgICBcIi5cIi5jb25jYXQobGVmdEljb25DbGFzcywgXCIsIC5cIikuY29uY2F0KHJpZ2h0SWNvbkNsYXNzKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY3VzdG9tSWNvbnMuZm9yRWFjaChmdW5jdGlvbiAoaWNvbikge1xyXG4gICAgICAgICAgbGV0IGlzTGVmdEljb24gPSBpY29uLmNsYXNzTGlzdC5jb250YWlucyhsZWZ0SWNvbkNsYXNzKTtcclxuICAgICAgICAgIGxldCBpc1JpZ2h0SWNvbiA9IGljb24uY2xhc3NMaXN0LmNvbnRhaW5zKHJpZ2h0SWNvbkNsYXNzKTtcclxuXHJcbiAgICAgICAgICBpZiAoaXNMZWZ0SWNvbikge1xyXG4gICAgICAgICAgICBpY29uLmNsYXNzTGlzdC5yZW1vdmUobGVmdEljb25DbGFzcyk7XHJcbiAgICAgICAgICAgIGxlZnRJY29uID0gaWNvbi5vdXRlckhUTUw7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzUmlnaHRJY29uKSB7XHJcbiAgICAgICAgICAgIGljb24uY2xhc3NMaXN0LnJlbW92ZShyaWdodEljb25DbGFzcyk7XHJcbiAgICAgICAgICAgIHJpZ2h0SWNvbiA9IGljb24ub3V0ZXJIVE1MO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGljb24ucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5uZXh0QXJyb3cgPSAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidXR0b24gYnV0dG9uX3N0eWxlLTEgc2xpY2stbmV4dFwiPicuY29uY2F0KFxyXG4gICAgICAgICAgbGVmdEljb24sXHJcbiAgICAgICAgICBcIjwvYnV0dG9uPlwiXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLnByZXZBcnJvdyA9ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ1dHRvbiBidXR0b25fc3R5bGUtMSBzbGljay1wcmV2XCI+Jy5jb25jYXQoXHJcbiAgICAgICAgICByaWdodEljb24sXHJcbiAgICAgICAgICBcIjwvYnV0dG9uPlwiXHJcbiAgICAgICAgKTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIGtleTogXCJjaGVja1NsaWRlclN0YXRlXCIsXHJcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja1NsaWRlclN0YXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm1vdW50ZWQgJiYgdGhpcy5zYXZlZFdpbmRvd1dpZHRoID09PSB3aW5kb3cuaW5uZXJXaWR0aCkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuc2F2ZWRXaW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5tb3VudGVkKSB7XHJcbiAgICAgICAgICB0aGlzLnVubW91bnQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBzdGF0ZTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgYnJlYWtwb2ludCBpbiBicmVha3BvaW50cykge1xyXG4gICAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoID49IGJyZWFrcG9pbnRzW2JyZWFrcG9pbnRdKSB7XHJcbiAgICAgICAgICAgIHN0YXRlID0gdGhpcy5wYXJhbXMuc3RhdGVbYnJlYWtwb2ludF07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc3RhdGUpIHtcclxuICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuXHJcbiAgICAgICAgICBpZiAodGhpcy5jb250YWluc01vYmlsZUhpZGRlblNsaWRlcykge1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrU2xpZGVzVmlzaWJpbGl0eSgpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHRoaXMubW91bnQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIGtleTogXCJjaGVja1NsaWRlc1Zpc2liaWxpdHlcIixcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrU2xpZGVzVmlzaWJpbGl0eSgpIHtcclxuICAgICAgICBsZXQgX3RoaXM0ID0gdGhpcztcclxuXHJcbiAgICAgICAgdGhpcy5zbGlkZXMuZm9yRWFjaChmdW5jdGlvbiAoc2xpZGUpIHtcclxuICAgICAgICAgIHNsaWRlLnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2xpZGVzLmZvckVhY2goZnVuY3Rpb24gKHNsaWRlKSB7XHJcbiAgICAgICAgICBsZXQgc2hvdWxkQmVIaWRkZW4gPSBzbGlkZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNsaWRlLW1vYmlsZS1oaWRkZW5cIikgIT09IG51bGw7XHJcbiAgICAgICAgICBsZXQgYnJlYWtwb2ludCA9IHdpbmRvdy5pbm5lcldpZHRoIDwgYnJlYWtwb2ludHMuc207XHJcblxyXG4gICAgICAgICAgaWYgKCEoc2hvdWxkQmVIaWRkZW4gJiYgYnJlYWtwb2ludCkpIHtcclxuICAgICAgICAgICAgX3RoaXM0LmVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYmVmb3JlZW5kXCIsIHNsaWRlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIGtleTogXCJtb3VudFwiLFxyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gbW91bnQoKSB7XHJcbiAgICAgICAgJCh0aGlzLmVsZW1lbnQpLnNsaWNrKHtcclxuICAgICAgICAgIGF1dG9wbGF5OiB0aGlzLnBhcmFtcy5hdXRvcGxheSxcclxuICAgICAgICAgIGF1dG9wbGF5U3BlZWQ6IHRoaXMucGFyYW1zLmF1dG9wbGF5VGltZW91dCxcclxuICAgICAgICAgIG1vYmlsZUZpcnN0OiB0cnVlLFxyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiB0aGlzLnBhcmFtcy5jb3VudC54cyxcclxuICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiB0aGlzLnBhcmFtcy5jb3VudC54cyxcclxuICAgICAgICAgIHJvd3M6IHRoaXMucGFyYW1zLnJvd3MueHMsXHJcbiAgICAgICAgICBwcmV2QXJyb3c6IHRoaXMucHJldkFycm93LFxyXG4gICAgICAgICAgbmV4dEFycm93OiB0aGlzLm5leHRBcnJvdyxcclxuICAgICAgICAgIGFycm93czogdGhpcy5wYXJhbXMuYXJyb3dzLFxyXG4gICAgICAgICAgYWRhcHRpdmVIZWlnaHQ6IHRoaXMucGFyYW1zLmFkYXB0aXZlSGVpZ2h0LFxyXG4gICAgICAgICAgZG90czogdGhpcy5wYXJhbXMuZG90cyxcclxuICAgICAgICAgIGNlbnRlck1vZGU6IHRoaXMucGFyYW1zLmNlbnRlck1vZGUsXHJcbiAgICAgICAgICBhY2Nlc3NpYmlsaXR5OiBmYWxzZSxcclxuICAgICAgICAgIHJlc3BvbnNpdmU6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IGJyZWFrcG9pbnRzLnNtIC0gMSxcclxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiB0aGlzLnBhcmFtcy5jb3VudC5zbSxcclxuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiB0aGlzLnBhcmFtcy5jb3VudC5zbSxcclxuICAgICAgICAgICAgICAgIHJvd3M6IHRoaXMucGFyYW1zLnJvd3Muc20sXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IGJyZWFrcG9pbnRzLm1kIC0gMSxcclxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiB0aGlzLnBhcmFtcy5jb3VudC5tZCxcclxuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiB0aGlzLnBhcmFtcy5jb3VudC5tZCxcclxuICAgICAgICAgICAgICAgIHJvd3M6IHRoaXMucGFyYW1zLnJvd3MubWQsXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IGJyZWFrcG9pbnRzLmxnIC0gMSxcclxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiB0aGlzLnBhcmFtcy5jb3VudC5sZyxcclxuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiB0aGlzLnBhcmFtcy5jb3VudC5sZyxcclxuICAgICAgICAgICAgICAgIHJvd3M6IHRoaXMucGFyYW1zLnJvd3MubGcsXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IGJyZWFrcG9pbnRzLnhsIC0gMSxcclxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiB0aGlzLnBhcmFtcy5jb3VudC54bCxcclxuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiB0aGlzLnBhcmFtcy5jb3VudC54bCxcclxuICAgICAgICAgICAgICAgIHJvd3M6IHRoaXMucGFyYW1zLnJvd3MueGwsXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGV0IHRvdWNoc3RhcnRYID0gMDtcclxuICAgICAgICBsZXQgdG91Y2hlbmRYID0gMDtcclxuXHJcbiAgICAgICAgJChcIi5zbGlkZXItY29uc3RydWN0b3IgLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX3NlY3RvclwiKS5vbihcIm1vdXNlbW92ZVwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgIGNvbnN0IHRhcmdldCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XHJcbiAgICAgICAgICBjb25zdCBpZCA9IHRhcmdldC5hdHRyKFwiZGF0YS1zZWN0b3JcIik7XHJcbiAgICAgICAgICBjb25zdCBwYXJlbnQgPSB0YXJnZXQucGFyZW50KCkucGFyZW50KCk7XHJcbiAgICAgICAgICBwYXJlbnRcclxuICAgICAgICAgIC5maW5kKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKVxyXG4gICAgICAgICAgLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpO1xyXG4gICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICAuZmluZChcIi5wcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpXHJcbiAgICAgICAgICAucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpO1xyXG4gICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICAuZmluZChgW2RhdGEtc2VjdG9yLWltYWdlPVwiJHtpZH1cIl1gKVxyXG4gICAgICAgICAgLmFkZENsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpO1xyXG4gICAgICAgICAgcGFyZW50LmZpbmQoYFtkYXRhLXNlY3Rvci1kb3Q9XCIke2lkfVwiXWApLmFkZENsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fZG90X2FjdGl2ZVwiKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChcIi5zbGlkZXItY29uc3RydWN0b3IgLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX3NlY3RvcnNcIikub24oXCJ0b3VjaHN0YXJ0XCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgdG91Y2hzdGFydFggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5zY3JlZW5YO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiLnNsaWRlci1jb25zdHJ1Y3RvciAucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fc2VjdG9yc1wiKS5vbihcInRvdWNoZW5kXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgdG91Y2hlbmRYID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uc2NyZWVuWDtcclxuICAgICAgICAgIGNvbnN0IHBhcmVudCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkucGFyZW50KCk7XHJcbiAgICAgICAgICBjb25zdCBpbWcgPSBwYXJlbnQuZmluZChcIi5wcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICAgICAgICBjb25zdCBpZCA9IE51bWJlcihpbWcuYXR0cihcImRhdGEtc2VjdG9yLWltYWdlXCIpKTtcclxuICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IHBhcmVudC5maW5kKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlXCIpLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICBpZiAodG91Y2hlbmRYIDwgdG91Y2hzdGFydFgpIHtcclxuICAgICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICAgIC5maW5kKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKVxyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICAgICAgICAgIHBhcmVudFxyXG4gICAgICAgICAgICAuZmluZChcIi5wcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIik7XHJcbiAgICAgICAgICAgIGlmIChpZCA+PSBsZW5ndGgpIHtcclxuICAgICAgICAgICAgICBwYXJlbnRcclxuICAgICAgICAgICAgICAuZmluZChgW2RhdGEtc2VjdG9yLWltYWdlPVwiJHsxfVwiXWApXHJcbiAgICAgICAgICAgICAgLmFkZENsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgIHBhcmVudFxyXG4gICAgICAgICAgICAgIC5maW5kKGBbZGF0YS1zZWN0b3ItZG90PVwiJHsxfVwiXWApXHJcbiAgICAgICAgICAgICAgLmFkZENsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fZG90X2FjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICAgIC5maW5kKGBbZGF0YS1zZWN0b3ItaW1hZ2U9XCIke2lkICsgMX1cIl1gKVxyXG4gICAgICAgICAgICAuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICAgICAgICAgIHBhcmVudFxyXG4gICAgICAgICAgICAuZmluZChgW2RhdGEtc2VjdG9yLWRvdD1cIiR7aWQgKyAxfVwiXWApXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAodG91Y2hlbmRYID4gdG91Y2hzdGFydFgpIHtcclxuICAgICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICAgIC5maW5kKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKVxyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICAgICAgICAgIHBhcmVudFxyXG4gICAgICAgICAgICAuZmluZChcIi5wcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIik7XHJcbiAgICAgICAgICAgIGlmIChpZCA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICAgICAgLmZpbmQoYFtkYXRhLXNlY3Rvci1pbWFnZT1cIiR7bGVuZ3RofVwiXWApXHJcbiAgICAgICAgICAgICAgLmFkZENsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgIHBhcmVudFxyXG4gICAgICAgICAgICAgIC5maW5kKGBbZGF0YS1zZWN0b3ItZG90PVwiJHtsZW5ndGh9XCJdYClcclxuICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYXJlbnRcclxuICAgICAgICAgICAgLmZpbmQoYFtkYXRhLXNlY3Rvci1pbWFnZT1cIiR7aWQgLSAxfVwiXWApXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKTtcclxuICAgICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICAgIC5maW5kKGBbZGF0YS1zZWN0b3ItZG90PVwiJHtpZCAtIDF9XCJdYClcclxuICAgICAgICAgICAgLmFkZENsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fZG90X2FjdGl2ZVwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5tb3VudGVkID0gdHJ1ZTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIGtleTogXCJ1bm1vdW50XCIsXHJcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB1bm1vdW50KCkge1xyXG4gICAgICAgICQodGhpcy5lbGVtZW50KS5zbGljayhcInVuc2xpY2tcIik7XHJcbiAgICAgICAgdGhpcy5tb3VudGVkID0gZmFsc2U7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIF0pO1xyXG5cclxuICByZXR1cm4gU2xpZGVyQ29uc3RydWN0b3I7XHJcbn0pKCk7XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgIGlmICghZXZlbnQudGFyZ2V0LmNsb3Nlc3QoXCIuYm90dG9tLW1vYmlsZS1tZW51XCIpICYmICQoXCIuYm90dG9tLW1vYmlsZS1tZW51LWxpc3RfYWN0aXZlXCIpKSB7XHJcbiAgICAgICQoXCIuYm90dG9tLW1vYmlsZS1tZW51LWxpc3RfYWN0aXZlXCIpLnJlbW92ZUNsYXNzKFwiYm90dG9tLW1vYmlsZS1tZW51LWxpc3RfYWN0aXZlXCIpO1xyXG4gICAgICAkKFwiLmJvdHRvbS1tb2JpbGUtbWVudS1idXR0b25fYWN0aXZlXCIpLnJlbW92ZUNsYXNzKFwiYm90dG9tLW1vYmlsZS1tZW51LWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gICQoXCIuY2F0YWxvZy1maWx0ZXItYWNjb3JkaW9uIGEub3BlbmVyXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICQodGhpcykucGFyZW50KCkuZmluZChcInVsOmZpcnN0XCIpLnNsaWRlVG9nZ2xlKCk7XHJcbiAgICAkKHRoaXMpLnBhcmVudCgpLnRvZ2dsZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH0pO1xyXG5cclxuICAkKFwiW2RhdGEtb3Blbi1kcm9wZG93bi1jb250ZW50XVwiKS5vbihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcclxuICAgIGNvbnN0IHBhcmVudCA9IHRhcmdldC5wYXJlbnQoKTtcclxuICAgIHBhcmVudC5maW5kKFwiW2RhdGEtY2xvc2UtZHJvcGRvd24tY29udGVudF1cIikucmVtb3ZlQ2xhc3MoXCJkLW5vbmVcIik7XHJcbiAgICB0YXJnZXQuYWRkQ2xhc3MoXCJkLW5vbmVcIik7XHJcbiAgfSk7XHJcblxyXG4gICQoXCJbZGF0YS1jbG9zZS1kcm9wZG93bi1jb250ZW50XVwiKS5vbihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcclxuICAgIGNvbnN0IHBhcmVudCA9IHRhcmdldC5wYXJlbnQoKTtcclxuICAgIHBhcmVudC5maW5kKFwiW2RhdGEtb3Blbi1kcm9wZG93bi1jb250ZW50XVwiKS5yZW1vdmVDbGFzcyhcImQtbm9uZVwiKTtcclxuICAgIHRhcmdldC5hZGRDbGFzcyhcImQtbm9uZVwiKTtcclxuICB9KTtcclxuXHJcbiAgJChcIltkYXRhLXRvZ2dsZS1ib3R0b20tZHJvcGRvd25dXCIpLm9uKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAkKFwiLmJvdHRvbS1tb2JpbGUtbWVudS1saXN0XCIpLnRvZ2dsZUNsYXNzKFwiYm90dG9tLW1vYmlsZS1tZW51LWxpc3RfYWN0aXZlXCIpO1xyXG4gICAgJChldmVudC5jdXJyZW50VGFyZ2V0KS50b2dnbGVDbGFzcyhcImJvdHRvbS1tb2JpbGUtbWVudS1idXR0b25fYWN0aXZlXCIpO1xyXG4gIH0pO1xyXG5cclxuICAkKFwiW2RhdGEtY2xvc2Utc2VhcmNoLW1vZGFsXVwiKS5vbihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICQoXCIuc2VhcmNoLW1vZGFsLXdpbmRvd1wiKS5yZW1vdmVDbGFzcyhcImQtYmxvY2tcIik7XHJcbiAgfSk7XHJcblxyXG4gICQoXCJbZGF0YS1vcGVuLXNlYXJjaC1tb2RhbF1cIikub24oXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAkKFwiLnNlYXJjaC1tb2RhbC13aW5kb3dcIikuYWRkQ2xhc3MoXCJkLWJsb2NrXCIpO1xyXG4gICAgJChcIi5zZWFyY2gtbW9kYWwtd2luZG93X19pbnB1dFwiKS5mb2N1cygpO1xyXG4gIH0pO1xyXG5cclxuICAkKFwiW2RhdGEtY2xlYXItaW5wdXRdXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgJChcIltkYXRhLWlucHV0XVwiKS52YWwoXCJcIik7XHJcbiAgfSk7XHJcblxyXG4gICQoXCIubGlrZS1idG5cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gIH0pO1xyXG4gICQoXCIuY2l0eS1zZWxlY3Rpb25fX2xpbmtcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIi5jaXR5LXNlbGVjdGlvbl9fbGlzdFwiKS50b2dnbGUoMCk7XHJcbiAgfSk7XHJcbiAgJCh3aW5kb3cpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICBpZiAoIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImNpdHktc2VsZWN0aW9uX19saW5rXCIpKSB7XHJcbiAgICAgICQoXCIuY2l0eS1zZWxlY3Rpb25fX2xpc3RcIikudG9nZ2xlKGZhbHNlKTtcclxuICAgIH1cclxuICB9KTtcclxuICAkKFwiLmJ1cmdlci1tZW51XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICQoXCIubW9iaWxlLW1lbnVcIikudG9nZ2xlKDApO1xyXG4gIH0pO1xyXG4gICQoXCIuY2F0YWxvZy1pbm5lci1idG5cIikuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoXCJvcGVuXCIpO1xyXG4gICAgJChcIi5jYXRhbG9nLWhlYWRlci1jb250ZW50XCIpLnRvZ2dsZSgwKTtcclxuICB9KTtcclxuICAkKFwiLmNhdGFsb2ctaW5uZXItYnRuLC5jYXRhbG9nLW1lbnVfX2hlYWQgYVwiKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgJChcIi5jYXRhbG9nLW1lbnVcIikudG9nZ2xlKDApO1xyXG4gIH0pO1xyXG4gICQoXCIuYnVyZ2VyLWNhdGFsb2dcIikuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoXCJvcGVuXCIpO1xyXG4gIH0pO1xyXG4gICQoXCIuc2hhcmUtYnRuXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICQoXCIuc2hhcmUtYmxvY2tfX3Nob3dcIikudG9nZ2xlKDApO1xyXG4gIH0pO1xyXG4gICQoXCIuY2xvc2UtcGFuZWxcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIi5ib3R0b20tcGFuZWxcIikudG9nZ2xlKDApO1xyXG4gIH0pO1xyXG4gICQoXCIuZmlsdGVyLWJ0biwgLmNsb3NlLWJ0bi0yXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICQoXCIuY2F0YWxvZy1maWx0ZXJcIikudG9nZ2xlKDApO1xyXG4gIH0pO1xyXG4gICQoXCIuY2F0YWxvZy1zaWRlX190aXRsZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLmNhdGFsb2ctc2lkZV9fY29udGVudFwiKS50b2dnbGUoMCk7XHJcbiAgICAkKFwiLmNhdGFsb2ctc2lkZV9fY29udGVudC1hY2NvcmRlb25cIikudG9nZ2xlKDApO1xyXG4gIH0pO1xyXG4gICQoXCIuY2F0YWxvZy1vcGVuZWRcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIi5jYXRhbG9nLW9wZW5lZCAuc3VibWVudVwiKS50b2dnbGUoMCk7XHJcbiAgfSk7XHJcbiAgJChcIi5idXJnZXItbWVudVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKFwibWVudS1vblwiKTtcclxuICB9KTtcclxuICAkKFwiLmNhdGFsb2ctaW5uZXJcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcyhcIm9wZW5cIik7XHJcbiAgICAkKFwiLmNhdGFsb2ctaW5uZXItY29udGVudFwiKS50b2dnbGUoMCk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgLy8gVGhpcyB3aWxsIHNlbGVjdCBldmVyeXRoaW5nIHdpdGggdGhlIGNsYXNzIHNtb290aFNjcm9sbFxyXG4gIC8vIFRoaXMgc2hvdWxkIHByZXZlbnQgcHJvYmxlbXMgd2l0aCBjYXJvdXNlbCwgc2Nyb2xsc3B5LCBldGMuLi5cclxuICAkKFwiLnNtb290aFNjcm9sbFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoXHJcbiAgICAgIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL15cXC8vLCBcIlwiKSA9PSB0aGlzLnBhdGhuYW1lLnJlcGxhY2UoL15cXC8vLCBcIlwiKSAmJlxyXG4gICAgICBsb2NhdGlvbi5ob3N0bmFtZSA9PSB0aGlzLmhvc3RuYW1lXHJcbiAgICApIHtcclxuICAgICAgdmFyIHRhcmdldCA9ICQodGhpcy5oYXNoKTtcclxuICAgICAgdGFyZ2V0ID0gdGFyZ2V0Lmxlbmd0aCA/IHRhcmdldCA6ICQoXCJbbmFtZT1cIiArIHRoaXMuaGFzaC5zbGljZSgxKSArIFwiXVwiKTtcclxuXHJcbiAgICAgIGlmICh0YXJnZXQubGVuZ3RoKSB7XHJcbiAgICAgICAgJChcImh0bWwsYm9keVwiKS5hbmltYXRlKFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBzY3JvbGxUb3A6IHRhcmdldC5vZmZzZXQoKS50b3AsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgMTAwMFxyXG4gICAgICAgICk7IC8vIFRoZSBudW1iZXIgaGVyZSByZXByZXNlbnRzIHRoZSBzcGVlZCBvZiB0aGUgc2Nyb2xsIGluIG1pbGxpc2Vjb25kc1xyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxufSk7XHJcblxyXG52YXIgYmlnU2xpZGVzID0gJChcIi5tYWluLXNsaWRlciAub3dsLWNhcm91c2VsXCIpLFxyXG4gIGF1dG9QbGF5VGltZW91dFNlYyA9IHBhcnNlSW50KGJpZ1NsaWRlcy5kYXRhKFwiYXV0b3BsYXktdGltZW91dFwiKSk7XHJcbmJpZ1NsaWRlcy5vd2xDYXJvdXNlbCh7XHJcbiAgbG9vcDogdHJ1ZSxcclxuICBtYXJnaW46IDUsXHJcbiAgbmF2OiB0cnVlLFxyXG4gIGRvdHM6IHRydWUsXHJcbiAgaXRlbXM6IDEsXHJcbiAgYXV0b3BsYXk6IHRydWUsXHJcbiAgYXV0b3BsYXlUaW1lb3V0OiBhdXRvUGxheVRpbWVvdXRTZWMgKiAxMDAwLFxyXG4gIG5hdlRleHQ6IFtcclxuICAgICc8c3ZnIGNsYXNzPVwiaWNvblwiIHZpZXdCb3g9XCIwIDAgMTAuNSAxOC4xXCI+PHBhdGggc3Ryb2tlPVwibm9uZVwiIGQ9XCJNOSwwbDEuNCwxLjRMMi44LDlsNy42LDcuNkw5LDE4LjFMMCw5QzAsOSw5LjEsMCw5LDB6XCI+PC9wYXRoPjwvc3ZnPicsXHJcbiAgICAnPHN2ZyBjbGFzcz1cImljb25cIiB2aWV3Qm94PVwiMCAwIDEwLjUgMTguMVwiPjxwYXRoIHN0cm9rZT1cIm5vbmVcIiBkPVwiTTEuNCwxOC4xTDAsMTYuN2w3LjYtNy42TDAsMS41TDEuNCwwbDksOS4xQzEwLjQsOS4xLDEuMywxOC4xLDEuNCwxOC4xelwiPjwvcGF0aD48L3N2Zz4nLFxyXG4gIF0sXHJcbn0pO1xyXG52YXIgcmFkaW9CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRlbGl2ZXJ5LXNlbGVjdGlvbiBpbnB1dFt0eXBlPVwicmFkaW9cIl0nKTtcclxudmFyIGNob2ljZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRlbGl2ZXJ5LWNob2ljZVwiKTtcclxucmFkaW9CdXR0b25zLmZvckVhY2goZnVuY3Rpb24gKGJ0bikge1xyXG4gIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjbGlja2VkID0gdGhpcztcclxuICAgIGNob2ljZXMuZm9yRWFjaChmdW5jdGlvbiAoY2hvaWNlKSB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBjaG9pY2UuY2xhc3NMaXN0LmNvbnRhaW5zKGNsaWNrZWQuaWQpIHx8XHJcbiAgICAgICAgY2hvaWNlLmNsYXNzTGlzdC5jb250YWlucyhcImRlbGl2ZXJ5LXR5cGUtXCIgKyBjbGlja2VkLnZhbHVlKVxyXG4gICAgICApIHtcclxuICAgICAgICBjaG9pY2Uuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjaG9pY2Uuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiQoXCIuc2hvcHBpbmctY2FydC1pdGVtX19kZWxldGVcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICQodGhpcykucGFyZW50KFwiLnNob3BwaW5nLWNhcnQtaXRlbVwiKS5yZW1vdmUoKTtcclxufSk7XHJcbiQoXCIuc2xpZGVyIC5vd2wtY2Fyb3VzZWxcIikub3dsQ2Fyb3VzZWwoe1xyXG4gIGxvb3A6IHRydWUsXHJcbiAgbWFyZ2luOiAwLFxyXG4gIGl0ZW1zOiAxLFxyXG4gIG5hdjogdHJ1ZSxcclxufSk7XHJcbiQoXCIubmV3cy1zbGlkZXIgLm93bC1jYXJvdXNlbFwiKS5vd2xDYXJvdXNlbCh7XHJcbiAgbG9vcDogdHJ1ZSxcclxuICBtYXJnaW46IDAsXHJcbiAgaXRlbXM6IDQsXHJcbiAgcmVzcG9uc2l2ZToge1xyXG4gICAgMDoge1xyXG4gICAgICBuYXY6IGZhbHNlLFxyXG4gICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICBpdGVtczogMSxcclxuICAgIH0sXHJcbiAgICA0Nzk6IHtcclxuICAgICAgbmF2OiBmYWxzZSxcclxuICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgaXRlbXM6IDIsXHJcbiAgICB9LFxyXG4gICAgNzY4OiB7XHJcbiAgICAgIG5hdjogdHJ1ZSxcclxuICAgICAgZG90czogZmFsc2UsXHJcbiAgICAgIGl0ZW1zOiAzLFxyXG4gICAgfSxcclxuICAgIDk5Mjoge1xyXG4gICAgICBpdGVtczogNCxcclxuICAgIH0sXHJcbiAgfSxcclxufSk7XHJcbiQoXCIuYWN0aW9uLXNsaWRlciAub3dsLWNhcm91c2VsXCIpLm93bENhcm91c2VsKHtcclxuICBsb29wOiB0cnVlLFxyXG4gIG1hcmdpbjogMjAsXHJcbiAgbmF2OiB0cnVlLFxyXG4gIGRvdHM6IGZhbHNlLFxyXG4gIGl0ZW1zOiAzLFxyXG4gIHJlc3BvbnNpdmU6IHtcclxuICAgIDA6IHtcclxuICAgICAgbmF2OiBmYWxzZSxcclxuICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgaXRlbXM6IDEsXHJcbiAgICB9LFxyXG4gICAgNDc5OiB7XHJcbiAgICAgIG5hdjogZmFsc2UsXHJcbiAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgIGl0ZW1zOiAyLFxyXG4gICAgfSxcclxuICAgIDc2ODoge1xyXG4gICAgICBuYXY6IHRydWUsXHJcbiAgICAgIGRvdHM6IGZhbHNlLFxyXG4gICAgICBpdGVtczogMyxcclxuICAgIH0sXHJcbiAgfSxcclxufSk7XHJcbiQoXCIucGFydG5lcnMtc2xpZGVyIC5vd2wtY2Fyb3VzZWxcIikub3dsQ2Fyb3VzZWwoe1xyXG4gIGxvb3A6IHRydWUsXHJcbiAgbWFyZ2luOiAwLFxyXG4gIG5hdjogdHJ1ZSxcclxuICBkb3RzOiBmYWxzZSxcclxuICBpdGVtczogNSxcclxuICByZXNwb25zaXZlOiB7XHJcbiAgICAwOiB7XHJcbiAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgIG5hdjogZmFsc2UsXHJcbiAgICAgIGl0ZW1zOiAxLFxyXG4gICAgfSxcclxuICAgIDU2Njoge1xyXG4gICAgICBuYXY6IGZhbHNlLFxyXG4gICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICBpdGVtczogMixcclxuICAgIH0sXHJcbiAgICA3Njg6IHtcclxuICAgICAgbmF2OiBmYWxzZSxcclxuICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgaXRlbXM6IDMsXHJcbiAgICB9LFxyXG4gICAgOTAwOiB7XHJcbiAgICAgIG5hdjogZmFsc2UsXHJcbiAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgIGl0ZW1zOiA0LFxyXG4gICAgfSxcclxuICAgIDk1MDoge1xyXG4gICAgICBkb3RzOiBmYWxzZSxcclxuICAgIH0sXHJcbiAgfSxcclxufSk7XHJcblxyXG4oZnVuY3Rpb24gKCQpIHtcclxuICB2YXIgY3VzdG9tU2VsZWN0ID0gJChcInNlbGVjdC5jdXN0b20tc2VsZWN0XCIpOyAvLyBGSVJTVCwgY3JlYXRlIHRoZSBjdXN0b20gc2VsZWN0IG1lbnVzIGZyb20gdGhlIGV4aXN0aW5nIHNlbGVjdFxyXG5cclxuICBjdXN0b21TZWxlY3QuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdGhhdCA9ICQodGhpcyk7XHJcbiAgICB2YXIgbGlzdElEID0gdGhhdC5hdHRyKFwiaWRcIiksXHJcbiAgICAgIGdyb3VwcyA9IHRoYXQuY2hpbGRyZW4oXCJvcHRncm91cFwiKSxcclxuICAgICAgdGhlT3B0aW9ucyA9IFwiXCIsXHJcbiAgICAgIHN0YXJ0aW5nT3B0aW9uID0gXCJcIixcclxuICAgICAgY3VzdG9tU2VsZWN0ID0gXCJcIjsgLy9jaGVjayBpZiB0aGVyZSBhcmUgb3B0aW9uIGdyb3Vwc1xyXG5cclxuICAgIGlmIChncm91cHMubGVuZ3RoKSB7XHJcbiAgICAgIGdyb3Vwcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY3VyR3JvdXAgPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciBjdXJOYW1lID0gY3VyR3JvdXAuYXR0cihcImxhYmVsXCIpOyAvL09wZW4gdGhlIG9wdGlvbiBncm91cFxyXG5cclxuICAgICAgICB0aGVPcHRpb25zICs9ICc8bGkgY2xhc3M9XCJvcHRncm91cFwiPicgKyBjdXJOYW1lICsgXCI8L2xpPlwiOyAvL2dldCB0aGUgb3B0aW9uc1xyXG5cclxuICAgICAgICBjdXJHcm91cC5jaGlsZHJlbihcIm9wdGlvblwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHZhciBjdXJPcHQgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgdmFyIGN1clZhbCA9IGN1ck9wdC5hdHRyKFwidmFsdWVcIiksXHJcbiAgICAgICAgICAgIGN1ckh0bWwgPSBjdXJPcHQuaHRtbCgpLFxyXG4gICAgICAgICAgICBpc1NlbGVjdGVkID0gY3VyT3B0LmF0dHIoXCJzZWxlY3RlZFwiKTtcclxuXHJcbiAgICAgICAgICBpZiAoaXNTZWxlY3RlZCA9PT0gXCJzZWxlY3RlZFwiKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0aW5nT3B0aW9uID0gY3VySHRtbDtcclxuICAgICAgICAgICAgdGhlT3B0aW9ucyArPSAnPGxpIGNsYXNzPVwic2VsZWN0ZWRcIiBkYXRhLXZhbHVlPVwiJyArIGN1clZhbCArICdcIj4nICsgY3VySHRtbCArIFwiPC9saT5cIjtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoZU9wdGlvbnMgKz0gJzxsaSBkYXRhLXZhbHVlPVwiJyArIGN1clZhbCArICdcIj4nICsgY3VySHRtbCArIFwiPC9saT5cIjtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTsgLy9DbG9zZSB0aGUgb3B0aW9uIGdyb3VwXHJcbiAgICAgICAgLy90aGVPcHRpb25zICs9ICc8bGkgY2xhc3M9XCJvcHRncm91cC1jbG9zZVwiPjwvbGk+JztcclxuICAgICAgfSk7IC8vYWRkIG9wdGlvbnMgbm90IGluIGEgZ3JvdXAgdG8gdGhlIHRvcCBvZiB0aGUgbGlzdFxyXG5cclxuICAgICAgdGhhdC5jaGlsZHJlbihcIm9wdGlvblwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY3VyT3B0ID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgY3VyVmFsID0gY3VyT3B0LmF0dHIoXCJ2YWx1ZVwiKSxcclxuICAgICAgICAgIGN1ckh0bWwgPSBjdXJPcHQuaHRtbCgpLFxyXG4gICAgICAgICAgaXNTZWxlY3RlZCA9IGN1ck9wdC5hdHRyKFwic2VsZWN0ZWRcIik7XHJcblxyXG4gICAgICAgIGlmIChpc1NlbGVjdGVkID09PSBcInNlbGVjdGVkXCIpIHtcclxuICAgICAgICAgIHN0YXJ0aW5nT3B0aW9uID0gY3VySHRtbDtcclxuICAgICAgICAgIHRoZU9wdGlvbnMgPVxyXG4gICAgICAgICAgICAnPGxpIGNsYXNzPVwic2VsZWN0ZWRcIiBkYXRhLXZhbHVlPVwiJyArIGN1clZhbCArICdcIj4nICsgY3VySHRtbCArIFwiPC9saT5cIiArIHRoZU9wdGlvbnM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoZU9wdGlvbnMgPSAnPGxpIGRhdGEtdmFsdWU9XCInICsgY3VyVmFsICsgJ1wiPicgKyBjdXJIdG1sICsgXCI8L2xpPlwiICsgdGhlT3B0aW9ucztcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhhdC5jaGlsZHJlbihcIm9wdGlvblwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY3VyT3B0ID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgY3VyVmFsID0gY3VyT3B0LmF0dHIoXCJ2YWx1ZVwiKSxcclxuICAgICAgICAgIGN1ckh0bWwgPSBjdXJPcHQuaHRtbCgpLFxyXG4gICAgICAgICAgaXNTZWxlY3RlZCA9IGN1ck9wdC5hdHRyKFwic2VsZWN0ZWRcIik7XHJcblxyXG4gICAgICAgIGlmIChpc1NlbGVjdGVkID09PSBcInNlbGVjdGVkXCIpIHtcclxuICAgICAgICAgIHN0YXJ0aW5nT3B0aW9uID0gY3VySHRtbDtcclxuICAgICAgICAgIHRoZU9wdGlvbnMgKz0gJzxsaSBjbGFzcz1cInNlbGVjdGVkXCIgZGF0YS12YWx1ZT1cIicgKyBjdXJWYWwgKyAnXCI+JyArIGN1ckh0bWwgKyBcIjwvbGk+XCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoZU9wdGlvbnMgKz0gJzxsaSBkYXRhLXZhbHVlPVwiJyArIGN1clZhbCArICdcIj4nICsgY3VySHRtbCArIFwiPC9saT5cIjtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSAvL2J1aWxkIHRoZSBjdXN0b20gc2VsZWN0XHJcblxyXG4gICAgY3VzdG9tU2VsZWN0ID1cclxuICAgICAgJzxkaXYgY2xhc3M9XCJkcm9wZG93bi1jb250YWluZXJcIj48ZGl2IGNsYXNzPVwiZHJvcGRvd24tc2VsZWN0IGVudHlwby1kb3duLW9wZW4tYmlnXCI+PHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIjdGFiLWFycm93XCI+PC91c2U+PC9zdmc+PHNwYW4+JyArXHJcbiAgICAgIHN0YXJ0aW5nT3B0aW9uICtcclxuICAgICAgJzwvc3Bhbj48L2Rpdj48dWwgY2xhc3M9XCJkcm9wZG93bi1zZWxlY3QtdWxcIiBkYXRhLXJvbGU9XCInICtcclxuICAgICAgbGlzdElEICtcclxuICAgICAgJ1wiPicgK1xyXG4gICAgICB0aGVPcHRpb25zICtcclxuICAgICAgXCI8L3VsPjwvZGl2PiA8IS0tIC5jdXN0b20tc2VsZWN0LXdyYXBwZXIgLS0+XCI7IC8vYXBwZW5kIGl0IGFmdGVyIHRoZSBhY3R1YWwgc2VsZWN0XHJcblxyXG4gICAgJChjdXN0b21TZWxlY3QpLmluc2VydEFmdGVyKHRoYXQpO1xyXG4gIH0pO1xyXG4gIHZhciBzZWxlY3RkZCA9ICQoXCIuZHJvcGRvd24tc2VsZWN0XCIpLFxyXG4gICAgc2VsZWN0dWwgPSAkKFwiLmRyb3Bkb3duLXNlbGVjdC11bFwiKSxcclxuICAgIHNlbGVjdGxpID0gJChcIi5kcm9wZG93bi1zZWxlY3QtdWwgbGlcIik7IC8vVEhFTiBtYWtlIHRoZW0gd29ya1xyXG5cclxuICBzZWxlY3RkZC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICQodGhpcykucGFyZW50KFwiLmRyb3Bkb3duLWNvbnRhaW5lclwiKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICB9KTsgLy9IaWRlIGl0IG9uIG1vdXNlbGVhdmVcclxuXHJcbiAgc2VsZWN0dWwub24oXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICQodGhpcykucGFyZW50KFwiLmRyb3Bkb3duLWNvbnRhaW5lclwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICB9KTsgLy9zZWxlY3QgdGhlIG9wdGlvblxyXG5cclxuICBzZWxlY3RsaS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB0aGF0ID0gJCh0aGlzKTsgLy9lbnN1cmUgY2xpY2tpbmcgZ3JvdXAgbGFiZWxzIGRvZXMgbm90IGNhdXNlIGNoYW5nZVxyXG5cclxuICAgIGlmICghdGhhdC5oYXNDbGFzcyhcIm9wdGdyb3VwXCIpKSB7XHJcbiAgICAgIHZhciBwYXJlbnRVbCA9IHRoYXQucGFyZW50KFwidWxcIiksXHJcbiAgICAgICAgdGhpc2RkID0gcGFyZW50VWwuc2libGluZ3MoXCIuZHJvcGRvd24tc2VsZWN0XCIpLFxyXG4gICAgICAgIGxpaHRtbCA9IHRoYXQuaHRtbCgpLFxyXG4gICAgICAgIGxpdmFsdWUgPSB0aGF0LmF0dHIoXCJkYXRhLXZhbHVlXCIpLFxyXG4gICAgICAgIG9yaWdpbmFsU2VsZWN0ID0gXCIjXCIgKyBwYXJlbnRVbC5hdHRyKFwiZGF0YS1yb2xlXCIpOyAvL2Nsb3NlIHRoZSBkcm9wZG93blxyXG5cclxuICAgICAgcGFyZW50VWwucGFyZW50KFwiLmRyb3Bkb3duLWNvbnRhaW5lclwiKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKTsgLy9yZW1vdmUgc2VsZWN0ZWQgY2xhc3MgZnJvbSBhbGwgbGlzdCBpdGVtc1xyXG5cclxuICAgICAgdGhhdC5zaWJsaW5ncyhcImxpXCIpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIik7IC8vYWRkIC5zZWxlY3RlZCB0byBjbGlja2VkIGxpXHJcblxyXG4gICAgICB0aGF0LmFkZENsYXNzKFwic2VsZWN0ZWRcIik7IC8vc2V0IHRoZSB2YWx1ZSBvZiB0aGUgaGlkZGVuIGlucHV0XHJcblxyXG4gICAgICAkKG9yaWdpbmFsU2VsZWN0KS52YWwobGl2YWx1ZSk7IC8vY2hhbmdlIHRoZSBkcm9wZG93biB0ZXh0XHJcblxyXG4gICAgICB0aGlzZGQuY2hpbGRyZW4oXCJzcGFuXCIpLmh0bWwobGlodG1sKTtcclxuICAgIH1cclxuICB9KTtcclxufSkoalF1ZXJ5KTtcclxuXHJcbiQoXCIudGFiLWNvbnRlbnRcIikuaGlkZSgpO1xyXG4kKFwiLnRhYi1jb250ZW50OmZpcnN0XCIpLnNob3coKTtcclxuLyogaWYgaW4gdGFiIG1vZGUgKi9cclxuXHJcbiQoXCJ1bC50YWJzIGxpLC5wcm9kdWN0LWNhcmRfX3Jldmlldy1saW5rIGEsLnNjaGVkdWxlLWJ0biBhXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAkKFwiLnRhYi1jb250ZW50XCIpLmhpZGUoKTtcclxuICB2YXIgYWN0aXZlVGFiID0gJCh0aGlzKS5hdHRyKFwicmVsXCIpO1xyXG4gICQoXCIjXCIgKyBhY3RpdmVUYWIpLmZhZGVJbigpO1xyXG4gICQoXCJ1bC50YWJzIGxpXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICQodGhpcykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgJChcIi50YWJfZHJhd2VyX2hlYWRpbmdcIikucmVtb3ZlQ2xhc3MoXCJkX2FjdGl2ZVwiKTtcclxuICAkKFwiLnRhYl9kcmF3ZXJfaGVhZGluZ1tyZWxePSdcIiArIGFjdGl2ZVRhYiArIFwiJ11cIikuYWRkQ2xhc3MoXCJkX2FjdGl2ZVwiKTtcclxufSk7XHJcbi8qIGlmIGluIGRyYXdlciBtb2RlICovXHJcblxyXG4kKFwiLnRhYl9kcmF3ZXJfaGVhZGluZ1wiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGRfYWN0aXZlVGFiID0gJCh0aGlzKS5hdHRyKFwicmVsXCIpLFxyXG4gICAgYWN0aXZlVGFiQmxvY2sgPSAkKFwiI1wiICsgZF9hY3RpdmVUYWIgKyBcIjpoaWRkZW5cIiksXHJcbiAgICAkdGhpc0FjdGl2ZSA9ICQodGhpcykubm90KFwiLmRfYWN0aXZlXCIpO1xyXG4gICQoXCIudGFiLWNvbnRlbnRcIikuaGlkZSgpO1xyXG4gIGFjdGl2ZVRhYkJsb2NrLmZhZGVJbigpO1xyXG4gICQoXCIudGFiX2RyYXdlcl9oZWFkaW5nXCIpLnJlbW92ZUNsYXNzKFwiZF9hY3RpdmVcIik7XHJcbiAgJHRoaXNBY3RpdmUuYWRkQ2xhc3MoXCJkX2FjdGl2ZVwiKTtcclxuICAkKFwidWwudGFicyBsaVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAkKFwidWwudGFicyBsaVtyZWxePSdcIiArIGRfYWN0aXZlVGFiICsgXCInXVwiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxufSk7XHJcbi8qIEV4dHJhIGNsYXNzIFwidGFiX2xhc3RcIlxyXG4gdG8gYWRkIGJvcmRlciB0byByaWdodCBzaWRlXHJcbiBvZiBsYXN0IHRhYiAqL1xyXG5cclxuJChcInVsLnRhYnMgbGlcIikubGFzdCgpLmFkZENsYXNzKFwidGFiX2xhc3RcIik7XHJcbmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gIGpRdWVyeShcIi5zY2hlZHVsZS1idG4gYVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBqUXVlcnkoXCIuc2NoZWR1bGUtbGlua1wiKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICB9KTtcclxufSk7XHJcbmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gIGpRdWVyeShcIi5wcm9kdWN0LWNhcmRfX3Jldmlldy1saW5rIGFcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgalF1ZXJ5KFwiLnJldmlldy10YWItbGlua1wiKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICB9KTtcclxufSk7IC8vc2xpZGVzaG93XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHN5bmMxID0gJChcIiNzeW5jMVwiKTtcclxuICB2YXIgc3luYzIgPSAkKFwiI3N5bmMyXCIpO1xyXG4gIHZhciBzbGlkZXNQZXJQYWdlID0gMzsgLy9nbG9iYWx5IGRlZmluZSBudW1iZXIgb2YgZWxlbWVudHMgcGVyIHBhZ2VcclxuXHJcbiAgdmFyIHN5bmNlZFNlY29uZGFyeSA9IHRydWU7XHJcbiAgc3luYzFcclxuICAub3dsQ2Fyb3VzZWwoe1xyXG4gICAgaXRlbXM6IDEsXHJcbiAgICBzbGlkZVNwZWVkOiAyMDAwLFxyXG4gICAgbmF2OiB0cnVlLFxyXG4gICAgYXV0b3BsYXk6IGZhbHNlLFxyXG4gICAgZG90czogdHJ1ZSxcclxuICAgIGxvb3A6IHRydWUsXHJcbiAgICByZXNwb25zaXZlUmVmcmVzaFJhdGU6IDIwMCxcclxuICAgIG1hcmdpbjogMTAsXHJcbiAgfSlcclxuICAub24oXCJjaGFuZ2VkLm93bC5jYXJvdXNlbFwiLCBzeW5jUG9zaXRpb24pO1xyXG4gIHN5bmMyXHJcbiAgLm9uKFwiaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIHN5bmMyLmZpbmQoXCIub3dsLWl0ZW1cIikuZXEoMCkuYWRkQ2xhc3MoXCJjdXJyZW50XCIpO1xyXG4gIH0pXHJcbiAgLm93bENhcm91c2VsKHtcclxuICAgIGl0ZW1zOiBzbGlkZXNQZXJQYWdlLFxyXG4gICAgZG90czogdHJ1ZSxcclxuICAgIG5hdjogdHJ1ZSxcclxuICAgIG1hcmdpbjogMTAsXHJcbiAgICBzbWFydFNwZWVkOiAyMDAsXHJcbiAgICBzbGlkZVNwZWVkOiA1MDAsXHJcbiAgICBzbGlkZUJ5OiBzbGlkZXNQZXJQYWdlLFxyXG4gICAgLy9hbHRlcm5hdGl2ZWx5IHlvdSBjYW4gc2xpZGUgYnkgMSwgdGhpcyB3YXkgdGhlIGFjdGl2ZSBzbGlkZSB3aWxsIHN0aWNrIHRvIHRoZSBmaXJzdCBpdGVtIGluIHRoZSBzZWNvbmQgY2Fyb3VzZWxcclxuICAgIHJlc3BvbnNpdmVSZWZyZXNoUmF0ZTogMTAwLFxyXG4gIH0pXHJcbiAgLm9uKFwiY2hhbmdlZC5vd2wuY2Fyb3VzZWxcIiwgc3luY1Bvc2l0aW9uMik7XHJcblxyXG4gIGZ1bmN0aW9uIHN5bmNQb3NpdGlvbihlbCkge1xyXG4gICAgLy9pZiB5b3Ugc2V0IGxvb3AgdG8gZmFsc2UsIHlvdSBoYXZlIHRvIHJlc3RvcmUgdGhpcyBuZXh0IGxpbmVcclxuICAgIC8vdmFyIGN1cnJlbnQgPSBlbC5pdGVtLmluZGV4O1xyXG4gICAgLy9pZiB5b3UgZGlzYWJsZSBsb29wIHlvdSBoYXZlIHRvIGNvbW1lbnQgdGhpcyBibG9ja1xyXG4gICAgdmFyIGNvdW50ID0gZWwuaXRlbS5jb3VudCAtIDE7XHJcbiAgICB2YXIgY3VycmVudCA9IE1hdGgucm91bmQoZWwuaXRlbS5pbmRleCAtIGVsLml0ZW0uY291bnQgLyAyIC0gMC41KTtcclxuXHJcbiAgICBpZiAoY3VycmVudCA8IDApIHtcclxuICAgICAgY3VycmVudCA9IGNvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50ID4gY291bnQpIHtcclxuICAgICAgY3VycmVudCA9IDA7XHJcbiAgICB9IC8vZW5kIGJsb2NrXHJcblxyXG4gICAgc3luYzIuZmluZChcIi5vd2wtaXRlbVwiKS5yZW1vdmVDbGFzcyhcImN1cnJlbnRcIikuZXEoY3VycmVudCkuYWRkQ2xhc3MoXCJjdXJyZW50XCIpO1xyXG4gICAgdmFyIG9uc2NyZWVuID0gc3luYzIuZmluZChcIi5vd2wtaXRlbS5hY3RpdmVcIikubGVuZ3RoIC0gMTtcclxuICAgIHZhciBzdGFydCA9IHN5bmMyLmZpbmQoXCIub3dsLWl0ZW0uYWN0aXZlXCIpLmZpcnN0KCkuaW5kZXgoKTtcclxuICAgIHZhciBlbmQgPSBzeW5jMi5maW5kKFwiLm93bC1pdGVtLmFjdGl2ZVwiKS5sYXN0KCkuaW5kZXgoKTtcclxuXHJcbiAgICBpZiAoY3VycmVudCA+IGVuZCkge1xyXG4gICAgICBzeW5jMi5kYXRhKFwib3dsLmNhcm91c2VsXCIpLnRvKGN1cnJlbnQsIDEwMCwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGN1cnJlbnQgPCBzdGFydCkge1xyXG4gICAgICBzeW5jMi5kYXRhKFwib3dsLmNhcm91c2VsXCIpLnRvKGN1cnJlbnQgLSBvbnNjcmVlbiwgMTAwLCB0cnVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHN5bmNQb3NpdGlvbjIoZWwpIHtcclxuICAgIGlmIChzeW5jZWRTZWNvbmRhcnkpIHtcclxuICAgICAgdmFyIG51bWJlciA9IGVsLml0ZW0uaW5kZXg7XHJcbiAgICAgIHN5bmMxLmRhdGEoXCJvd2wuY2Fyb3VzZWxcIikudG8obnVtYmVyLCAxMDAsIHRydWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3luYzIub24oXCJjbGlja1wiLCBcIi5vd2wtaXRlbVwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdmFyIG51bWJlciA9ICQodGhpcykuaW5kZXgoKTtcclxuICAgIHN5bmMxLmRhdGEoXCJvd2wuY2Fyb3VzZWxcIikudG8obnVtYmVyLCAzMDAsIHRydWUpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbigoKSA9PiB7XHJcbiAgY29uc3QgYnV0dG9uRGVmYXVsdFZpZXcgPSAkKFwiLmJ1dHRvbjFcIik7XHJcbiAgY29uc3QgYnV0dG9uV2lkZVZpZXcgPSAkKFwiLmJ1dHRvbjJcIik7XHJcbiAgY29uc3QgYnV0dG9uTGluZVZpZXcgPSAkKFwiLmJ1dHRvbjNcIik7XHJcbiAgY29uc3QgaXRlbXMgPSAkKFwiLnByb2R1Y3QtaXRlbVwiKTtcclxuXHJcbiAgYnV0dG9uV2lkZVZpZXcuY2xpY2soKGV2ZW50KSA9PiB7XHJcbiAgICBidXR0b25EZWZhdWx0Vmlldy5yZW1vdmVDbGFzcyhcImN1cnJlbnRcIik7XHJcbiAgICBidXR0b25MaW5lVmlldy5yZW1vdmVDbGFzcyhcImN1cnJlbnRcIik7XHJcbiAgICAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKFwiY3VycmVudFwiKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY2F0YWxvZ0dyaWRcIiwgXCJ3aWRlXCIpO1xyXG4gICAgaXRlbXMucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWl0ZW0tLWxpbmVcIik7XHJcbiAgICBpdGVtcy5hZGRDbGFzcyhcInByb2R1Y3QtaXRlbS0td2lkZVwiKTtcclxuICB9KTtcclxuXHJcbiAgYnV0dG9uTGluZVZpZXcuY2xpY2soKGV2ZW50KSA9PiB7XHJcbiAgICBidXR0b25XaWRlVmlldy5yZW1vdmVDbGFzcyhcImN1cnJlbnRcIik7XHJcbiAgICBidXR0b25EZWZhdWx0Vmlldy5yZW1vdmVDbGFzcyhcImN1cnJlbnRcIik7XHJcbiAgICAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKFwiY3VycmVudFwiKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY2F0YWxvZ0dyaWRcIiwgXCJ3aWRlXCIpO1xyXG4gICAgaXRlbXMucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWl0ZW0tLXdpZGVcIik7XHJcbiAgICBpdGVtcy5hZGRDbGFzcyhcInByb2R1Y3QtaXRlbS0tbGluZVwiKTtcclxuICB9KTtcclxuXHJcbiAgYnV0dG9uRGVmYXVsdFZpZXcuY2xpY2soKGV2ZW50KSA9PiB7XHJcbiAgICBidXR0b25XaWRlVmlldy5yZW1vdmVDbGFzcyhcImN1cnJlbnRcIik7XHJcbiAgICBidXR0b25MaW5lVmlldy5yZW1vdmVDbGFzcyhcImN1cnJlbnRcIik7XHJcbiAgICAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKFwiY3VycmVudFwiKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY2F0YWxvZ0dyaWRcIiwgXCJkZWZhdWx0XCIpO1xyXG4gICAgaXRlbXMucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWl0ZW0tLXdpZGVcIik7XHJcbiAgICBpdGVtcy5yZW1vdmVDbGFzcyhcInByb2R1Y3QtaXRlbS0tbGluZVwiKTtcclxuICB9KTtcclxufSkoKTtcclxuXHJcbnZhciBrZXlwcmVzc1NsaWRlcnMgPSAkKFwiLnJhbmdlLXNsaWRlclwiKTtcclxuJChrZXlwcmVzc1NsaWRlcnMpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBrZXlwcmVzc1NsaWRlcikge1xyXG4gIHZhciBmaWVsZF9uYW1lID0gJChrZXlwcmVzc1NsaWRlcikuZGF0YShcIm5hbWVcIik7XHJcbiAgdmFyIGlucHV0MCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaWRfXCIgKyBmaWVsZF9uYW1lICsgXCJfMFwiKTtcclxuICB2YXIgaW5wdXQxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpZF9cIiArIGZpZWxkX25hbWUgKyBcIl8xXCIpO1xyXG4gIHZhciBpbnB1dHMgPSBbaW5wdXQwLCBpbnB1dDFdO1xyXG5cclxuICBpZiAoaW5wdXQwICYmIGlucHV0MSkge1xyXG4gICAgdmFyIHN0YXJ0VmFsID0gcGFyc2VJbnQoaW5wdXQwLmRhdGFzZXQuY3VycmVudFZhbHVlKSxcclxuICAgICAgZW5kVmFsID0gcGFyc2VJbnQoaW5wdXQxLmRhdGFzZXQuY3VycmVudFZhbHVlKTtcclxuICAgIHZhciBtaW5WYWwgPSBwYXJzZUludChpbnB1dDAuZGF0YXNldC5taW5WYWx1ZSksXHJcbiAgICAgIG1heFZhbCA9IHBhcnNlSW50KGlucHV0MS5kYXRhc2V0Lm1heFZhbHVlKTtcclxuICB9XHJcblxyXG4gIHZhciBwb3N0Zml4ID0gXCJcIjtcclxuXHJcbiAgaWYgKGZpZWxkX25hbWUgPT0gXCJwcmljZV9yYW5nZVwiKSB7XHJcbiAgICBwb3N0Zml4ID0gXCIg4oK9XCI7XHJcbiAgfVxyXG5cclxuICBpZiAodHlwZW9mIG5vVWlTbGlkZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgIG5vVWlTbGlkZXIuY3JlYXRlKGtleXByZXNzU2xpZGVyLCB7XHJcbiAgICAgIHN0YXJ0OiBbc3RhcnRWYWwsIGVuZFZhbF0sXHJcbiAgICAgIGNvbm5lY3Q6IHRydWUsXHJcbiAgICAgIHJhbmdlOiB7XHJcbiAgICAgICAgbWluOiBtaW5WYWwsXHJcbiAgICAgICAgbWF4OiBtYXhWYWwsXHJcbiAgICAgIH0sXHJcbiAgICAgIGZvcm1hdDogd051bWIoe1xyXG4gICAgICAgIGRlY2ltYWxzOiAwLFxyXG4gICAgICAgIHRob3VzYW5kOiBcIiBcIixcclxuICAgICAgICBwb3N0Zml4OiBwb3N0Zml4LFxyXG4gICAgICB9KSxcclxuICAgICAgc3RlcDogMSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaWYgKGtleXByZXNzU2xpZGVyICE9PSBudWxsICYmIGtleXByZXNzU2xpZGVyLm5vVWlTbGlkZXIpIHtcclxuICAgIGtleXByZXNzU2xpZGVyLm5vVWlTbGlkZXIub24oXCJ1cGRhdGVcIiwgZnVuY3Rpb24gKHZhbHVlcywgaGFuZGxlKSB7XHJcbiAgICAgIGlucHV0c1toYW5kbGVdLnZhbHVlID0gdmFsdWVzW2hhbmRsZV07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNldFNsaWRlckhhbmRsZShpLCB2YWx1ZSkge1xyXG4gICAgdmFyIHIgPSBbbnVsbCwgbnVsbF07XHJcbiAgICByW2ldID0gdmFsdWU7XHJcbiAgICBrZXlwcmVzc1NsaWRlci5ub1VpU2xpZGVyLnNldChyKTtcclxuICB9IC8vIExpc3RlbiB0byBrZXlkb3duIGV2ZW50cyBvbiB0aGUgaW5wdXQgZmllbGQuXHJcblxyXG4gIGlucHV0cy5mb3JFYWNoKGZ1bmN0aW9uIChpbnB1dCwgaGFuZGxlKSB7XHJcbiAgICBpZiAoaW5wdXQgPT09IG51bGwpIHJldHVybjtcclxuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICBzZXRTbGlkZXJIYW5kbGUoaGFuZGxlLCB0aGlzLnZhbHVlKTtcclxuICAgIH0pO1xyXG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgdmFyIHZhbHVlcyA9IGtleXByZXNzU2xpZGVyLm5vVWlTbGlkZXIuZ2V0KCk7XHJcbiAgICAgIHZhciB2YWx1ZSA9IE51bWJlcih2YWx1ZXNbaGFuZGxlXSk7IC8vIFtbaGFuZGxlMF9kb3duLCBoYW5kbGUwX3VwXSwgW2hhbmRsZTFfZG93biwgaGFuZGxlMV91cF1dXHJcblxyXG4gICAgICB2YXIgc3RlcHMgPSBrZXlwcmVzc1NsaWRlci5ub1VpU2xpZGVyLnN0ZXBzKCk7IC8vIFtkb3duLCB1cF1cclxuXHJcbiAgICAgIHZhciBzdGVwID0gc3RlcHNbaGFuZGxlXTtcclxuICAgICAgdmFyIHBvc2l0aW9uOyAvLyAxMyBpcyBlbnRlcixcclxuICAgICAgLy8gMzggaXMga2V5IHVwLFxyXG4gICAgICAvLyA0MCBpcyBrZXkgZG93bi5cclxuXHJcbiAgICAgIHN3aXRjaCAoZS53aGljaCkge1xyXG4gICAgICAgIGNhc2UgMTM6XHJcbiAgICAgICAgICBzZXRTbGlkZXJIYW5kbGUoaGFuZGxlLCB0aGlzLnZhbHVlKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIDM4OlxyXG4gICAgICAgICAgLy8gR2V0IHN0ZXAgdG8gZ28gaW5jcmVhc2Ugc2xpZGVyIHZhbHVlICh1cClcclxuICAgICAgICAgIHBvc2l0aW9uID0gc3RlcFsxXTsgLy8gZmFsc2UgPSBubyBzdGVwIGlzIHNldFxyXG5cclxuICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSAxO1xyXG4gICAgICAgICAgfSAvLyBudWxsID0gZWRnZSBvZiBzbGlkZXJcclxuXHJcbiAgICAgICAgICBpZiAocG9zaXRpb24gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgc2V0U2xpZGVySGFuZGxlKGhhbmRsZSwgdmFsdWUgKyBwb3NpdGlvbik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgNDA6XHJcbiAgICAgICAgICBwb3NpdGlvbiA9IHN0ZXBbMF07XHJcblxyXG4gICAgICAgICAgaWYgKHBvc2l0aW9uID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IDE7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKHBvc2l0aW9uICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHNldFNsaWRlckhhbmRsZShoYW5kbGUsIHZhbHVlIC0gcG9zaXRpb24pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBnYWxsZXJ5KCkge1xyXG4gIGlmICgkLmZhbmN5Ym94KSB7XHJcbiAgICAkKFwiLm93bC1pdGVtIFtkYXRhLWZhbmN5Ym94XVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyICRzZWxlY3RvciA9ICQodGhpcylcclxuICAgICAgLnBhcmVudHMoXCIub3dsLWNhcm91c2VsXCIpXHJcbiAgICAgIC5maW5kKFwiLm93bC1pdGVtOm5vdCguY2xvbmVkKSBbZGF0YS1mYW5jeWJveF1cIik7XHJcbiAgICAgICQuZmFuY3lib3gub3BlbihcclxuICAgICAgICAkc2VsZWN0b3IsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgc2VsZWN0b3I6ICRzZWxlY3RvcixcclxuICAgICAgICAgIGJhY2tGb2N1czogZmFsc2UsXHJcbiAgICAgICAgfSxcclxuICAgICAgICAkc2VsZWN0b3IuaW5kZXgodGhpcylcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBoZWFkZXIoKSB7XHJcbiAgdmFyICRoZWFkZXIgPSAkKFwiaGVhZGVyXCIpLFxyXG4gICAgaGVpZ2h0LFxyXG4gICAgc2Nyb2xsO1xyXG4gIGxldCBpc1Rocm90dGxlZCA9IGZhbHNlO1xyXG4gIGNoZWNrKCk7XHJcbiAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoaXNUaHJvdHRsZWQpIHJldHVybjtcclxuICAgIGlzVGhyb3R0bGVkID0gdHJ1ZTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBjaGVjaygpO1xyXG4gICAgICBpc1Rocm90dGxlZCA9IGZhbHNlO1xyXG4gICAgfSwgMTAwKTtcclxuICB9KTtcclxuXHJcbiAgZnVuY3Rpb24gY2hlY2soKSB7XHJcbiAgICBpZiAoISRoZWFkZXIuaGFzQ2xhc3MoXCJoZWFkZXJfbGFuZGluZ1wiKSkge1xyXG4gICAgICBzY3JvbGwgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcbiAgICAgIGhlaWdodCA9ICRoZWFkZXIuaGVpZ2h0KCk7XHJcblxyXG4gICAgICBpZiAoc2Nyb2xsID4gaGVpZ2h0KSB7XHJcbiAgICAgICAgJGhlYWRlci5hZGRDbGFzcyhcImZpeGVkXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICRoZWFkZXIucmVtb3ZlQ2xhc3MoXCJmaXhlZFwiKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufSAvL2dhbGxlcnlcclxuXHJcbmZ1bmN0aW9uIGhvbWVCYW5uZXIoKSB7XHJcbiAgdmFyICRzbGlkZXIgPSAkKFwiLmhvbWUtYmFubmVyIC5vd2wtY2Fyb3VzZWxcIiksXHJcbiAgICBhcnJvd1ByZXYgPVxyXG4gICAgICAnPHN2ZyBjbGFzcz1cImljb25cIiB2aWV3Qm94PVwiMCAwIDEwLjUgMTguMVwiPjxwYXRoIHN0cm9rZT1cIm5vbmVcIiBkPVwiTTksMGwxLjQsMS40TDIuOCw5bDcuNiw3LjZMOSwxOC4xTDAsOUMwLDksOS4xLDAsOSwwelwiPjwvcGF0aD48L3N2Zz4nLFxyXG4gICAgYXJyb3dOZXh0ID1cclxuICAgICAgJzxzdmcgY2xhc3M9XCJpY29uXCIgdmlld0JveD1cIjAgMCAxMC41IDE4LjFcIj48cGF0aCBzdHJva2U9XCJub25lXCIgZD1cIk0xLjQsMTguMUwwLDE2LjdsNy42LTcuNkwwLDEuNUwxLjQsMGw5LDkuMUMxMC40LDkuMSwxLjMsMTguMSwxLjQsMTguMXpcIj48L3BhdGg+PC9zdmc+JztcclxuXHJcbiAgaWYgKCRzbGlkZXIubGVuZ3RoKSB7XHJcbiAgICAkc2xpZGVyLm93bENhcm91c2VsKHtcclxuICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgbmF2OiB0cnVlLFxyXG4gICAgICBzbWFydFNwZWVkOiA1MDAsXHJcbiAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgIGl0ZW1zOiAxLFxyXG4gICAgICBsYXp5TG9hZDogdHJ1ZSxcclxuICAgICAgYXV0b3BsYXk6IHRydWUsXHJcbiAgICAgIGF1dG9wbGF5VGltZW91dDogKCskc2xpZGVyLmRhdGEoXCJhdXRvcGxheS10aW1lb3V0XCIpIHx8IDUpICogMTAwMCxcclxuICAgICAgbmF2VGV4dDogW2Fycm93UHJldiwgYXJyb3dOZXh0XSxcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuJChcIi5wcm9kdWN0LWNhcmQtc2xpZGVzaG93X19zZWN0b3JcIikub24oXCJtb3VzZW1vdmVcIiwgKGV2ZW50KSA9PiB7XHJcbiAgY29uc3QgdGFyZ2V0ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcclxuICBjb25zdCBpZCA9IHRhcmdldC5hdHRyKFwiZGF0YS1zZWN0b3JcIik7XHJcbiAgY29uc3QgcGFyZW50ID0gdGFyZ2V0LnBhcmVudCgpLnBhcmVudCgpO1xyXG4gIHBhcmVudFxyXG4gIC5maW5kKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKVxyXG4gIC5yZW1vdmVDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKTtcclxuICBwYXJlbnRcclxuICAuZmluZChcIi5wcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpXHJcbiAgLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fZG90X2FjdGl2ZVwiKTtcclxuICBwYXJlbnQuZmluZChgW2RhdGEtc2VjdG9yLWltYWdlPVwiJHtpZH1cIl1gKS5hZGRDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKTtcclxuICBwYXJlbnQuZmluZChgW2RhdGEtc2VjdG9yLWRvdD1cIiR7aWR9XCJdYCkuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpO1xyXG59KTtcclxuXHJcbiQoXCIucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fc2VjdG9yc1wiKS5vbihcInRvdWNoc3RhcnRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgdG91Y2hzdGFydFggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5zY3JlZW5YO1xyXG59KTtcclxuXHJcbiQoXCIucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fc2VjdG9yc1wiKS5vbihcInRvdWNoZW5kXCIsIChldmVudCkgPT4ge1xyXG4gIHRvdWNoZW5kWCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnNjcmVlblg7XHJcbiAgY29uc3QgcGFyZW50ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5wYXJlbnQoKTtcclxuICBjb25zdCBpbWcgPSBwYXJlbnQuZmluZChcIi5wcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgY29uc3QgaWQgPSBOdW1iZXIoaW1nLmF0dHIoXCJkYXRhLXNlY3Rvci1pbWFnZVwiKSk7XHJcbiAgY29uc3QgbGVuZ3RoID0gcGFyZW50LmZpbmQoXCIucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VcIikubGVuZ3RoO1xyXG5cclxuICBpZiAodG91Y2hlbmRYIDwgdG91Y2hzdGFydFgpIHtcclxuICAgIHBhcmVudFxyXG4gICAgLmZpbmQoXCIucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpXHJcbiAgICAucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICBwYXJlbnRcclxuICAgIC5maW5kKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIilcclxuICAgIC5yZW1vdmVDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIik7XHJcbiAgICBpZiAoaWQgPj0gbGVuZ3RoKSB7XHJcbiAgICAgIHBhcmVudC5maW5kKGBbZGF0YS1zZWN0b3ItaW1hZ2U9XCIkezF9XCJdYCkuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICAgIHBhcmVudC5maW5kKGBbZGF0YS1zZWN0b3ItZG90PVwiJHsxfVwiXWApLmFkZENsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fZG90X2FjdGl2ZVwiKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgcGFyZW50LmZpbmQoYFtkYXRhLXNlY3Rvci1pbWFnZT1cIiR7aWQgKyAxfVwiXWApLmFkZENsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpO1xyXG4gICAgcGFyZW50LmZpbmQoYFtkYXRhLXNlY3Rvci1kb3Q9XCIke2lkICsgMX1cIl1gKS5hZGRDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIik7XHJcbiAgfVxyXG4gIGlmICh0b3VjaGVuZFggPiB0b3VjaHN0YXJ0WCkge1xyXG4gICAgcGFyZW50XHJcbiAgICAuZmluZChcIi5wcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIilcclxuICAgIC5yZW1vdmVDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKTtcclxuICAgIHBhcmVudFxyXG4gICAgLmZpbmQoXCIucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fZG90X2FjdGl2ZVwiKVxyXG4gICAgLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fZG90X2FjdGl2ZVwiKTtcclxuICAgIGlmIChpZCA8PSAxKSB7XHJcbiAgICAgIHBhcmVudFxyXG4gICAgICAuZmluZChgW2RhdGEtc2VjdG9yLWltYWdlPVwiJHtsZW5ndGh9XCJdYClcclxuICAgICAgLmFkZENsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpO1xyXG4gICAgICBwYXJlbnQuZmluZChgW2RhdGEtc2VjdG9yLWRvdD1cIiR7bGVuZ3RofVwiXWApLmFkZENsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fZG90X2FjdGl2ZVwiKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgcGFyZW50LmZpbmQoYFtkYXRhLXNlY3Rvci1pbWFnZT1cIiR7aWQgLSAxfVwiXWApLmFkZENsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpO1xyXG4gICAgcGFyZW50LmZpbmQoYFtkYXRhLXNlY3Rvci1kb3Q9XCIke2lkIC0gMX1cIl1gKS5hZGRDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIik7XHJcbiAgfVxyXG59KTtcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KCgpID0+IHtcclxuICBjb25zdCBjb2xsYXBzZSA9ICQoXCIucHJvZHVjdC1kZXNjcmlwdGlvbi1ncm91cF9fY29sbGFwc2VcIik7XHJcbiAgY29uc3QgY29sbGFwc2VDaGlsZHJlbiA9IGNvbGxhcHNlLmNoaWxkcmVuKCk7XHJcbiAgbGV0IGNvbGxhcHNlQ2hpbGRyZW5IZWlnaHQgPSAwO1xyXG5cclxuICBmb3IgKGNvbnN0IGNoaWxkIG9mIGNvbGxhcHNlQ2hpbGRyZW4pIHtcclxuICAgIGNvbGxhcHNlQ2hpbGRyZW5IZWlnaHQgKz0gJChjaGlsZCkuaGVpZ2h0KCk7XHJcbiAgfVxyXG5cclxuICBpZiAoY29sbGFwc2VDaGlsZHJlbkhlaWdodCA+IDg1KSByZXR1cm47XHJcblxyXG4gIGNvbGxhcHNlLmFkZENsYXNzKFwicHJvZHVjdC1kZXNjcmlwdGlvbi1ncm91cF9fY29sbGFwc2VfaW5hY3RpdmVcIik7XHJcbiAgJChcIi5wcm9kdWN0LWRlc2NyaXB0aW9uLWdyb3VwX19idXR0b25cIikuYWRkQ2xhc3MoXCJkLW5vbmVcIik7XHJcbn0pO1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoKCkgPT4ge1xyXG4gIGNvbnN0IGNvbGxhcHNlID0gJChcIi5wcm9kdWN0LWhhcmFjdGVyaXN0aWMtZ3JvdXBfX2NvbGxhcHNlXCIpO1xyXG4gIGNvbnN0IGNvbGxhcHNlQ2hpbGRyZW4gPSBjb2xsYXBzZS5jaGlsZHJlbigpO1xyXG4gIGxldCBjb2xsYXBzZUNoaWxkcmVuSGVpZ2h0ID0gMDtcclxuXHJcbiAgZm9yIChjb25zdCBjaGlsZCBvZiBjb2xsYXBzZUNoaWxkcmVuKSB7XHJcbiAgICBjb2xsYXBzZUNoaWxkcmVuSGVpZ2h0ICs9ICQoY2hpbGQpLmhlaWdodCgpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGNvbGxhcHNlQ2hpbGRyZW5IZWlnaHQgPiA4NSkgcmV0dXJuO1xyXG5cclxuICBjb2xsYXBzZS5hZGRDbGFzcyhcInByb2R1Y3QtaGFyYWN0ZXJpc3RpYy1ncm91cF9pbmFjdGl2ZVwiKTtcclxuICAkKFwiLnByb2R1Y3QtaGFyYWN0ZXJpc3RpYy1ncm91cF9fYnV0dG9uXCIpLmFkZENsYXNzKFwiZC1ub25lXCIpO1xyXG59KTtcclxuXHJcblxyXG5cclxuKGZ1bmN0aW9uICgkKSB7XHJcbiAgdmFyIHBsdWdpbk5hbWUgPSBcImNzY3JsYlwiO1xyXG5cclxuICBmdW5jdGlvbiBQbHVnaW4oZWxlbWVudCwgb3B0aW9ucykge1xyXG4gICAgdmFyIGVsID0gZWxlbWVudDtcclxuICAgIHZhciAkZWwgPSAkKGVsZW1lbnQpO1xyXG4gICAgdmFyICRzY3JvbGxDb250ZW50RWw7XHJcbiAgICB2YXIgJGNvbnRlbnRFbCA9ICRlbC5maW5kKFwiLmNzY3JsYi1jb250ZW50XCIpO1xyXG4gICAgdmFyICRzY3JvbGxiYXJFbDtcclxuICAgIHZhciAkZHJhZ0hhbmRsZUVsO1xyXG4gICAgdmFyIGRyYWdPZmZzZXQ7XHJcbiAgICB2YXIgZmxhc2hUaW1lb3V0O1xyXG4gICAgdmFyIHBhZ2VKdW1wTXVsdHAgPSA3IC8gODtcclxuICAgIHZhciBzY3JvbGxEaXJlY3Rpb24gPSBcInZlcnRcIjtcclxuICAgIHZhciBzY3JvbGxPZmZzZXRBdHRyID0gXCJzY3JvbGxUb3BcIjtcclxuICAgIHZhciBzaXplQXR0ciA9IFwiaGVpZ2h0XCI7XHJcbiAgICB2YXIgb2Zmc2V0QXR0ciA9IFwidG9wXCI7XHJcbiAgICBvcHRpb25zID0gJC5leHRlbmQoe30sICQuZm5bcGx1Z2luTmFtZV0uZGVmYXVsdHMsIG9wdGlvbnMpO1xyXG5cclxuICAgIHdpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICRjb250ZW50RWwuZm9jdXMoKTtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgICAgaWYgKCRlbC5oYXNDbGFzcyhcImhvcml6b250YWxcIikpIHtcclxuICAgICAgICBzY3JvbGxEaXJlY3Rpb24gPSBcImhvcml6XCI7XHJcbiAgICAgICAgc2Nyb2xsT2Zmc2V0QXR0ciA9IFwic2Nyb2xsTGVmdFwiO1xyXG4gICAgICAgIHNpemVBdHRyID0gXCJ3aWR0aFwiO1xyXG4gICAgICAgIG9mZnNldEF0dHIgPSBcImxlZnRcIjtcclxuICAgICAgfVxyXG5cclxuICAgICAgJGVsLnByZXBlbmQoJzxkaXYgY2xhc3M9XCJjc2NybGItc2Nyb2xsYmFyXCI+PGRpdiBjbGFzcz1cImRyYWctaGFuZGxlXCI+PC9kaXY+PC9kaXY+Jyk7XHJcbiAgICAgICRzY3JvbGxiYXJFbCA9ICRlbC5maW5kKFwiLmNzY3JsYi1zY3JvbGxiYXJcIik7XHJcbiAgICAgICRkcmFnSGFuZGxlRWwgPSAkZWwuZmluZChcIi5kcmFnLWhhbmRsZVwiKTtcclxuXHJcbiAgICAgIGlmIChvcHRpb25zLndyYXBDb250ZW50KSB7XHJcbiAgICAgICAgJGNvbnRlbnRFbC53cmFwKCc8ZGl2IGNsYXNzPVwiY3NjcmxiLXNjcm9sbC1jb250ZW50XCIgLz4nKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJHNjcm9sbENvbnRlbnRFbCA9ICRlbC5maW5kKFwiLmNzY3JsYi1zY3JvbGwtY29udGVudFwiKTtcclxuICAgICAgcmVzaXplU2Nyb2xsQ29udGVudCgpO1xyXG5cclxuICAgICAgaWYgKG9wdGlvbnMuYXV0b0hpZGUpIHtcclxuICAgICAgICAkZWwub24oXCJtb3VzZWVudGVyXCIsIGZsYXNoU2Nyb2xsYmFyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJGRyYWdIYW5kbGVFbC5vbihcIm1vdXNlZG93blwiLCBzdGFydERyYWcpO1xyXG4gICAgICAkc2Nyb2xsYmFyRWwub24oXCJtb3VzZWRvd25cIiwganVtcFNjcm9sbCk7XHJcbiAgICAgICRzY3JvbGxDb250ZW50RWwub24oXCJzY3JvbGxcIiwgb25TY3JvbGxlZCk7XHJcbiAgICAgIHJlc2l6ZVNjcm9sbGJhcigpO1xyXG4gICAgICAkKHdpbmRvdykub24oXCJyZXNpemVcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJlY2FsY3VsYXRlKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKCFvcHRpb25zLmF1dG9IaWRlKSB7XHJcbiAgICAgICAgc2hvd1Njcm9sbGJhcigpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc3RhcnREcmFnKGUpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB2YXIgZXZlbnRPZmZzZXQgPSBlLnBhZ2VZO1xyXG5cclxuICAgICAgaWYgKHNjcm9sbERpcmVjdGlvbiA9PT0gXCJob3JpelwiKSB7XHJcbiAgICAgICAgZXZlbnRPZmZzZXQgPSBlLnBhZ2VYO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkcmFnT2Zmc2V0ID0gZXZlbnRPZmZzZXQgLSAkZHJhZ0hhbmRsZUVsLm9mZnNldCgpW29mZnNldEF0dHJdO1xyXG4gICAgICAkKGRvY3VtZW50KS5vbihcIm1vdXNlbW92ZVwiLCBkcmFnKTtcclxuICAgICAgJChkb2N1bWVudCkub24oXCJtb3VzZXVwXCIsIGVuZERyYWcpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRyYWcoZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHZhciBldmVudE9mZnNldCA9IGUucGFnZVk7XHJcblxyXG4gICAgICBpZiAoc2Nyb2xsRGlyZWN0aW9uID09PSBcImhvcml6XCIpIHtcclxuICAgICAgICBldmVudE9mZnNldCA9IGUucGFnZVg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBkcmFnUG9zID0gZXZlbnRPZmZzZXQgLSAkc2Nyb2xsYmFyRWwub2Zmc2V0KClbb2Zmc2V0QXR0cl0gLSBkcmFnT2Zmc2V0O1xyXG4gICAgICB2YXIgZHJhZ1BlcmMgPSBkcmFnUG9zIC8gJHNjcm9sbGJhckVsW3NpemVBdHRyXSgpO1xyXG4gICAgICB2YXIgc2Nyb2xsUG9zID0gZHJhZ1BlcmMgKiAkY29udGVudEVsW3NpemVBdHRyXSgpO1xyXG4gICAgICAkc2Nyb2xsQ29udGVudEVsW3Njcm9sbE9mZnNldEF0dHJdKHNjcm9sbFBvcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZW5kRHJhZygpIHtcclxuICAgICAgJChkb2N1bWVudCkub2ZmKFwibW91c2Vtb3ZlXCIsIGRyYWcpO1xyXG4gICAgICAkKGRvY3VtZW50KS5vZmYoXCJtb3VzZXVwXCIsIGVuZERyYWcpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGp1bXBTY3JvbGwoZSkge1xyXG4gICAgICBpZiAoZS50YXJnZXQgPT09ICRkcmFnSGFuZGxlRWxbMF0pIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBqdW1wQW10ID0gcGFnZUp1bXBNdWx0cCAqICRzY3JvbGxDb250ZW50RWxbc2l6ZUF0dHJdKCk7XHJcbiAgICAgIHZhciBldmVudE9mZnNldCA9XHJcbiAgICAgICAgc2Nyb2xsRGlyZWN0aW9uID09PSBcInZlcnRcIiA/IGUub3JpZ2luYWxFdmVudC5sYXllclkgOiBlLm9yaWdpbmFsRXZlbnQubGF5ZXJYO1xyXG4gICAgICB2YXIgZHJhZ0hhbmRsZU9mZnNldCA9ICRkcmFnSGFuZGxlRWwucG9zaXRpb24oKVtvZmZzZXRBdHRyXTtcclxuICAgICAgdmFyIHNjcm9sbFBvcyA9XHJcbiAgICAgICAgZXZlbnRPZmZzZXQgPCBkcmFnSGFuZGxlT2Zmc2V0XHJcbiAgICAgICAgICA/ICRzY3JvbGxDb250ZW50RWxbc2Nyb2xsT2Zmc2V0QXR0cl0oKSAtIGp1bXBBbXRcclxuICAgICAgICAgIDogJHNjcm9sbENvbnRlbnRFbFtzY3JvbGxPZmZzZXRBdHRyXSgpICsganVtcEFtdDtcclxuICAgICAgJHNjcm9sbENvbnRlbnRFbFtzY3JvbGxPZmZzZXRBdHRyXShzY3JvbGxQb3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9uU2Nyb2xsZWQoZSkge1xyXG4gICAgICBmbGFzaFNjcm9sbGJhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc2l6ZVNjcm9sbGJhcigpIHtcclxuICAgICAgdmFyIGNvbnRlbnRTaXplID0gJGNvbnRlbnRFbFtzaXplQXR0cl0oKTtcclxuICAgICAgdmFyIHNjcm9sbE9mZnNldCA9ICRzY3JvbGxDb250ZW50RWxbc2Nyb2xsT2Zmc2V0QXR0cl0oKTsgLy8gc2Nyb2xsVG9wKCkg44GLIHNjcm9sbExlZnQoKVxyXG5cclxuICAgICAgdmFyIHNjcm9sbGJhclNpemUgPSAkc2Nyb2xsYmFyRWxbc2l6ZUF0dHJdKCk7XHJcbiAgICAgIHZhciBzY3JvbGxiYXJSYXRpbyA9IHNjcm9sbGJhclNpemUgLyBjb250ZW50U2l6ZTtcclxuICAgICAgdmFyIGhhbmRsZU9mZnNldCA9IE1hdGgucm91bmQoc2Nyb2xsYmFyUmF0aW8gKiBzY3JvbGxPZmZzZXQpO1xyXG4gICAgICAvKiArIDI7ICovXHJcblxyXG4gICAgICB2YXIgaGFuZGxlU2l6ZSA9IE1hdGguZmxvb3Ioc2Nyb2xsYmFyUmF0aW8gKiAoc2Nyb2xsYmFyU2l6ZSArIDIpKTtcclxuICAgICAgLyogIC0gMikpIC0gMjsgKi9cclxuXHJcbiAgICAgIGlmIChzY3JvbGxiYXJTaXplIDwgY29udGVudFNpemUpIHtcclxuICAgICAgICBpZiAoc2Nyb2xsRGlyZWN0aW9uID09PSBcInZlcnRcIikge1xyXG4gICAgICAgICAgJGRyYWdIYW5kbGVFbC5jc3Moe1xyXG4gICAgICAgICAgICB0b3A6IGhhbmRsZU9mZnNldCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBoYW5kbGVTaXplLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRkcmFnSGFuZGxlRWwuY3NzKHtcclxuICAgICAgICAgICAgbGVmdDogaGFuZGxlT2Zmc2V0LFxyXG4gICAgICAgICAgICB3aWR0aDogaGFuZGxlU2l6ZSxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJHNjcm9sbGJhckVsLnNob3coKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkc2Nyb2xsYmFyRWwuaGlkZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZmxhc2hTY3JvbGxiYXIoKSB7XHJcbiAgICAgIHJlc2l6ZVNjcm9sbGJhcigpO1xyXG4gICAgICBzaG93U2Nyb2xsYmFyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2hvd1Njcm9sbGJhcigpIHtcclxuICAgICAgJGRyYWdIYW5kbGVFbC5hZGRDbGFzcyhcInZpc2libGVcIik7XHJcblxyXG4gICAgICBpZiAoIW9wdGlvbnMuYXV0b0hpZGUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0eXBlb2YgZmxhc2hUaW1lb3V0ID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChmbGFzaFRpbWVvdXQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmbGFzaFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaGlkZVNjcm9sbGJhcigpO1xyXG4gICAgICB9LCAxMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBoaWRlU2Nyb2xsYmFyKCkge1xyXG4gICAgICAkZHJhZ0hhbmRsZUVsLnJlbW92ZUNsYXNzKFwidmlzaWJsZVwiKTtcclxuXHJcbiAgICAgIGlmICh0eXBlb2YgZmxhc2hUaW1lb3V0ID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChmbGFzaFRpbWVvdXQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzaXplU2Nyb2xsQ29udGVudCgpIHtcclxuICAgICAgaWYgKHNjcm9sbERpcmVjdGlvbiA9PT0gXCJ2ZXJ0XCIpIHtcclxuICAgICAgICAkc2Nyb2xsQ29udGVudEVsLndpZHRoKCRlbC53aWR0aCgpICsgc2Nyb2xsYmFyV2lkdGgoKSk7XHJcbiAgICAgICAgJHNjcm9sbENvbnRlbnRFbC5oZWlnaHQoJGVsLmhlaWdodCgpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkc2Nyb2xsQ29udGVudEVsLndpZHRoKCRlbC53aWR0aCgpKTtcclxuICAgICAgICAkc2Nyb2xsQ29udGVudEVsLmhlaWdodCgkZWwuaGVpZ2h0KCkgKyBzY3JvbGxiYXJXaWR0aCgpKTtcclxuICAgICAgICAkY29udGVudEVsLmhlaWdodCgkZWwuaGVpZ2h0KCkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2Nyb2xsYmFyV2lkdGgoKSB7XHJcbiAgICAgIHZhciB0ZW1wRWwgPSAkKFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwic2Nyb2xsYmFyLXdpZHRoLXRlc3RlclwiIHN0eWxlPVwid2lkdGg6NTBweDtoZWlnaHQ6NTBweDtvdmVyZmxvdy15OnNjcm9sbDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTIwMHB4O2xlZnQ6LTIwMHB4O1wiPjxkaXYgc3R5bGU9XCJoZWlnaHQ6MTAwcHg7XCI+PC9kaXY+J1xyXG4gICAgICApO1xyXG4gICAgICAkKFwiYm9keVwiKS5hcHBlbmQodGVtcEVsKTtcclxuICAgICAgdmFyIHdpZHRoID0gJCh0ZW1wRWwpLmlubmVyV2lkdGgoKTtcclxuICAgICAgdmFyIHdpZHRoTWludXNTY3JvbGxiYXJzID0gJChcImRpdlwiLCB0ZW1wRWwpLmlubmVyV2lkdGgoKTtcclxuICAgICAgdGVtcEVsLnJlbW92ZSgpO1xyXG5cclxuICAgICAgaWYgKFxyXG4gICAgICAgIHdpZHRoID09PSB3aWR0aE1pbnVzU2Nyb2xsYmFycyAmJlxyXG4gICAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiZmlyZWZveFwiKSA+IC0xXHJcbiAgICAgICkge1xyXG4gICAgICAgIHJldHVybiAxNztcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHdpZHRoIC0gd2lkdGhNaW51c1Njcm9sbGJhcnM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVjYWxjdWxhdGUoKSB7XHJcbiAgICAgIHJlc2l6ZVNjcm9sbENvbnRlbnQoKTtcclxuICAgICAgcmVzaXplU2Nyb2xsYmFyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb3B0aW9uKGtleSwgdmFsKSB7XHJcbiAgICAgIGlmICh2YWwpIHtcclxuICAgICAgICBvcHRpb25zW2tleV0gPSB2YWw7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnNba2V5XTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XHJcbiAgICAgICRjb250ZW50RWwuaW5zZXJ0QmVmb3JlKCRzY3JvbGxiYXJFbCk7XHJcbiAgICAgICRzY3JvbGxiYXJFbC5yZW1vdmUoKTtcclxuICAgICAgJHNjcm9sbENvbnRlbnRFbC5yZW1vdmUoKTtcclxuICAgICAgJGNvbnRlbnRFbC5jc3Moe1xyXG4gICAgICAgIGhlaWdodDogJGVsLmhlaWdodCgpICsgXCJweFwiLFxyXG4gICAgICAgIFwib3ZlcmZsb3cteVwiOiBcInNjcm9sbFwiLFxyXG4gICAgICB9KTtcclxuICAgICAgaG9vayhcIm9uRGVzdHJveVwiKTtcclxuICAgICAgJGVsLnJlbW92ZURhdGEoXCJwbHVnaW5fXCIgKyBwbHVnaW5OYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBob29rKGhvb2tOYW1lKSB7XHJcbiAgICAgIGlmIChvcHRpb25zW2hvb2tOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgb3B0aW9uc1tob29rTmFtZV0uY2FsbChlbCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpbml0KCk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBvcHRpb246IG9wdGlvbixcclxuICAgICAgZGVzdHJveTogZGVzdHJveSxcclxuICAgICAgcmVjYWxjdWxhdGU6IHJlY2FsY3VsYXRlLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gICQuZm5bcGx1Z2luTmFtZV0gPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgdmFyIG1ldGhvZE5hbWUgPSBhcmd1bWVudHNbMF07XHJcbiAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuICAgICAgdmFyIHJldHVyblZhbDtcclxuICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBwbHVnaW5OYW1lKSAmJlxyXG4gICAgICAgICAgdHlwZW9mICQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUpW21ldGhvZE5hbWVdID09PSBcImZ1bmN0aW9uXCJcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHJldHVyblZhbCA9ICQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUpW21ldGhvZE5hbWVdLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIgXCIgKyBtZXRob2ROYW1lICsgXCIgXCIgKyBwbHVnaW5OYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKHJldHVyblZhbCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHJldHVyblZhbDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChfdHlwZW9mKG9wdGlvbnMpID09PSBcIm9iamVjdFwiIHx8ICFvcHRpb25zKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgcGx1Z2luTmFtZSkpIHtcclxuICAgICAgICAgICQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUsIG5ldyBQbHVnaW4odGhpcywgb3B0aW9ucykpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgJC5mbltwbHVnaW5OYW1lXS5kZWZhdWx0cyA9IHtcclxuICAgIG9uSW5pdDogZnVuY3Rpb24gb25Jbml0KCkge30sXHJcbiAgICBvbkRlc3Ryb3k6IGZ1bmN0aW9uIG9uRGVzdHJveSgpIHt9LFxyXG4gICAgd3JhcENvbnRlbnQ6IHRydWUsXHJcbiAgICBhdXRvSGlkZTogZmFsc2UsXHJcbiAgfTtcclxufSkoalF1ZXJ5KTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICQoXCIuY3NjcmxiLXNjcm9sbGFibGVcIikuY3NjcmxiKCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcclxuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XHJcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XHJcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XHJcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xyXG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xyXG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcclxuICByZXR1cm4gQ29uc3RydWN0b3I7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7XHJcbiAgdmFyIGl0O1xyXG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8IG9bU3ltYm9sLml0ZXJhdG9yXSA9PSBudWxsKSB7XHJcbiAgICBpZiAoXHJcbiAgICAgIEFycmF5LmlzQXJyYXkobykgfHxcclxuICAgICAgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fFxyXG4gICAgICAoYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpXHJcbiAgICApIHtcclxuICAgICAgaWYgKGl0KSBvID0gaXQ7XHJcbiAgICAgIHZhciBpID0gMDtcclxuICAgICAgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgczogRixcclxuICAgICAgICBuOiBmdW5jdGlvbiBuKCkge1xyXG4gICAgICAgICAgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTtcclxuICAgICAgICAgIHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlOiBmdW5jdGlvbiBlKF9lKSB7XHJcbiAgICAgICAgICB0aHJvdyBfZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGY6IEYsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxyXG4gICAgICBcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCJcclxuICAgICk7XHJcbiAgfVxyXG4gIHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSxcclxuICAgIGRpZEVyciA9IGZhbHNlLFxyXG4gICAgZXJyO1xyXG4gIHJldHVybiB7XHJcbiAgICBzOiBmdW5jdGlvbiBzKCkge1xyXG4gICAgICBpdCA9IG9bU3ltYm9sLml0ZXJhdG9yXSgpO1xyXG4gICAgfSxcclxuICAgIG46IGZ1bmN0aW9uIG4oKSB7XHJcbiAgICAgIHZhciBzdGVwID0gaXQubmV4dCgpO1xyXG4gICAgICBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lO1xyXG4gICAgICByZXR1cm4gc3RlcDtcclxuICAgIH0sXHJcbiAgICBlOiBmdW5jdGlvbiBlKF9lMikge1xyXG4gICAgICBkaWRFcnIgPSB0cnVlO1xyXG4gICAgICBlcnIgPSBfZTI7XHJcbiAgICB9LFxyXG4gICAgZjogZnVuY3Rpb24gZigpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXQucmV0dXJuICE9IG51bGwpIGl0LnJldHVybigpO1xyXG4gICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIGlmIChkaWRFcnIpIHRocm93IGVycjtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XHJcbiAgaWYgKCFvKSByZXR1cm47XHJcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcclxuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XHJcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcclxuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcclxuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlcclxuICAgIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xyXG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xyXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykge1xyXG4gICAgYXJyMltpXSA9IGFycltpXTtcclxuICB9XHJcbiAgcmV0dXJuIGFycjI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcclxuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcclxuICB9XHJcbn1cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICBob21lQmFubmVyKCk7XHJcbiAgaGVhZGVyKCk7XHJcbiAgZ2FsbGVyeSgpO1xyXG4gIGxhbmRpbmdfc2xpZGVycygpO1xyXG4gIHVwKCk7XHJcbiAgY2hhdEJsb2NrKCk7XHJcbiAgdG9nZ2xlKCk7IC8vaW50ZXJhY3Rpb25cclxuXHJcbiAgbmV3INChdXN0b21JbnRlcmFjdGlvbih7XHJcbiAgICB0YXJnZXRzOiBcImEsIGJ1dHRvbiwgW2RhdGEtY3VzdG9tLWludGVyYWN0aW9uXSwgLmltYWdlLXpvb21cIixcclxuICB9KTsgLy9zbGlkZXIgY29uc3RydWN0b3JcclxuXHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zbGlkZXItY29uc3RydWN0b3JcIikuZm9yRWFjaChmdW5jdGlvbiAoJHRoaXMpIHtcclxuICAgIG5ldyBTbGlkZXJDb25zdHJ1Y3RvcigkdGhpcykuaW5pdCgpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGxhbmRpbmdfc2xpZGVycygpIHtcclxuICB2YXIgJHNsaWRlcnMgPSAkKFwiLmxhbmRpbmctc2xpZGVyIC5vd2wtY2Fyb3VzZWxcIik7XHJcblxyXG4gIGlmICgkc2xpZGVycy5sZW5ndGgpIHtcclxuICAgICRzbGlkZXJzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xyXG4gICAgICB2YXIgY291bnQxLCBjb3VudDIsIGNvdW50MywgY291bnQ0O1xyXG5cclxuICAgICAgaWYgKCR0aGlzLmlzKFwiLmxhbmRpbmctc2xpZGVyXzEgLm93bC1jYXJvdXNlbFwiKSkge1xyXG4gICAgICAgIGNvdW50MSA9IDI7XHJcbiAgICAgICAgY291bnQyID0gMjtcclxuICAgICAgICBjb3VudDMgPSAzO1xyXG4gICAgICAgIGNvdW50NCA9IDQ7XHJcbiAgICAgIH0gZWxzZSBpZiAoJHRoaXMuaXMoXCIubGFuZGluZy1zbGlkZXJfMiAub3dsLWNhcm91c2VsXCIpKSB7XHJcbiAgICAgICAgY291bnQxID0gMTtcclxuICAgICAgICBjb3VudDIgPSAyO1xyXG4gICAgICAgIGNvdW50MyA9IDM7XHJcbiAgICAgICAgY291bnQ0ID0gNDtcclxuICAgICAgfVxyXG5cclxuICAgICAgJHRoaXMub3dsQ2Fyb3VzZWwoe1xyXG4gICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgbWFyZ2luOiAyMCxcclxuICAgICAgICByZXNwb25zaXZlOiB7XHJcbiAgICAgICAgICAwOiB7XHJcbiAgICAgICAgICAgIGl0ZW1zOiBjb3VudDEsXHJcbiAgICAgICAgICAgIG1hcmdpbjogMTYsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgNTc2OiB7XHJcbiAgICAgICAgICAgIGl0ZW1zOiBjb3VudDIsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgNzY4OiB7XHJcbiAgICAgICAgICAgIGl0ZW1zOiBjb3VudDMsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgOTkyOiB7XHJcbiAgICAgICAgICAgIGl0ZW1zOiBjb3VudDQsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB0b2dnbGUoKSB7XHJcbiAgdmFyICRzZWN0aW9uID0gJChcIi50b2dnbGUtc2VjdGlvblwiKSxcclxuICAgIHNwZWVkID0gMjUwO1xyXG4gICRzZWN0aW9uLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyICR0aGlzID0gJCh0aGlzKSxcclxuICAgICAgJHRvZ2dsZSA9ICR0aGlzLmNoaWxkcmVuKFwiLnRvZ2dsZS1zZWN0aW9uX190cmlnZ2VyXCIpLFxyXG4gICAgICAkY29udGVudCA9ICR0aGlzLmNoaWxkcmVuKFwiLnRvZ2dsZS1zZWN0aW9uX19jb250ZW50XCIpLFxyXG4gICAgICAkY2xvc2UgPSAkY29udGVudC5maW5kKFwiLnRvZ2dsZS1zZWN0aW9uX19jbG9zZVwiKSxcclxuICAgICAgc3RhdGUgPSAkdGhpcy5oYXNDbGFzcyhcImFjdGl2ZVwiKSA/IHRydWUgOiBmYWxzZSxcclxuICAgICAgaW5pdGlhbGl6ZWQ7XHJcbiAgICAkdG9nZ2xlLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICBzdGF0ZSA9ICFzdGF0ZSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgY2hlY2soKTtcclxuICAgIH0pO1xyXG4gICAgJGNsb3NlLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICBzdGF0ZSA9IGZhbHNlO1xyXG4gICAgICBjaGVjaygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCR0aGlzLmlzKFwiW2RhdGEtaG92ZXJdXCIpKSB7XHJcbiAgICAgIHZhciB0aW1lb3V0O1xyXG4gICAgICAkdG9nZ2xlLmFkZCgkY29udGVudCkub24oXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGlmICghaXNUb3VjaCkge1xyXG4gICAgICAgICAgaWYgKHRpbWVvdXQpIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICAgICAgICAgIHN0YXRlID0gdHJ1ZTtcclxuICAgICAgICAgIGNoZWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgJHRvZ2dsZS5hZGQoJGNvbnRlbnQpLm9uKFwibW91c2VsZWF2ZVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBpZiAoIWlzVG91Y2gpIHtcclxuICAgICAgICAgIHZhciBkZWxheTtcclxuXHJcbiAgICAgICAgICBpZiAoJCh0aGlzKS5pcygkdG9nZ2xlKSkge1xyXG4gICAgICAgICAgICBkZWxheSA9IDUwMDtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRlbGF5ID0gMTAwO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc3RhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgY2hlY2soKTtcclxuICAgICAgICAgIH0sIGRlbGF5KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgkdGhpcy5pcyhcIltkYXRhLW91dC1oaWRlXVwiKSB8fCAkdGhpcy5pcyhcIltkYXRhLWhvdmVyXVwiKSkge1xyXG4gICAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrIHRvdWNoc3RhcnRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyICR0YXJnZXQgPSAkKGV2ZW50LnRhcmdldCk7XHJcblxyXG4gICAgICAgIGlmICghJHRhcmdldC5jbG9zZXN0KCRjb250ZW50KS5sZW5ndGggJiYgISR0YXJnZXQuY2xvc2VzdCgkdG9nZ2xlKS5sZW5ndGggJiYgc3RhdGUpIHtcclxuICAgICAgICAgIHN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgICBjaGVjaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2hlY2soKSB7XHJcbiAgICAgIGlmIChzdGF0ZSkge1xyXG4gICAgICAgICR0aGlzLmFkZCgkY29udGVudCkuYWRkKCR0b2dnbGUpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG5cclxuICAgICAgICBpZiAoJHRoaXMuaXMoXCJbZGF0YS1zbGlkZV1cIikpIHtcclxuICAgICAgICAgICRjb250ZW50LnNsaWRlRG93bihzcGVlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICR0aGlzLmFkZCgkdG9nZ2xlKS5hZGQoJGNvbnRlbnQpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG5cclxuICAgICAgICBpZiAoJHRoaXMuaXMoXCJbZGF0YS1zbGlkZV1cIikpIHtcclxuICAgICAgICAgIGlmIChpbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICAkY29udGVudC5zdG9wKCkuc2xpZGVVcChzcGVlZCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkY29udGVudC5oaWRlKDApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrKCk7XHJcbiAgICBpbml0aWFsaXplZCA9IHRydWU7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwKCkge1xyXG4gIHZhciAkYnRuID0gJChcIi5qcy11cFwiKTtcclxuXHJcbiAgZnVuY3Rpb24gY2hlY2soKSB7XHJcbiAgICB2YXIgc2Nyb2xsID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xyXG5cclxuICAgIGlmIChzY3JvbGwgPiA1MCkge1xyXG4gICAgICAkYnRuLmFkZENsYXNzKFwidmlzaWJsZVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICRidG4ucmVtb3ZlQ2xhc3MoXCJ2aXNpYmxlXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbGV0IGlzVGhyb3R0bGVkID0gZmFsc2U7XHJcbiAgJCh3aW5kb3cpLm9uKFwic2Nyb2xsXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChpc1Rocm90dGxlZCkgcmV0dXJuO1xyXG4gICAgaXNUaHJvdHRsZWQgPSB0cnVlO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGNoZWNrKCk7XHJcbiAgICAgIGlzVGhyb3R0bGVkID0gZmFsc2U7XHJcbiAgICB9LCAxMDApO1xyXG4gIH0pO1xyXG4gIGNoZWNrKCk7XHJcbiAgJGJ0bi5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICQoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoXHJcbiAgICAgIHtcclxuICAgICAgICBzY3JvbGxUb3A6IDAsXHJcbiAgICAgIH0sXHJcbiAgICAgIDUwMFxyXG4gICAgKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2hhdEJsb2NrKCkge1xyXG4gIHZhciAkYmxvY2sgPSAkKFwiLmNoYXQtYmxvY2tcIiksXHJcbiAgICAkb3BlbiA9ICQoXCJbZGF0YS1jaGF0LW9wZW5dXCIpLFxyXG4gICAgJGNsb3NlID0gJChcIltkYXRhLWNoYXQtY2xvc2VdXCIpO1xyXG4gICRvcGVuLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgJGJsb2NrLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gIH0pO1xyXG4gICRjbG9zZS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICRibG9jay5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICB9KTtcclxufVxyXG5cclxudmFyINChdXN0b21JbnRlcmFjdGlvbiA9IGZ1bmN0aW9uINChdXN0b21JbnRlcmFjdGlvbigpIHtcclxuICB2YXIgX3RoaXMyID0gdGhpcztcclxuXHJcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xyXG5cclxuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywg0KF1c3RvbUludGVyYWN0aW9uKTtcclxuXHJcbiAgdGhpcy50YXJnZXRzID0gb3B0aW9ucy50YXJnZXRzO1xyXG4gIHRoaXMudG91Y2hlbmREZWxheSA9IG9wdGlvbnMudG91Y2hlbmREZWxheSB8fCAxMDA7IC8vbXNcclxuXHJcbiAgdmFyIGV2ZW50cyA9IGZ1bmN0aW9uIGV2ZW50cyhldmVudCkge1xyXG4gICAgdmFyICR0YXJnZXRzID0gW107XHJcbiAgICAkdGFyZ2V0c1swXSA9IGV2ZW50LnRhcmdldCAhPT0gZG9jdW1lbnQgPyBldmVudC50YXJnZXQuY2xvc2VzdChfdGhpczIudGFyZ2V0cykgOiBudWxsO1xyXG4gICAgdmFyICRlbGVtZW50ID0gJHRhcmdldHNbMF0sXHJcbiAgICAgIGkgPSAwO1xyXG5cclxuICAgIHdoaWxlICgkdGFyZ2V0c1swXSkge1xyXG4gICAgICAkZWxlbWVudCA9ICRlbGVtZW50LnBhcmVudE5vZGU7XHJcblxyXG4gICAgICBpZiAoJGVsZW1lbnQgIT09IGRvY3VtZW50KSB7XHJcbiAgICAgICAgaWYgKCRlbGVtZW50Lm1hdGNoZXMoJHRhcmdldHMudmFsdWUpKSB7XHJcbiAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAkdGFyZ2V0c1tpXSA9ICRlbGVtZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfSAvL3RvdWNoc3RhcnRcclxuXHJcbiAgICBpZiAoZXZlbnQudHlwZSA9PSBcInRvdWNoc3RhcnRcIikge1xyXG4gICAgICBfdGhpczIudG91Y2hlZCA9IHRydWU7XHJcbiAgICAgIGlmIChfdGhpczIudGltZW91dCkgY2xlYXJUaW1lb3V0KF90aGlzMi50aW1lb3V0KTtcclxuXHJcbiAgICAgIGlmICgkdGFyZ2V0c1swXSkge1xyXG4gICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcigkdGFyZ2V0cyksXHJcbiAgICAgICAgICBfc3RlcDtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7ICkge1xyXG4gICAgICAgICAgICB2YXIgJHRhcmdldCA9IF9zdGVwLnZhbHVlO1xyXG4gICAgICAgICAgICAkdGFyZ2V0LnNldEF0dHJpYnV0ZShcImRhdGEtdG91Y2hcIiwgXCJcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpO1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICBfaXRlcmF0b3IuZigpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy90b3VjaGVuZFxyXG4gICAgZWxzZSBpZiAoZXZlbnQudHlwZSA9PSBcInRvdWNoZW5kXCIgfHwgKGV2ZW50LnR5cGUgPT0gXCJjb250ZXh0bWVudVwiICYmIF90aGlzMi50b3VjaGVkKSkge1xyXG4gICAgICBfdGhpczIudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF90aGlzMi50b3VjaGVkID0gZmFsc2U7XHJcbiAgICAgIH0sIF90aGlzMi50b3VjaGVuZERlbGF5KTtcclxuXHJcbiAgICAgIGlmICgkdGFyZ2V0c1swXSkge1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcigkdGFyZ2V0cyksXHJcbiAgICAgICAgICAgIF9zdGVwMjtcclxuXHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOyApIHtcclxuICAgICAgICAgICAgICB2YXIgXyR0YXJnZXQgPSBfc3RlcDIudmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgIF8kdGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtdG91Y2hcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTtcclxuICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIF9pdGVyYXRvcjIuZigpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIF90aGlzMi50b3VjaGVuZERlbGF5KTtcclxuICAgICAgfVxyXG4gICAgfSAvL21vdXNlZW50ZXJcclxuXHJcbiAgICBpZiAoXHJcbiAgICAgIGV2ZW50LnR5cGUgPT0gXCJtb3VzZWVudGVyXCIgJiZcclxuICAgICAgIV90aGlzMi50b3VjaGVkICYmXHJcbiAgICAgICR0YXJnZXRzWzBdICYmXHJcbiAgICAgICR0YXJnZXRzWzBdID09IGV2ZW50LnRhcmdldFxyXG4gICAgKSB7XHJcbiAgICAgICR0YXJnZXRzWzBdLnNldEF0dHJpYnV0ZShcImRhdGEtaG92ZXJcIiwgXCJcIik7XHJcbiAgICB9XHJcbiAgICAvL21vdXNlbGVhdmVcclxuICAgIGVsc2UgaWYgKFxyXG4gICAgICBldmVudC50eXBlID09IFwibW91c2VsZWF2ZVwiICYmXHJcbiAgICAgICFfdGhpczIudG91Y2hlZCAmJlxyXG4gICAgICAkdGFyZ2V0c1swXSAmJlxyXG4gICAgICAkdGFyZ2V0c1swXSA9PSBldmVudC50YXJnZXRcclxuICAgICkge1xyXG4gICAgICAkdGFyZ2V0c1swXS5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWNsaWNrXCIpO1xyXG4gICAgICAkdGFyZ2V0c1swXS5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWhvdmVyXCIpO1xyXG4gICAgfSAvL21vdXNlZG93blxyXG5cclxuICAgIGlmIChldmVudC50eXBlID09IFwibW91c2Vkb3duXCIgJiYgIV90aGlzMi50b3VjaGVkICYmICR0YXJnZXRzWzBdKSB7XHJcbiAgICAgICR0YXJnZXRzWzBdLnNldEF0dHJpYnV0ZShcImRhdGEtY2xpY2tcIiwgXCJcIik7XHJcbiAgICB9XHJcbiAgICAvL21vdXNldXBcclxuICAgIGVsc2UgaWYgKGV2ZW50LnR5cGUgPT0gXCJtb3VzZXVwXCIgJiYgIV90aGlzMi50b3VjaGVkICYmICR0YXJnZXRzWzBdKSB7XHJcbiAgICAgICR0YXJnZXRzWzBdLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtY2xpY2tcIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgZXZlbnRzKTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgZXZlbnRzKTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCBldmVudHMsIHRydWUpO1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIGV2ZW50cywgdHJ1ZSk7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBldmVudHMpO1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGV2ZW50cyk7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsIGV2ZW50cyk7XHJcbn07XHJcbiJdfQ==

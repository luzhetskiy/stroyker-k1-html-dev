"use strict";function _createForOfIteratorHelper2(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=_unsupportedIterableToArray2(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var a=0,i=function(){};return{s:i,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,r=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return s=t.done,t},e:function(t){r=!0,n=t},f:function(){try{s||null==o.return||o.return()}finally{if(r)throw n}}}}function _unsupportedIterableToArray2(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray2(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray2(t,e):void 0}}function _arrayLikeToArray2(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,a=new Array(e);o<e;o++)a[o]=t[o];return a}var breakpoints={xs:0,sm:576,md:768,lg:1024,xl:1280};function throttle(t,e,o){var a,i=o||{},n=i.noTrailing,s=void 0!==n&&n,r=i.noLeading,c=void 0!==r&&r,l=i.debounceMode,d=void 0===l?void 0:l,u=!1,h=0;function m(){a&&clearTimeout(a)}function p(){for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=this,l=Date.now()-h;function p(){h=Date.now(),e.apply(r,i)}function v(){a=void 0}u||(c||!d||a||p(),m(),void 0===d&&l>t?c?(h=Date.now(),s||(a=setTimeout(d?v:p,t))):p():!0!==s&&(a=setTimeout(d?v:p,void 0===d?t-l:t)))}return p.cancel=function(t){var e=(t||{}).upcomingOnly,o=void 0!==e&&e;m(),u=!o},p}function debounce(t,e,o){var a=(o||{}).atBegin;return throttle(t,e,{debounceMode:!1!==(void 0!==a&&a)})}$(document).ready((function(){$(document).on("click",(function(t){!t.target.closest(".bottom-mobile-menu")&&$(".bottom-mobile-menu-list_active")&&($(".bottom-mobile-menu-list_active").removeClass("bottom-mobile-menu-list_active"),$(".bottom-mobile-menu-button_active").removeClass("bottom-mobile-menu-button_active"))})),$(".catalog-filter-accordion a.opener").click((function(){return $(this).parent().find("ul:first").slideToggle(),$(this).parent().toggleClass("active"),!1})),$("[data-open-dropdown-content]").on("click",(function(t){var e=$(t.currentTarget);e.parent().find("[data-close-dropdown-content]").removeClass("d-none"),e.addClass("d-none")})),$("[data-close-dropdown-content]").on("click",(function(t){var e=$(t.currentTarget);e.parent().find("[data-open-dropdown-content]").removeClass("d-none"),e.addClass("d-none")})),$("[data-toggle-bottom-dropdown]").on("click",(function(t){$(".bottom-mobile-menu-list").toggleClass("bottom-mobile-menu-list_active"),$(t.currentTarget).toggleClass("bottom-mobile-menu-button_active")})),$("[data-close-search-modal]").on("click",(function(){$(".search-modal-window").removeClass("d-block")})),$("[data-open-search-modal]").on("click",(function(){$(".search-modal-window").addClass("d-block"),$(".search-modal-window__input").focus()})),$("[data-clear-input]").on("click",(function(){$("[data-input]").val("")})),$(".like-btn").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active")})),$(".city-selection__link").click((function(){$(".city-selection__list").toggle(0)})),$(window).click((function(t){t.target.classList.contains("city-selection__link")||$(".city-selection__list").toggle(!1)})),$(".burger-menu").click((function(){$(".mobile-menu").toggle(0)})),$(".catalog-inner-btn").click((function(t){t.preventDefault(),$(this).toggleClass("open"),$(".catalog-header-content").toggle(0)})),$(".catalog-inner-btn,.catalog-menu__head a").click((function(t){t.preventDefault(),$(".catalog-menu").toggle(0)})),$(".burger-catalog").click((function(t){t.preventDefault(),$(this).toggleClass("open")})),$(".share-btn").click((function(){$(".share-block__show").toggle(0)})),$(".close-panel").click((function(){$(".bottom-panel").toggle(0)})),$(".filter-btn, .close-btn-2").click((function(){$(".catalog-filter").toggle(0)})),$(".catalog-side__title").click((function(){$(".catalog-side__content").toggle(0),$(".catalog-side__content-accordeon").toggle(0)})),$(".catalog-opened").click((function(){$(".catalog-opened .submenu").toggle(0)})),$(".burger-menu").click((function(){$(this).toggleClass("menu-on")})),$(".catalog-inner").click((function(){$(this).toggleClass("open"),$(".catalog-inner-content").toggle(0)}))})),$((function(){$(".smoothScroll").click((function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if((t=t.length?t:$("[name="+this.hash.slice(1)+"]")).length)return $("html,body").animate({scrollTop:t.offset().top},1e3),!1}}))}));var bigSlides=$(".main-slider .owl-carousel"),autoPlayTimeoutSec=parseInt(bigSlides.data("autoplay-timeout"));bigSlides.owlCarousel({loop:!0,margin:5,nav:!0,dots:!0,items:1,autoplay:!0,autoplayTimeout:1e3*autoPlayTimeoutSec,navText:['<svg class="icon" viewBox="0 0 10.5 18.1"><path stroke="none" d="M9,0l1.4,1.4L2.8,9l7.6,7.6L9,18.1L0,9C0,9,9.1,0,9,0z"></path></svg>','<svg class="icon" viewBox="0 0 10.5 18.1"><path stroke="none" d="M1.4,18.1L0,16.7l7.6-7.6L0,1.5L1.4,0l9,9.1C10.4,9.1,1.3,18.1,1.4,18.1z"></path></svg>']});var radioButtons=document.querySelectorAll('.delivery-selection input[type="radio"]'),choices=document.querySelectorAll(".delivery-choice");radioButtons.forEach((function(t){t.addEventListener("change",(function(){var t=this;choices.forEach((function(e){e.classList.contains(t.id)||e.classList.contains("delivery-type-"+t.value)?e.style.display="block":e.style.display="none"}))}))})),$(".shopping-cart-item__delete").click((function(){$(this).parent(".shopping-cart-item").remove()})),$(".slider .owl-carousel").owlCarousel({loop:!0,margin:0,items:1,nav:!0}),$(".news-slider .owl-carousel").owlCarousel({loop:!0,margin:0,items:4,responsive:{0:{nav:!1,dots:!0,items:1},479:{nav:!1,dots:!0,items:2},768:{nav:!0,dots:!1,items:3},992:{items:4}}}),$(".action-slider .owl-carousel").owlCarousel({loop:!0,margin:20,nav:!0,dots:!1,items:3,responsive:{0:{nav:!1,dots:!0,items:1},479:{nav:!1,dots:!0,items:2},768:{nav:!0,dots:!1,items:3}}}),$(".partners-slider .owl-carousel").owlCarousel({loop:!0,margin:0,nav:!0,dots:!1,items:5,responsive:{0:{dots:!0,nav:!1,items:1},566:{nav:!1,dots:!0,items:2},768:{nav:!1,dots:!0,items:3},900:{nav:!1,dots:!0,items:4},950:{dots:!1}}}),function(t){t("select.custom-select").each((function(){var e=t(this),o=e.attr("id"),a=e.children("optgroup"),i="",n="";a.length?(a.each((function(){var e=t(this),o=e.attr("label");i+='<li class="optgroup">'+o+"</li>",e.children("option").each((function(){var e=t(this),o=e.attr("value"),a=e.html();"selected"===e.attr("selected")?(n=a,i+='<li class="selected" data-value="'+o+'">'+a+"</li>"):i+='<li data-value="'+o+'">'+a+"</li>"}))})),e.children("option").each((function(){var e=t(this),o=e.attr("value"),a=e.html();"selected"===e.attr("selected")?(n=a,i='<li class="selected" data-value="'+o+'">'+a+"</li>"+i):i='<li data-value="'+o+'">'+a+"</li>"+i}))):e.children("option").each((function(){var e=t(this),o=e.attr("value"),a=e.html();"selected"===e.attr("selected")?(n=a,i+='<li class="selected" data-value="'+o+'">'+a+"</li>"):i+='<li data-value="'+o+'">'+a+"</li>"})),t('<div class="dropdown-container"><div class="dropdown-select entypo-down-open-big"><svg class="icon"><use xlink:href="#tab-arrow"></use></svg><span>'+n+'</span></div><ul class="dropdown-select-ul" data-role="'+o+'">'+i+"</ul></div> \x3c!-- .custom-select-wrapper --\x3e").insertAfter(e)}));var e=t(".dropdown-select"),o=t(".dropdown-select-ul"),a=t(".dropdown-select-ul li");e.on("click",(function(){t(this).parent(".dropdown-container").toggleClass("active")})),o.on("mouseleave",(function(){t(this).parent(".dropdown-container").removeClass("active")})),a.on("click",(function(){var e=t(this);if(!e.hasClass("optgroup")){var o=e.parent("ul"),a=o.siblings(".dropdown-select"),i=e.html(),n=e.attr("data-value"),s="#"+o.attr("data-role");o.parent(".dropdown-container").toggleClass("active"),e.siblings("li").removeClass("selected"),e.addClass("selected"),t(s).val(n),a.children("span").html(i)}}))}(jQuery),$(".tab-content").hide(),$(".tab-content:first").show(),$("ul.tabs li,.product-card__review-link a,.schedule-btn a").click((function(){$(".tab-content").hide();var t=$(this).attr("rel");$("#"+t).fadeIn(),$("ul.tabs li").removeClass("active"),$(this).addClass("active"),$(".tab_drawer_heading").removeClass("d_active"),$(".tab_drawer_heading[rel^='"+t+"']").addClass("d_active")})),$(".tab_drawer_heading").click((function(){var t=$(this).attr("rel"),e=$("#"+t+":hidden"),o=$(this).not(".d_active");$(".tab-content").hide(),e.fadeIn(),$(".tab_drawer_heading").removeClass("d_active"),o.addClass("d_active"),$("ul.tabs li").removeClass("active"),$("ul.tabs li[rel^='"+t+"']").addClass("active")})),$("ul.tabs li").last().addClass("tab_last"),jQuery(document).ready((function(){jQuery(".schedule-btn a").click((function(){jQuery(".schedule-link").toggleClass("active")}))})),jQuery(document).ready((function(){jQuery(".product-card__review-link a").click((function(){jQuery(".review-tab-link").toggleClass("active")}))})),$(document).ready((function(){var t=$("#sync1"),e=$("#sync2");t.owlCarousel({items:1,slideSpeed:2e3,nav:!0,autoplay:!1,dots:!0,loop:!0,responsiveRefreshRate:200,margin:10}).on("changed.owl.carousel",(function(t){var o=t.item.count-1,a=Math.round(t.item.index-t.item.count/2-.5);a<0&&(a=o);a>o&&(a=0);e.find(".owl-item").removeClass("current").eq(a).addClass("current");var i=e.find(".owl-item.active").length-1,n=e.find(".owl-item.active").first().index(),s=e.find(".owl-item.active").last().index();a>s&&e.data("owl.carousel").to(a,100,!0);a<n&&e.data("owl.carousel").to(a-i,100,!0)})),e.on("initialized.owl.carousel",(function(){e.find(".owl-item").eq(0).addClass("current")})).owlCarousel({items:3,dots:!0,nav:!0,margin:10,smartSpeed:200,slideSpeed:500,slideBy:3,responsiveRefreshRate:100}).on("changed.owl.carousel",(function(e){var o=e.item.index;t.data("owl.carousel").to(o,100,!0)})),e.on("click",".owl-item",(function(e){e.preventDefault();var o=$(this).index();t.data("owl.carousel").to(o,300,!0)}))})),function(){var t=$(".button1"),e=$(".button2"),o=$(".button3"),a=$(".product-item");e.click((function(e){t.removeClass("current"),o.removeClass("current"),$(e.currentTarget).addClass("current"),localStorage.setItem("catalogGrid","wide"),a.removeClass("product-item--line"),a.addClass("product-item--wide")})),o.click((function(o){e.removeClass("current"),t.removeClass("current"),$(o.currentTarget).addClass("current"),localStorage.setItem("catalogGrid","wide"),a.removeClass("product-item--wide"),a.addClass("product-item--line")})),t.click((function(t){e.removeClass("current"),o.removeClass("current"),$(t.currentTarget).addClass("current"),localStorage.setItem("catalogGrid","default"),a.removeClass("product-item--wide"),a.removeClass("product-item--line")}))}();var keypressSliders=$(".range-slider");function gallery(){$.fancybox&&$(".owl-item [data-fancybox]").on("click",(function(){var t=$(this).parents(".owl-carousel").find(".owl-item:not(.cloned) [data-fancybox]");return $.fancybox.open(t,{selector:t,backFocus:!1},t.index(this)),!1}))}function header(){var t,e,o=$("header"),a=!1;function i(){o.hasClass("header_landing")||(e=$(window).scrollTop(),t=o.height(),e>t?o.addClass("fixed"):o.removeClass("fixed"))}i(),$(window).scroll((function(){a||(a=!0,setTimeout((function(){i(),a=!1}),100))}))}function homeBanner(){var t=$(".home-banner .owl-carousel");t.length&&t.owlCarousel({loop:!0,nav:!0,smartSpeed:500,dots:!0,items:1,lazyLoad:!0,autoplay:!0,autoplayTimeout:1e3*(+t.data("autoplay-timeout")||5),navText:['<svg class="icon" viewBox="0 0 10.5 18.1"><path stroke="none" d="M9,0l1.4,1.4L2.8,9l7.6,7.6L9,18.1L0,9C0,9,9.1,0,9,0z"></path></svg>','<svg class="icon" viewBox="0 0 10.5 18.1"><path stroke="none" d="M1.4,18.1L0,16.7l7.6-7.6L0,1.5L1.4,0l9,9.1C10.4,9.1,1.3,18.1,1.4,18.1z"></path></svg>']})}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function sliderDebounce(t,e,o){var a=!1;return function(){var i=arguments,n=this;a&&clearTimeout(a),a=setTimeout((function(){t.apply(o||n,i)}),e)}}$(keypressSliders).each((function(t,e){var o=$(e).data("name"),a=document.getElementById("id_"+o+"_0"),i=document.getElementById("id_"+o+"_1"),n=[a,i];if(a&&i)var s=parseInt(a.dataset.currentValue),r=parseInt(i.dataset.currentValue),c=parseInt(a.dataset.minValue),l=parseInt(i.dataset.maxValue);var d="";function u(t,o){var a=[null,null];a[t]=o,e.noUiSlider.set(a)}"price_range"==o&&(d=" ₽"),"undefined"!=typeof noUiSlider&&noUiSlider.create(e,{start:[s,r],connect:!0,range:{min:c,max:l},format:wNumb({decimals:0,thousand:" ",postfix:d}),step:1}),null!==e&&e.noUiSlider&&e.noUiSlider.on("update",(function(t,e){n[e].value=t[e]})),n.forEach((function(t,o){null!==t&&(t.addEventListener("change",(function(){u(o,this.value)})),t.addEventListener("keydown",(function(t){var a,i=e.noUiSlider.get(),n=Number(i[o]),s=e.noUiSlider.steps()[o];switch(t.which){case 13:u(o,this.value);break;case 38:!1===(a=s[1])&&(a=1),null!==a&&u(o,n+a);break;case 40:!1===(a=s[0])&&(a=1),null!==a&&u(o,n-a)}})))}))})),$(document).ready((function(){var t,e=$(".product-haracteristic-group__collapse"),o=0,a=_createForOfIteratorHelper2(e.children());try{for(a.s();!(t=a.n()).done;){var i=t.value;o+=$(i).height()}}catch(t){a.e(t)}finally{a.f()}o>85||(e.addClass("product-haracteristic-group_inactive"),$(".product-haracteristic-group__button").addClass("d-none"))})),$(document).ready((function(){var t,e=$(".product-description-group__collapse"),o=0,a=_createForOfIteratorHelper2(e.children());try{for(a.s();!(t=a.n()).done;){var i=t.value;o+=$(i).height()}}catch(t){a.e(t)}finally{a.f()}o>85||(e.addClass("product-description-group__collapse_inactive"),$(".product-description-group__button").addClass("d-none"))})),$(document).ready((function(){var t=0,e=0;$(".product-card-slideshow__sector").on("mousemove",(function(t){var e=$(t.currentTarget),o=e.attr("data-sector"),a=e.parent().parent();a.find(".product-card-slideshow__image_active").removeClass("product-card-slideshow__image_active"),a.find(".product-card-slideshow__dot_active").removeClass("product-card-slideshow__dot_active"),a.find('[data-sector-image="'.concat(o,'"]')).addClass("product-card-slideshow__image_active"),a.find('[data-sector-dot="'.concat(o,'"]')).addClass("product-card-slideshow__dot_active")})),$(".product-card-slideshow__sectors").on("touchstart",(function(e){t=e.changedTouches[0].screenX})),$(".product-card-slideshow__sectors").on("touchend",(function(o){e=o.changedTouches[0].screenX;var a=$(o.currentTarget).parent(),i=a.find(".product-card-slideshow__image_active"),n=Number(i.attr("data-sector-image")),s=a.find(".product-card-slideshow__image").length;if(e<t){if(a.find(".product-card-slideshow__image_active").removeClass("product-card-slideshow__image_active"),a.find(".product-card-slideshow__dot_active").removeClass("product-card-slideshow__dot_active"),n>=s)return a.find('[data-sector-image="'.concat(1,'"]')).addClass("product-card-slideshow__image_active"),void a.find('[data-sector-dot="'.concat(1,'"]')).addClass("product-card-slideshow__dot_active");a.find('[data-sector-image="'.concat(n+1,'"]')).addClass("product-card-slideshow__image_active"),a.find('[data-sector-dot="'.concat(n+1,'"]')).addClass("product-card-slideshow__dot_active")}if(e>t){if(a.find(".product-card-slideshow__image_active").removeClass("product-card-slideshow__image_active"),a.find(".product-card-slideshow__dot_active").removeClass("product-card-slideshow__dot_active"),n<=1)return a.find('[data-sector-image="'.concat(s,'"]')).addClass("product-card-slideshow__image_active"),void a.find('[data-sector-dot="'.concat(s,'"]')).addClass("product-card-slideshow__dot_active");a.find('[data-sector-image="'.concat(n-1,'"]')).addClass("product-card-slideshow__image_active"),a.find('[data-sector-dot="'.concat(n-1,'"]')).addClass("product-card-slideshow__dot_active")}})),$(".product-card-slideshow .product-card-slideshow__image:first-child").addClass("product-card-slideshow__image_active"),$(".product-card-slideshow .product-card-slideshow__dot:first-child").addClass("product-card-slideshow__dot_active")}));var SliderConstructor=function(){function t(e){_classCallCheck(this,t),this.element=e}return _createClass(t,[{key:"init",value:function(){var t=this;this.params={},this.params.autoplay=null!==this.element.getAttribute("data-autoplay-timeout"),this.params.autoplayTimeout=+this.element.getAttribute("data-autoplay-timeout")||5e3,this.params.arrows=null===this.element.getAttribute("data-no-arrows"),window.matchMedia("(min-width: 575.98px)").matches?this.params.dots=null===this.element.getAttribute("data-no-dots"):this.params.dots=!0,this.params.adaptiveHeight=null!==this.element.getAttribute("data-adaptive-height"),this.params.centerMode=null!==this.element.getAttribute("data-center"),this.params.count={},this.params.count.xs=+this.element.getAttribute("data-slides")||1,this.params.count.sm=+this.element.getAttribute("data-sm-slides")||this.params.count.xs,this.params.count.md=+this.element.getAttribute("data-md-slides")||this.params.count.sm,this.params.count.lg=+this.element.getAttribute("data-lg-slides")||this.params.count.md,this.params.count.xl=+this.element.getAttribute("data-xl-slides")||this.params.count.lg,this.params.rows={},this.params.rows.xs=+this.element.getAttribute("data-rows")||1,this.params.rows.sm=+this.element.getAttribute("data-sm-rows")||this.params.rows.xs,this.params.rows.md=+this.element.getAttribute("data-md-rows")||this.params.rows.sm,this.params.rows.lg=+this.element.getAttribute("data-lg-rows")||this.params.rows.md,this.params.rows.xl=+this.element.getAttribute("data-xl-rows")||this.params.rows.lg,this.params.state={},Object.keys(breakpoints).forEach((function(e,o){var a=0!==o?"-"+e+"-":"-",i=t.element.getAttribute("data".concat(a,"mounted"));if(null===i&&0!==o){var n=Object.keys(breakpoints)[o-1];t.params.state[e]=t.params.state[n]}else t.params.state[e]="true"===i||0===o&&"false"!==i})),this.slides=[],this.containsMobileHiddenSlides=!1,this.element.childNodes.forEach((function(e){e.tagName&&(null!==e.getAttribute("data-slide-mobile-hidden")&&(t.containsMobileHiddenSlides=!0),t.slides.push(e))})),this.createIcons(),this.checkSliderState(),this.checkSliderStateDebounced=sliderDebounce(this.checkSliderState,500,this),window.addEventListener("resize",this.checkSliderStateDebounced)}},{key:"createIcons",value:function(){var t='\n      <svg viewBox="0 0 11 19" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n        <path d="M1.4 18.1L0 16.7L7.6 9.10001L0 1.5L1.4 0L10.4 9.10001C10.4 9.10001 1.3 18.1 1.4 18.1Z"/>\n      </svg>\n    ',e='\n      <svg viewBox="0 0 11 19" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n        <path d="M9.00039 7.24792e-05L10.4004 1.40007L2.80039 9.00009L10.4004 16.6001L9.00039 18.1001L0.000391006 9.00009C0.000391006 9.00009 9.10039 7.24792e-05 9.00039 7.24792e-05Z"/>\n      </svg>\n    ',o="custom-icon-left",a="custom-icon-right";this.element.querySelectorAll(".".concat(o,", .").concat(a)).forEach((function(i){var n=i.classList.contains(o),s=i.classList.contains(a);n?(i.classList.remove(o),t=i.outerHTML):s&&(i.classList.remove(a),e=i.outerHTML),i.remove()})),this.nextArrow='<button type="button" class="button button_style-1 slick-next">'.concat(t,"</button>"),this.prevArrow='<button type="button" class="button button_style-1 slick-prev">'.concat(e,"</button>")}},{key:"checkSliderState",value:function(){if(!this.mounted||this.savedWindowWidth!==window.innerWidth){var t;for(var e in this.savedWindowWidth=window.innerWidth,this.mounted&&this.unmount(),breakpoints)window.innerWidth>=breakpoints[e]&&(t=this.params.state[e]);t?(this.element.classList.remove("visible"),this.containsMobileHiddenSlides&&this.checkSlidesVisibility(),this.mount()):this.element.classList.add("visible")}}},{key:"checkSlidesVisibility",value:function(){var t=this;this.slides.forEach((function(t){t.remove()})),this.slides.forEach((function(e){var o=null!==e.getAttribute("data-slide-mobile-hidden"),a=window.innerWidth<breakpoints.sm;o&&a||t.element.insertAdjacentElement("beforeend",e)}))}},{key:"mount",value:function(){$(this.element).slick({autoplay:this.params.autoplay,autoplaySpeed:this.params.autoplayTimeout,mobileFirst:!0,slidesToShow:this.params.count.xs,slidesToScroll:this.params.count.xs,rows:this.params.rows.xs,prevArrow:this.prevArrow,nextArrow:this.nextArrow,arrows:this.params.arrows,adaptiveHeight:this.params.adaptiveHeight,dots:this.params.dots,centerMode:this.params.centerMode,accessibility:!1,responsive:[{breakpoint:breakpoints.sm-1,settings:{slidesToShow:this.params.count.sm,slidesToScroll:this.params.count.sm,rows:this.params.rows.sm}},{breakpoint:breakpoints.md-1,settings:{slidesToShow:this.params.count.md,slidesToScroll:this.params.count.md,rows:this.params.rows.md}},{breakpoint:breakpoints.lg-1,settings:{slidesToShow:this.params.count.lg,slidesToScroll:this.params.count.lg,rows:this.params.rows.lg}},{breakpoint:breakpoints.xl-1,settings:{slidesToShow:this.params.count.xl,slidesToScroll:this.params.count.xl,rows:this.params.rows.xl}}]});var t=0,e=0;$(".slider-constructor .product-card-slideshow__sector").on("mousemove",(function(t){var e=$(t.currentTarget),o=e.attr("data-sector"),a=e.parent().parent();a.find(".product-card-slideshow__image_active").removeClass("product-card-slideshow__image_active"),a.find(".product-card-slideshow__dot_active").removeClass("product-card-slideshow__dot_active"),a.find('[data-sector-image="'.concat(o,'"]')).addClass("product-card-slideshow__image_active"),a.find('[data-sector-dot="'.concat(o,'"]')).addClass("product-card-slideshow__dot_active")})),$(".slider-constructor .product-card-slideshow__sectors").on("touchstart",(function(e){t=e.changedTouches[0].screenX})),$(".slider-constructor .product-card-slideshow__sectors").on("touchend",(function(o){e=o.changedTouches[0].screenX;var a=$(o.currentTarget).parent(),i=a.find(".product-card-slideshow__image_active"),n=Number(i.attr("data-sector-image")),s=a.find(".product-card-slideshow__image").length;if(e<t){if(a.find(".product-card-slideshow__image_active").removeClass("product-card-slideshow__image_active"),a.find(".product-card-slideshow__dot_active").removeClass("product-card-slideshow__dot_active"),n>=s)return a.find('[data-sector-image="'.concat(1,'"]')).addClass("product-card-slideshow__image_active"),void a.find('[data-sector-dot="'.concat(1,'"]')).addClass("product-card-slideshow__dot_active");a.find('[data-sector-image="'.concat(n+1,'"]')).addClass("product-card-slideshow__image_active"),a.find('[data-sector-dot="'.concat(n+1,'"]')).addClass("product-card-slideshow__dot_active")}if(e>t){if(a.find(".product-card-slideshow__image_active").removeClass("product-card-slideshow__image_active"),a.find(".product-card-slideshow__dot_active").removeClass("product-card-slideshow__dot_active"),n<=1)return a.find('[data-sector-image="'.concat(s,'"]')).addClass("product-card-slideshow__image_active"),void a.find('[data-sector-dot="'.concat(s,'"]')).addClass("product-card-slideshow__dot_active");a.find('[data-sector-image="'.concat(n-1,'"]')).addClass("product-card-slideshow__image_active"),a.find('[data-sector-dot="'.concat(n-1,'"]')).addClass("product-card-slideshow__dot_active")}})),this.mounted=!0}},{key:"unmount",value:function(){$(this.element).slick("unslick"),this.mounted=!1}}]),t}();function _defineProperties(t,e){for(var o=0;o<e.length;o++){var a=e[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),t}function _createForOfIteratorHelper(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var a=0,i=function(){};return{s:i,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,r=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return s=t.done,t},e:function(t){r=!0,n=t},f:function(){try{s||null==o.return||o.return()}finally{if(r)throw n}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,a=new Array(e);o<e;o++)a[o]=t[o];return a}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function landing_sliders(){var t=$(".landing-slider .owl-carousel");t.length&&t.each((function(){var t,e,o,a,i=$(this);i.is(".landing-slider_1 .owl-carousel")?(t=2,e=2,o=3,a=4):i.is(".landing-slider_2 .owl-carousel")&&(t=1,e=2,o=3,a=4),i.owlCarousel({loop:!0,margin:20,responsive:{0:{items:t,margin:16},576:{items:e},768:{items:o},992:{items:a}}})}))}function toggle(){var t=$(".toggle-section");t.each((function(){var t,e,o=$(this),a=o.children(".toggle-section__trigger"),i=o.children(".toggle-section__content"),n=i.find(".toggle-section__close"),s=!!o.hasClass("active");(a.on("click",(function(){s=!s,r()})),n.on("click",(function(){s=!1,r()})),o.is("[data-hover]"))&&(a.add(i).on("mouseenter",(function(t){isTouch||(e&&clearTimeout(e),s=!0,r())})),a.add(i).on("mouseleave",(function(t){var o;isTouch||(o=$(this).is(a)?500:100,e=setTimeout((function(){s=!1,r()}),o))})));function r(){s?(o.add(i).add(a).addClass("active"),o.is("[data-slide]")&&i.slideDown(250)):(o.add(a).add(i).removeClass("active"),o.is("[data-slide]")&&(t?i.stop().slideUp(250):i.hide(0)))}(o.is("[data-out-hide]")||o.is("[data-hover]"))&&$(document).on("click touchstart",(function(t){var e=$(t.target);e.closest(i).length||e.closest(a).length||!s||(s=!1,r())})),r(),t=!0}))}function up(){var t=$(".js-up");function e(){$(window).scrollTop()>50?t.addClass("visible"):t.removeClass("visible")}var o=!1;$(window).on("scroll",(function(){o||(o=!0,setTimeout((function(){e(),o=!1}),100))})),e(),t.on("click",(function(t){t.preventDefault(),$("html, body").animate({scrollTop:0},500)}))}function chatBlock(){var t=$(".chat-block"),e=$("[data-chat-open]"),o=$("[data-chat-close]");e.on("click",(function(){t.addClass("active")})),o.on("click",(function(){t.removeClass("active")}))}!function(t){var e="cscrlb";function o(o,a){var i,n,s,r,c,l=o,d=t(o),u=d.find(".cscrlb-content"),h=7/8,m="vert",p="scrollTop",v="height",f="top";function g(e){e.preventDefault();var o=e.pageY;"horiz"===m&&(o=e.pageX),r=o-s.offset()[f],t(document).on("mousemove",_),t(document).on("mouseup",w)}function _(t){t.preventDefault();var e=t.pageY;"horiz"===m&&(e=t.pageX);var o=(e-n.offset()[f]-r)/n[v]()*u[v]();i[p](o)}function w(){t(document).off("mousemove",_),t(document).off("mouseup",w)}function b(t){if(t.target!==s[0]){var e=h*i[v](),o=("vert"===m?t.originalEvent.layerY:t.originalEvent.layerX)<s.position()[f]?i[p]()-e:i[p]()+e;i[p](o)}}function y(t){C()}function $(){var t=u[v](),e=i[p](),o=n[v](),a=o/t,r=Math.round(a*e),c=Math.floor(a*(o+2));o<t?("vert"===m?s.css({top:r,height:c}):s.css({left:r,width:c}),n.show()):n.hide()}function C(){$(),k()}function k(){s.addClass("visible"),a.autoHide&&("number"==typeof c&&window.clearTimeout(c),c=window.setTimeout((function(){s.removeClass("visible"),"number"==typeof c&&window.clearTimeout(c)}),1e3))}function T(){"vert"===m?(i.width(d.width()+S()),i.height(d.height())):(i.width(d.width()),i.height(d.height()+S()),u.height(d.height()))}function S(){var e=t('<div class="scrollbar-width-tester" style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>');t("body").append(e);var o=t(e).innerWidth(),a=t("div",e).innerWidth();return e.remove(),o===a&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1?17:o-a}function x(){T(),$()}return a=t.extend({},t.fn[e].defaults,a),window.onload=function(){u.focus()},d.hasClass("horizontal")&&(m="horiz",p="scrollLeft",v="width",f="left"),d.prepend('<div class="cscrlb-scrollbar"><div class="drag-handle"></div></div>'),n=d.find(".cscrlb-scrollbar"),s=d.find(".drag-handle"),a.wrapContent&&u.wrap('<div class="cscrlb-scroll-content" />'),i=d.find(".cscrlb-scroll-content"),T(),a.autoHide&&d.on("mouseenter",C),s.on("mousedown",g),n.on("mousedown",b),i.on("scroll",y),$(),t(window).on("resize",(function(){x()})),a.autoHide||k(),{option:function(t,e){if(!e)return a[t];a[t]=e},destroy:function(){var t;u.insertBefore(n),n.remove(),i.remove(),u.css({height:d.height()+"px","overflow-y":"scroll"}),void 0!==a[t="onDestroy"]&&a[t].call(l),d.removeData("plugin_"+e)},recalculate:x}}t.fn[e]=function(a){if("string"==typeof arguments[0]){var i,n=arguments[0],s=Array.prototype.slice.call(arguments,1);return this.each((function(){if(!t.data(this,"plugin_"+e)||"function"!=typeof t.data(this,"plugin_"+e)[n])throw new Error(" "+n+" "+e);i=t.data(this,"plugin_"+e)[n].apply(this,s)})),void 0!==i?i:this}if("object"===_typeof(a)||!a)return this.each((function(){t.data(this,"plugin_"+e)||t.data(this,"plugin_"+e,new o(this,a))}))},t.fn[e].defaults={onInit:function(){},onDestroy:function(){},wrapContent:!0,autoHide:!1}}(jQuery),$((function(){$(".cscrlb-scrollable").cscrlb()})),$(document).ready((function(){homeBanner(),header(),gallery(),landing_sliders(),up(),chatBlock(),toggle(),new СustomInteraction({targets:"a, button, [data-custom-interaction], .image-zoom"}),document.querySelectorAll(".slider-constructor").forEach((function(t){new SliderConstructor(t).init()}))}));var СustomInteraction=function t(){var e=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.targets=o.targets,this.touchendDelay=o.touchendDelay||100;var a=function(t){var o=[];o[0]=t.target!==document?t.target.closest(e.targets):null;for(var a=o[0],i=0;o[0]&&(a=a.parentNode)!==document;)a.matches(o.value)&&(i++,o[i]=a);if("touchstart"==t.type){if(e.touched=!0,e.timeout&&clearTimeout(e.timeout),o[0]){var n,s=_createForOfIteratorHelper(o);try{for(s.s();!(n=s.n()).done;){n.value.setAttribute("data-touch","")}}catch(t){s.e(t)}finally{s.f()}}}else("touchend"==t.type||"contextmenu"==t.type&&e.touched)&&(e.timeout=setTimeout((function(){e.touched=!1}),e.touchendDelay),o[0]&&setTimeout((function(){var t,e=_createForOfIteratorHelper(o);try{for(e.s();!(t=e.n()).done;){t.value.removeAttribute("data-touch")}}catch(t){e.e(t)}finally{e.f()}}),e.touchendDelay));"mouseenter"==t.type&&!e.touched&&o[0]&&o[0]==t.target?o[0].setAttribute("data-hover",""):"mouseleave"==t.type&&!e.touched&&o[0]&&o[0]==t.target&&(o[0].removeAttribute("data-click"),o[0].removeAttribute("data-hover")),"mousedown"==t.type&&!e.touched&&o[0]?o[0].setAttribute("data-click",""):"mouseup"==t.type&&!e.touched&&o[0]&&o[0].removeAttribute("data-click")};document.addEventListener("touchstart",a),document.addEventListener("touchend",a),document.addEventListener("mouseenter",a,!0),document.addEventListener("mouseleave",a,!0),document.addEventListener("mousedown",a),document.addEventListener("mouseup",a),document.addEventListener("contextmenu",a)};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyIiwibyIsImFsbG93QXJyYXlMaWtlIiwiaXQiLCJTeW1ib2wiLCJpdGVyYXRvciIsIkFycmF5IiwiaXNBcnJheSIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheTIiLCJsZW5ndGgiLCJpIiwiRiIsInMiLCJuIiwiZG9uZSIsInZhbHVlIiwiZSIsIl9lMyIsImYiLCJUeXBlRXJyb3IiLCJlcnIiLCJub3JtYWxDb21wbGV0aW9uIiwiZGlkRXJyIiwiY2FsbCIsInN0ZXAiLCJuZXh0IiwiX2U0IiwicmV0dXJuIiwibWluTGVuIiwiX2FycmF5TGlrZVRvQXJyYXkyIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsImZyb20iLCJ0ZXN0IiwiYXJyIiwibGVuIiwiYXJyMiIsImJyZWFrcG9pbnRzIiwieHMiLCJzbSIsIm1kIiwibGciLCJ4bCIsInRocm90dGxlIiwiZGVsYXkiLCJjYWxsYmFjayIsIm9wdGlvbnMiLCJ0aW1lb3V0SUQiLCJfcmVmIiwiX3JlZiRub1RyYWlsaW5nIiwibm9UcmFpbGluZyIsIl9yZWYkbm9MZWFkaW5nIiwibm9MZWFkaW5nIiwiX3JlZiRkZWJvdW5jZU1vZGUiLCJkZWJvdW5jZU1vZGUiLCJ1bmRlZmluZWQiLCJjYW5jZWxsZWQiLCJsYXN0RXhlYyIsImNsZWFyRXhpc3RpbmdUaW1lb3V0IiwiY2xlYXJUaW1lb3V0Iiwid3JhcHBlciIsIl9sZW4iLCJhcmd1bWVudHMiLCJhcmd1bWVudHNfIiwiX2tleSIsInNlbGYiLCJ0aGlzIiwiZWxhcHNlZCIsIkRhdGUiLCJub3ciLCJleGVjIiwiYXBwbHkiLCJjbGVhciIsInNldFRpbWVvdXQiLCJjYW5jZWwiLCJfcmVmMiR1cGNvbWluZ09ubHkiLCJ1cGNvbWluZ09ubHkiLCJkZWJvdW5jZSIsIl9yZWYkYXRCZWdpbiIsImF0QmVnaW4iLCIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsIm9uIiwiZXZlbnQiLCJ0YXJnZXQiLCJjbG9zZXN0IiwicmVtb3ZlQ2xhc3MiLCJjbGljayIsInBhcmVudCIsImZpbmQiLCJzbGlkZVRvZ2dsZSIsInRvZ2dsZUNsYXNzIiwiY3VycmVudFRhcmdldCIsImFkZENsYXNzIiwiZm9jdXMiLCJ2YWwiLCJwcmV2ZW50RGVmYXVsdCIsInRvZ2dsZSIsIndpbmRvdyIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwibG9jYXRpb24iLCJwYXRobmFtZSIsInJlcGxhY2UiLCJob3N0bmFtZSIsImhhc2giLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwib2Zmc2V0IiwidG9wIiwiYmlnU2xpZGVzIiwiYXV0b1BsYXlUaW1lb3V0U2VjIiwicGFyc2VJbnQiLCJkYXRhIiwib3dsQ2Fyb3VzZWwiLCJsb29wIiwibWFyZ2luIiwibmF2IiwiZG90cyIsIml0ZW1zIiwiYXV0b3BsYXkiLCJhdXRvcGxheVRpbWVvdXQiLCJuYXZUZXh0IiwicmFkaW9CdXR0b25zIiwicXVlcnlTZWxlY3RvckFsbCIsImNob2ljZXMiLCJmb3JFYWNoIiwiYnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsaWNrZWQiLCJjaG9pY2UiLCJpZCIsInN0eWxlIiwiZGlzcGxheSIsInJlbW92ZSIsInJlc3BvbnNpdmUiLCJlYWNoIiwidGhhdCIsImxpc3RJRCIsImF0dHIiLCJncm91cHMiLCJjaGlsZHJlbiIsInRoZU9wdGlvbnMiLCJzdGFydGluZ09wdGlvbiIsImN1ckdyb3VwIiwiY3VyTmFtZSIsImN1ck9wdCIsImN1clZhbCIsImN1ckh0bWwiLCJodG1sIiwiaW5zZXJ0QWZ0ZXIiLCJzZWxlY3RkZCIsInNlbGVjdHVsIiwic2VsZWN0bGkiLCJoYXNDbGFzcyIsInBhcmVudFVsIiwidGhpc2RkIiwic2libGluZ3MiLCJsaWh0bWwiLCJsaXZhbHVlIiwib3JpZ2luYWxTZWxlY3QiLCJqUXVlcnkiLCJoaWRlIiwic2hvdyIsImFjdGl2ZVRhYiIsImZhZGVJbiIsImRfYWN0aXZlVGFiIiwiYWN0aXZlVGFiQmxvY2siLCIkdGhpc0FjdGl2ZSIsIm5vdCIsImxhc3QiLCJzeW5jMSIsInN5bmMyIiwic2xpZGVTcGVlZCIsInJlc3BvbnNpdmVSZWZyZXNoUmF0ZSIsImVsIiwiY291bnQiLCJpdGVtIiwiY3VycmVudCIsIk1hdGgiLCJyb3VuZCIsImluZGV4IiwiZXEiLCJvbnNjcmVlbiIsInN0YXJ0IiwiZmlyc3QiLCJlbmQiLCJ0byIsInNtYXJ0U3BlZWQiLCJzbGlkZUJ5IiwibnVtYmVyIiwiYnV0dG9uRGVmYXVsdFZpZXciLCJidXR0b25XaWRlVmlldyIsImJ1dHRvbkxpbmVWaWV3IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImtleXByZXNzU2xpZGVycyIsImdhbGxlcnkiLCJmYW5jeWJveCIsIiRzZWxlY3RvciIsInBhcmVudHMiLCJvcGVuIiwic2VsZWN0b3IiLCJiYWNrRm9jdXMiLCJoZWFkZXIiLCJoZWlnaHQiLCJzY3JvbGwiLCIkaGVhZGVyIiwiaXNUaHJvdHRsZWQiLCJjaGVjayIsImhvbWVCYW5uZXIiLCIkc2xpZGVyIiwibGF6eUxvYWQiLCJfdHlwZW9mIiwib2JqIiwic2xpZGVyRGVib3VuY2UiLCJmdW5jIiwiaW50ZXJ2YWwiLCJjb250ZXh0IiwidGltZW91dCIsIl9hcmd1bWVudHMiLCJfdGhpcyIsImtleXByZXNzU2xpZGVyIiwiZmllbGRfbmFtZSIsImlucHV0MCIsImdldEVsZW1lbnRCeUlkIiwiaW5wdXQxIiwiaW5wdXRzIiwic3RhcnRWYWwiLCJkYXRhc2V0IiwiY3VycmVudFZhbHVlIiwiZW5kVmFsIiwibWluVmFsIiwibWluVmFsdWUiLCJtYXhWYWwiLCJtYXhWYWx1ZSIsInBvc3RmaXgiLCJzZXRTbGlkZXJIYW5kbGUiLCJyIiwibm9VaVNsaWRlciIsInNldCIsImNyZWF0ZSIsImNvbm5lY3QiLCJyYW5nZSIsIm1pbiIsIm1heCIsImZvcm1hdCIsIndOdW1iIiwiZGVjaW1hbHMiLCJ0aG91c2FuZCIsInZhbHVlcyIsImhhbmRsZSIsImlucHV0IiwicG9zaXRpb24iLCJnZXQiLCJOdW1iZXIiLCJzdGVwcyIsIndoaWNoIiwiX3N0ZXAzIiwiY29sbGFwc2UiLCJjb2xsYXBzZUNoaWxkcmVuSGVpZ2h0IiwiX2l0ZXJhdG9yMyIsImNoaWxkIiwiX3N0ZXA0IiwiX2l0ZXJhdG9yNCIsInRvdWNoc3RhcnRYIiwidG91Y2hlbmRYIiwiY29uY2F0IiwiY2hhbmdlZFRvdWNoZXMiLCJzY3JlZW5YIiwiaW1nIiwiU2xpZGVyQ29uc3RydWN0b3IiLCJlbGVtZW50IiwiX2NsYXNzQ2FsbENoZWNrIiwiX2NyZWF0ZUNsYXNzIiwia2V5IiwiX3RoaXMzIiwicGFyYW1zIiwiZ2V0QXR0cmlidXRlIiwiYXJyb3dzIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJhZGFwdGl2ZUhlaWdodCIsImNlbnRlck1vZGUiLCJyb3dzIiwic3RhdGUiLCJrZXlzIiwiYnJlYWtwb2ludCIsInByZXZLZXkiLCJzbGlkZXMiLCJjb250YWluc01vYmlsZUhpZGRlblNsaWRlcyIsImNoaWxkTm9kZXMiLCJzbGlkZSIsInRhZ05hbWUiLCJwdXNoIiwiY3JlYXRlSWNvbnMiLCJjaGVja1NsaWRlclN0YXRlIiwiY2hlY2tTbGlkZXJTdGF0ZURlYm91bmNlZCIsImxlZnRJY29uIiwicmlnaHRJY29uIiwibGVmdEljb25DbGFzcyIsInJpZ2h0SWNvbkNsYXNzIiwiaWNvbiIsImlzTGVmdEljb24iLCJpc1JpZ2h0SWNvbiIsIm91dGVySFRNTCIsIm5leHRBcnJvdyIsInByZXZBcnJvdyIsIm1vdW50ZWQiLCJzYXZlZFdpbmRvd1dpZHRoIiwiaW5uZXJXaWR0aCIsInVubW91bnQiLCJjaGVja1NsaWRlc1Zpc2liaWxpdHkiLCJtb3VudCIsImFkZCIsIl90aGlzNCIsInNob3VsZEJlSGlkZGVuIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50Iiwic2xpY2siLCJhdXRvcGxheVNwZWVkIiwibW9iaWxlRmlyc3QiLCJzbGlkZXNUb1Nob3ciLCJzbGlkZXNUb1Njcm9sbCIsImFjY2Vzc2liaWxpdHkiLCJzZXR0aW5ncyIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZGVmaW5lUHJvcGVydHkiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX2UiLCJfZTIiLCJfYXJyYXlMaWtlVG9BcnJheSIsImluc3RhbmNlIiwibGFuZGluZ19zbGlkZXJzIiwiJHNsaWRlcnMiLCJjb3VudDEiLCJjb3VudDIiLCJjb3VudDMiLCJjb3VudDQiLCIkdGhpcyIsImlzIiwiJHNlY3Rpb24iLCJpbml0aWFsaXplZCIsIiR0b2dnbGUiLCIkY29udGVudCIsIiRjbG9zZSIsImlzVG91Y2giLCJzbGlkZURvd24iLCJzdG9wIiwic2xpZGVVcCIsIiR0YXJnZXQiLCJ1cCIsIiRidG4iLCJjaGF0QmxvY2siLCIkYmxvY2siLCIkb3BlbiIsInBsdWdpbk5hbWUiLCJQbHVnaW4iLCIkc2Nyb2xsQ29udGVudEVsIiwiJHNjcm9sbGJhckVsIiwiJGRyYWdIYW5kbGVFbCIsImRyYWdPZmZzZXQiLCJmbGFzaFRpbWVvdXQiLCIkZWwiLCIkY29udGVudEVsIiwicGFnZUp1bXBNdWx0cCIsInNjcm9sbERpcmVjdGlvbiIsInNjcm9sbE9mZnNldEF0dHIiLCJzaXplQXR0ciIsIm9mZnNldEF0dHIiLCJzdGFydERyYWciLCJldmVudE9mZnNldCIsInBhZ2VZIiwicGFnZVgiLCJkcmFnIiwiZW5kRHJhZyIsInNjcm9sbFBvcyIsIm9mZiIsImp1bXBTY3JvbGwiLCJqdW1wQW10Iiwib3JpZ2luYWxFdmVudCIsImxheWVyWSIsImxheWVyWCIsIm9uU2Nyb2xsZWQiLCJmbGFzaFNjcm9sbGJhciIsInJlc2l6ZVNjcm9sbGJhciIsImNvbnRlbnRTaXplIiwic2Nyb2xsT2Zmc2V0Iiwic2Nyb2xsYmFyU2l6ZSIsInNjcm9sbGJhclJhdGlvIiwiaGFuZGxlT2Zmc2V0IiwiaGFuZGxlU2l6ZSIsImZsb29yIiwiY3NzIiwibGVmdCIsIndpZHRoIiwic2hvd1Njcm9sbGJhciIsImF1dG9IaWRlIiwicmVzaXplU2Nyb2xsQ29udGVudCIsInNjcm9sbGJhcldpZHRoIiwidGVtcEVsIiwiYXBwZW5kIiwid2lkdGhNaW51c1Njcm9sbGJhcnMiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJyZWNhbGN1bGF0ZSIsImV4dGVuZCIsImZuIiwiZGVmYXVsdHMiLCJvbmxvYWQiLCJwcmVwZW5kIiwid3JhcENvbnRlbnQiLCJ3cmFwIiwib3B0aW9uIiwiZGVzdHJveSIsImhvb2tOYW1lIiwiaW5zZXJ0QmVmb3JlIiwicmVtb3ZlRGF0YSIsInJldHVyblZhbCIsIm1ldGhvZE5hbWUiLCJhcmdzIiwiRXJyb3IiLCJvbkluaXQiLCJvbkRlc3Ryb3kiLCJjc2NybGIiLCLQoXVzdG9tSW50ZXJhY3Rpb24iLCJ0YXJnZXRzIiwiaW5pdCIsIl90aGlzMiIsInRvdWNoZW5kRGVsYXkiLCJldmVudHMiLCIkdGFyZ2V0cyIsIiRlbGVtZW50IiwicGFyZW50Tm9kZSIsInR5cGUiLCJ0b3VjaGVkIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJzZXRBdHRyaWJ1dGUiLCJfc3RlcDIiLCJfaXRlcmF0b3IyIiwicmVtb3ZlQXR0cmlidXRlIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBLFNBQVNBLDRCQUE0QkMsRUFBR0MsR0FBa0IsSUFBSUMsRUFBdUIsb0JBQVhDLFFBQTBCSCxFQUFFRyxPQUFPQyxXQUFhSixFQUFFLGNBQWUsSUFBS0UsRUFBSSxDQUFFLEdBQUlHLE1BQU1DLFFBQVFOLEtBQU9FLEVBQUtLLDZCQUE2QlAsS0FBT0MsR0FBa0JELEdBQXlCLGlCQUFiQSxFQUFFUSxPQUFxQixDQUFNTixJQUFJRixFQUFJRSxHQUFJLElBQUlPLEVBQUksRUFBT0MsRUFBSSxXQUFjLEVBQUcsTUFBTyxDQUFFQyxFQUFHRCxF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QyxNQUFRLENBQ3ZDd2IsRUFBT3ZiLE1BRWJ5YixnQkFBZ0IsYUFDM0IsQ0FDRixDQUFFLE1BQU9wYixHQUNQbWIsRUFBV3ZiLEVBQUVJLEVBQ2YsQ0FBQyxRQUNDbWIsRUFBV3JiLEdBQ2IsQ0FDRixHQUFHeWEsRUFBT0MsZ0JBS0UsY0FBZHBXLEVBQU15VyxPQUNMTixFQUFPTyxTQUNSSixFQUFTLElBQ1RBLEVBQVMsSUFBTXRXLEVBQU1DLE9BRXJCcVcsRUFBUyxHQUFHTyxhQUFhLGFBQWMsSUFJekIsY0FBZDdXLEVBQU15VyxPQUNMTixFQUFPTyxTQUNSSixFQUFTLElBQ1RBLEVBQVMsSUFBTXRXLEVBQU1DLFNBRXJCcVcsRUFBUyxHQUFHVSxnQkFBZ0IsY0FDNUJWLEVBQVMsR0FBR1UsZ0JBQWdCLGVBR1osYUFBZGhYLEVBQU15VyxPQUF3Qk4sRUFBT08sU0FBV0osRUFBUyxHQUMzREEsRUFBUyxHQUFHTyxhQUFhLGFBQWMsSUFHbEIsV0FBZDdXLEVBQU15VyxPQUFzQk4sRUFBT08sU0FBV0osRUFBUyxJQUM5REEsRUFBUyxHQUFHVSxnQkFBZ0IsYUFFaEMsRUFFQW5YLFNBQVNnRCxpQkFBaUIsYUFBY3dULEdBQ3hDeFcsU0FBU2dELGlCQUFpQixXQUFZd1QsR0FDdEN4VyxTQUFTZ0QsaUJBQWlCLGFBQWN3VCxHQUFRLEdBQ2hEeFcsU0FBU2dELGlCQUFpQixhQUFjd1QsR0FBUSxHQUNoRHhXLFNBQVNnRCxpQkFBaUIsWUFBYXdULEdBQ3ZDeFcsU0FBU2dELGlCQUFpQixVQUFXd1QsR0FDckN4VyxTQUFTZ0QsaUJBQWlCLGNBQWV3VCxFQUMzQyIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKFwidXNlIHN0cmljdFwiKTtcclxuXHJcbmNvbnN0IGJyZWFrcG9pbnRzID0ge1xyXG4gIHhzOiAwLFxyXG4gIHNtOiA1NzYsXHJcbiAgbWQ6IDc2OCxcclxuICBsZzogMTAyNCxcclxuICB4bDogMTI4MCxcclxufTtcclxuXHJcbmZ1bmN0aW9uIHRocm90dGxlKGRlbGF5LCBjYWxsYmFjaywgb3B0aW9ucykge1xyXG4gIHZhciBfcmVmID0gb3B0aW9ucyB8fCB7fSxcclxuICAgIF9yZWYkbm9UcmFpbGluZyA9IF9yZWYubm9UcmFpbGluZyxcclxuICAgIG5vVHJhaWxpbmcgPSBfcmVmJG5vVHJhaWxpbmcgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRub1RyYWlsaW5nLFxyXG4gICAgX3JlZiRub0xlYWRpbmcgPSBfcmVmLm5vTGVhZGluZyxcclxuICAgIG5vTGVhZGluZyA9IF9yZWYkbm9MZWFkaW5nID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkbm9MZWFkaW5nLFxyXG4gICAgX3JlZiRkZWJvdW5jZU1vZGUgPSBfcmVmLmRlYm91bmNlTW9kZSxcclxuICAgIGRlYm91bmNlTW9kZSA9IF9yZWYkZGVib3VuY2VNb2RlID09PSB2b2lkIDAgPyB1bmRlZmluZWQgOiBfcmVmJGRlYm91bmNlTW9kZTtcclxuXHJcbiAgdmFyIHRpbWVvdXRJRDtcclxuICB2YXIgY2FuY2VsbGVkID0gZmFsc2U7XHJcblxyXG4gIHZhciBsYXN0RXhlYyA9IDA7XHJcblxyXG4gIGZ1bmN0aW9uIGNsZWFyRXhpc3RpbmdUaW1lb3V0KCkge1xyXG4gICAgaWYgKHRpbWVvdXRJRCkge1xyXG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElEKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNhbmNlbChvcHRpb25zKSB7XHJcbiAgICB2YXIgX3JlZjIgPSBvcHRpb25zIHx8IHt9LFxyXG4gICAgICBfcmVmMiR1cGNvbWluZ09ubHkgPSBfcmVmMi51cGNvbWluZ09ubHksXHJcbiAgICAgIHVwY29taW5nT25seSA9IF9yZWYyJHVwY29taW5nT25seSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMiR1cGNvbWluZ09ubHk7XHJcblxyXG4gICAgY2xlYXJFeGlzdGluZ1RpbWVvdXQoKTtcclxuICAgIGNhbmNlbGxlZCA9ICF1cGNvbWluZ09ubHk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB3cmFwcGVyKCkge1xyXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3VtZW50c18gPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XHJcbiAgICAgIGFyZ3VtZW50c19bX2tleV0gPSBhcmd1bWVudHNbX2tleV07XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGVsYXBzZWQgPSBEYXRlLm5vdygpIC0gbGFzdEV4ZWM7XHJcblxyXG4gICAgaWYgKGNhbmNlbGxlZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXhlYygpIHtcclxuICAgICAgbGFzdEV4ZWMgPSBEYXRlLm5vdygpO1xyXG4gICAgICBjYWxsYmFjay5hcHBseShzZWxmLCBhcmd1bWVudHNfKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjbGVhcigpIHtcclxuICAgICAgdGltZW91dElEID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghbm9MZWFkaW5nICYmIGRlYm91bmNlTW9kZSAmJiAhdGltZW91dElEKSB7XHJcbiAgICAgIGV4ZWMoKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhckV4aXN0aW5nVGltZW91dCgpO1xyXG5cclxuICAgIGlmIChkZWJvdW5jZU1vZGUgPT09IHVuZGVmaW5lZCAmJiBlbGFwc2VkID4gZGVsYXkpIHtcclxuICAgICAgaWYgKG5vTGVhZGluZykge1xyXG4gICAgICAgIGxhc3RFeGVjID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgICAgaWYgKCFub1RyYWlsaW5nKSB7XHJcbiAgICAgICAgICB0aW1lb3V0SUQgPSBzZXRUaW1lb3V0KGRlYm91bmNlTW9kZSA/IGNsZWFyIDogZXhlYywgZGVsYXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBleGVjKCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAobm9UcmFpbGluZyAhPT0gdHJ1ZSkge1xyXG4gICAgICB0aW1lb3V0SUQgPSBzZXRUaW1lb3V0KFxyXG4gICAgICAgIGRlYm91bmNlTW9kZSA/IGNsZWFyIDogZXhlYyxcclxuICAgICAgICBkZWJvdW5jZU1vZGUgPT09IHVuZGVmaW5lZCA/IGRlbGF5IC0gZWxhcHNlZCA6IGRlbGF5XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB3cmFwcGVyLmNhbmNlbCA9IGNhbmNlbDtcclxuXHJcbiAgcmV0dXJuIHdyYXBwZXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlYm91bmNlKGRlbGF5LCBjYWxsYmFjaywgb3B0aW9ucykge1xyXG4gIHZhciBfcmVmID0gb3B0aW9ucyB8fCB7fSxcclxuICAgIF9yZWYkYXRCZWdpbiA9IF9yZWYuYXRCZWdpbixcclxuICAgIGF0QmVnaW4gPSBfcmVmJGF0QmVnaW4gPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRhdEJlZ2luO1xyXG5cclxuICByZXR1cm4gdGhyb3R0bGUoZGVsYXksIGNhbGxiYWNrLCB7XHJcbiAgICBkZWJvdW5jZU1vZGU6IGF0QmVnaW4gIT09IGZhbHNlLFxyXG4gIH0pO1xyXG59XHJcblxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoIWV2ZW50LnRhcmdldC5jbG9zZXN0KFwiLmJvdHRvbS1tb2JpbGUtbWVudVwiKSAmJiAkKFwiLmJvdHRvbS1tb2JpbGUtbWVudS1saXN0X2FjdGl2ZVwiKSkge1xyXG4gICAgICAkKFwiLmJvdHRvbS1tb2JpbGUtbWVudS1saXN0X2FjdGl2ZVwiKS5yZW1vdmVDbGFzcyhcImJvdHRvbS1tb2JpbGUtbWVudS1saXN0X2FjdGl2ZVwiKTtcclxuICAgICAgJChcIi5ib3R0b20tbW9iaWxlLW1lbnUtYnV0dG9uX2FjdGl2ZVwiKS5yZW1vdmVDbGFzcyhcImJvdHRvbS1tb2JpbGUtbWVudS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAkKFwiLmNhdGFsb2ctZmlsdGVyLWFjY29yZGlvbiBhLm9wZW5lclwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoXCJ1bDpmaXJzdFwiKS5zbGlkZVRvZ2dsZSgpO1xyXG4gICAgJCh0aGlzKS5wYXJlbnQoKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9KTtcclxuXHJcbiAgJChcIltkYXRhLW9wZW4tZHJvcGRvd24tY29udGVudF1cIikub24oXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgIGNvbnN0IHRhcmdldCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XHJcbiAgICBjb25zdCBwYXJlbnQgPSB0YXJnZXQucGFyZW50KCk7XHJcbiAgICBwYXJlbnQuZmluZChcIltkYXRhLWNsb3NlLWRyb3Bkb3duLWNvbnRlbnRdXCIpLnJlbW92ZUNsYXNzKFwiZC1ub25lXCIpO1xyXG4gICAgdGFyZ2V0LmFkZENsYXNzKFwiZC1ub25lXCIpO1xyXG4gIH0pO1xyXG5cclxuICAkKFwiW2RhdGEtY2xvc2UtZHJvcGRvd24tY29udGVudF1cIikub24oXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgIGNvbnN0IHRhcmdldCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XHJcbiAgICBjb25zdCBwYXJlbnQgPSB0YXJnZXQucGFyZW50KCk7XHJcbiAgICBwYXJlbnQuZmluZChcIltkYXRhLW9wZW4tZHJvcGRvd24tY29udGVudF1cIikucmVtb3ZlQ2xhc3MoXCJkLW5vbmVcIik7XHJcbiAgICB0YXJnZXQuYWRkQ2xhc3MoXCJkLW5vbmVcIik7XHJcbiAgfSk7XHJcblxyXG4gICQoXCJbZGF0YS10b2dnbGUtYm90dG9tLWRyb3Bkb3duXVwiKS5vbihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgJChcIi5ib3R0b20tbW9iaWxlLW1lbnUtbGlzdFwiKS50b2dnbGVDbGFzcyhcImJvdHRvbS1tb2JpbGUtbWVudS1saXN0X2FjdGl2ZVwiKTtcclxuICAgICQoZXZlbnQuY3VycmVudFRhcmdldCkudG9nZ2xlQ2xhc3MoXCJib3R0b20tbW9iaWxlLW1lbnUtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICB9KTtcclxuXHJcbiAgJChcIltkYXRhLWNsb3NlLXNlYXJjaC1tb2RhbF1cIikub24oXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAkKFwiLnNlYXJjaC1tb2RhbC13aW5kb3dcIikucmVtb3ZlQ2xhc3MoXCJkLWJsb2NrXCIpO1xyXG4gIH0pO1xyXG5cclxuICAkKFwiW2RhdGEtb3Blbi1zZWFyY2gtbW9kYWxdXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgJChcIi5zZWFyY2gtbW9kYWwtd2luZG93XCIpLmFkZENsYXNzKFwiZC1ibG9ja1wiKTtcclxuICAgICQoXCIuc2VhcmNoLW1vZGFsLXdpbmRvd19faW5wdXRcIikuZm9jdXMoKTtcclxuICB9KTtcclxuXHJcbiAgJChcIltkYXRhLWNsZWFyLWlucHV0XVwiKS5vbihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICQoXCJbZGF0YS1pbnB1dF1cIikudmFsKFwiXCIpO1xyXG4gIH0pO1xyXG5cclxuICAkKFwiLmxpa2UtYnRuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICB9KTtcclxuICAkKFwiLmNpdHktc2VsZWN0aW9uX19saW5rXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICQoXCIuY2l0eS1zZWxlY3Rpb25fX2xpc3RcIikudG9nZ2xlKDApO1xyXG4gIH0pO1xyXG4gICQod2luZG93KS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgaWYgKCFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJjaXR5LXNlbGVjdGlvbl9fbGlua1wiKSkge1xyXG4gICAgICAkKFwiLmNpdHktc2VsZWN0aW9uX19saXN0XCIpLnRvZ2dsZShmYWxzZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgJChcIi5idXJnZXItbWVudVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLm1vYmlsZS1tZW51XCIpLnRvZ2dsZSgwKTtcclxuICB9KTtcclxuICAkKFwiLmNhdGFsb2ctaW5uZXItYnRuXCIpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKFwib3BlblwiKTtcclxuICAgICQoXCIuY2F0YWxvZy1oZWFkZXItY29udGVudFwiKS50b2dnbGUoMCk7XHJcbiAgfSk7XHJcbiAgJChcIi5jYXRhbG9nLWlubmVyLWJ0biwuY2F0YWxvZy1tZW51X19oZWFkIGFcIikuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICQoXCIuY2F0YWxvZy1tZW51XCIpLnRvZ2dsZSgwKTtcclxuICB9KTtcclxuICAkKFwiLmJ1cmdlci1jYXRhbG9nXCIpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKFwib3BlblwiKTtcclxuICB9KTtcclxuICAkKFwiLnNoYXJlLWJ0blwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLnNoYXJlLWJsb2NrX19zaG93XCIpLnRvZ2dsZSgwKTtcclxuICB9KTtcclxuICAkKFwiLmNsb3NlLXBhbmVsXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICQoXCIuYm90dG9tLXBhbmVsXCIpLnRvZ2dsZSgwKTtcclxuICB9KTtcclxuICAkKFwiLmZpbHRlci1idG4sIC5jbG9zZS1idG4tMlwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLmNhdGFsb2ctZmlsdGVyXCIpLnRvZ2dsZSgwKTtcclxuICB9KTtcclxuICAkKFwiLmNhdGFsb2ctc2lkZV9fdGl0bGVcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIi5jYXRhbG9nLXNpZGVfX2NvbnRlbnRcIikudG9nZ2xlKDApO1xyXG4gICAgJChcIi5jYXRhbG9nLXNpZGVfX2NvbnRlbnQtYWNjb3JkZW9uXCIpLnRvZ2dsZSgwKTtcclxuICB9KTtcclxuICAkKFwiLmNhdGFsb2ctb3BlbmVkXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICQoXCIuY2F0YWxvZy1vcGVuZWQgLnN1Ym1lbnVcIikudG9nZ2xlKDApO1xyXG4gIH0pO1xyXG4gICQoXCIuYnVyZ2VyLW1lbnVcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcyhcIm1lbnUtb25cIik7XHJcbiAgfSk7XHJcbiAgJChcIi5jYXRhbG9nLWlubmVyXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoXCJvcGVuXCIpO1xyXG4gICAgJChcIi5jYXRhbG9nLWlubmVyLWNvbnRlbnRcIikudG9nZ2xlKDApO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gIC8vIFRoaXMgd2lsbCBzZWxlY3QgZXZlcnl0aGluZyB3aXRoIHRoZSBjbGFzcyBzbW9vdGhTY3JvbGxcclxuICAvLyBUaGlzIHNob3VsZCBwcmV2ZW50IHByb2JsZW1zIHdpdGggY2Fyb3VzZWwsIHNjcm9sbHNweSwgZXRjLi4uXHJcbiAgJChcIi5zbW9vdGhTY3JvbGxcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKFxyXG4gICAgICBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9eXFwvLywgXCJcIikgPT0gdGhpcy5wYXRobmFtZS5yZXBsYWNlKC9eXFwvLywgXCJcIikgJiZcclxuICAgICAgbG9jYXRpb24uaG9zdG5hbWUgPT0gdGhpcy5ob3N0bmFtZVxyXG4gICAgKSB7XHJcbiAgICAgIHZhciB0YXJnZXQgPSAkKHRoaXMuaGFzaCk7XHJcbiAgICAgIHRhcmdldCA9IHRhcmdldC5sZW5ndGggPyB0YXJnZXQgOiAkKFwiW25hbWU9XCIgKyB0aGlzLmhhc2guc2xpY2UoMSkgKyBcIl1cIik7XHJcblxyXG4gICAgICBpZiAodGFyZ2V0Lmxlbmd0aCkge1xyXG4gICAgICAgICQoXCJodG1sLGJvZHlcIikuYW5pbWF0ZShcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgc2Nyb2xsVG9wOiB0YXJnZXQub2Zmc2V0KCkudG9wLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIDEwMDBcclxuICAgICAgICApOyAvLyBUaGUgbnVtYmVyIGhlcmUgcmVwcmVzZW50cyB0aGUgc3BlZWQgb2YgdGhlIHNjcm9sbCBpbiBtaWxsaXNlY29uZHNcclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxudmFyIGJpZ1NsaWRlcyA9ICQoXCIubWFpbi1zbGlkZXIgLm93bC1jYXJvdXNlbFwiKSxcclxuICBhdXRvUGxheVRpbWVvdXRTZWMgPSBwYXJzZUludChiaWdTbGlkZXMuZGF0YShcImF1dG9wbGF5LXRpbWVvdXRcIikpO1xyXG5iaWdTbGlkZXMub3dsQ2Fyb3VzZWwoe1xyXG4gIGxvb3A6IHRydWUsXHJcbiAgbWFyZ2luOiA1LFxyXG4gIG5hdjogdHJ1ZSxcclxuICBkb3RzOiB0cnVlLFxyXG4gIGl0ZW1zOiAxLFxyXG4gIGF1dG9wbGF5OiB0cnVlLFxyXG4gIGF1dG9wbGF5VGltZW91dDogYXV0b1BsYXlUaW1lb3V0U2VjICogMTAwMCxcclxuICBuYXZUZXh0OiBbXHJcbiAgICAnPHN2ZyBjbGFzcz1cImljb25cIiB2aWV3Qm94PVwiMCAwIDEwLjUgMTguMVwiPjxwYXRoIHN0cm9rZT1cIm5vbmVcIiBkPVwiTTksMGwxLjQsMS40TDIuOCw5bDcuNiw3LjZMOSwxOC4xTDAsOUMwLDksOS4xLDAsOSwwelwiPjwvcGF0aD48L3N2Zz4nLFxyXG4gICAgJzxzdmcgY2xhc3M9XCJpY29uXCIgdmlld0JveD1cIjAgMCAxMC41IDE4LjFcIj48cGF0aCBzdHJva2U9XCJub25lXCIgZD1cIk0xLjQsMTguMUwwLDE2LjdsNy42LTcuNkwwLDEuNUwxLjQsMGw5LDkuMUMxMC40LDkuMSwxLjMsMTguMSwxLjQsMTguMXpcIj48L3BhdGg+PC9zdmc+JyxcclxuICBdLFxyXG59KTtcclxudmFyIHJhZGlvQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kZWxpdmVyeS1zZWxlY3Rpb24gaW5wdXRbdHlwZT1cInJhZGlvXCJdJyk7XHJcbnZhciBjaG9pY2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kZWxpdmVyeS1jaG9pY2VcIik7XHJcbnJhZGlvQnV0dG9ucy5mb3JFYWNoKGZ1bmN0aW9uIChidG4pIHtcclxuICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY2xpY2tlZCA9IHRoaXM7XHJcbiAgICBjaG9pY2VzLmZvckVhY2goZnVuY3Rpb24gKGNob2ljZSkge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgY2hvaWNlLmNsYXNzTGlzdC5jb250YWlucyhjbGlja2VkLmlkKSB8fFxyXG4gICAgICAgIGNob2ljZS5jbGFzc0xpc3QuY29udGFpbnMoXCJkZWxpdmVyeS10eXBlLVwiICsgY2xpY2tlZC52YWx1ZSlcclxuICAgICAgKSB7XHJcbiAgICAgICAgY2hvaWNlLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hvaWNlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4kKFwiLnNob3BwaW5nLWNhcnQtaXRlbV9fZGVsZXRlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAkKHRoaXMpLnBhcmVudChcIi5zaG9wcGluZy1jYXJ0LWl0ZW1cIikucmVtb3ZlKCk7XHJcbn0pO1xyXG4kKFwiLnNsaWRlciAub3dsLWNhcm91c2VsXCIpLm93bENhcm91c2VsKHtcclxuICBsb29wOiB0cnVlLFxyXG4gIG1hcmdpbjogMCxcclxuICBpdGVtczogMSxcclxuICBuYXY6IHRydWUsXHJcbn0pO1xyXG4kKFwiLm5ld3Mtc2xpZGVyIC5vd2wtY2Fyb3VzZWxcIikub3dsQ2Fyb3VzZWwoe1xyXG4gIGxvb3A6IHRydWUsXHJcbiAgbWFyZ2luOiAwLFxyXG4gIGl0ZW1zOiA0LFxyXG4gIHJlc3BvbnNpdmU6IHtcclxuICAgIDA6IHtcclxuICAgICAgbmF2OiBmYWxzZSxcclxuICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgaXRlbXM6IDEsXHJcbiAgICB9LFxyXG4gICAgNDc5OiB7XHJcbiAgICAgIG5hdjogZmFsc2UsXHJcbiAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgIGl0ZW1zOiAyLFxyXG4gICAgfSxcclxuICAgIDc2ODoge1xyXG4gICAgICBuYXY6IHRydWUsXHJcbiAgICAgIGRvdHM6IGZhbHNlLFxyXG4gICAgICBpdGVtczogMyxcclxuICAgIH0sXHJcbiAgICA5OTI6IHtcclxuICAgICAgaXRlbXM6IDQsXHJcbiAgICB9LFxyXG4gIH0sXHJcbn0pO1xyXG4kKFwiLmFjdGlvbi1zbGlkZXIgLm93bC1jYXJvdXNlbFwiKS5vd2xDYXJvdXNlbCh7XHJcbiAgbG9vcDogdHJ1ZSxcclxuICBtYXJnaW46IDIwLFxyXG4gIG5hdjogdHJ1ZSxcclxuICBkb3RzOiBmYWxzZSxcclxuICBpdGVtczogMyxcclxuICByZXNwb25zaXZlOiB7XHJcbiAgICAwOiB7XHJcbiAgICAgIG5hdjogZmFsc2UsXHJcbiAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgIGl0ZW1zOiAxLFxyXG4gICAgfSxcclxuICAgIDQ3OToge1xyXG4gICAgICBuYXY6IGZhbHNlLFxyXG4gICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICBpdGVtczogMixcclxuICAgIH0sXHJcbiAgICA3Njg6IHtcclxuICAgICAgbmF2OiB0cnVlLFxyXG4gICAgICBkb3RzOiBmYWxzZSxcclxuICAgICAgaXRlbXM6IDMsXHJcbiAgICB9LFxyXG4gIH0sXHJcbn0pO1xyXG4kKFwiLnBhcnRuZXJzLXNsaWRlciAub3dsLWNhcm91c2VsXCIpLm93bENhcm91c2VsKHtcclxuICBsb29wOiB0cnVlLFxyXG4gIG1hcmdpbjogMCxcclxuICBuYXY6IHRydWUsXHJcbiAgZG90czogZmFsc2UsXHJcbiAgaXRlbXM6IDUsXHJcbiAgcmVzcG9uc2l2ZToge1xyXG4gICAgMDoge1xyXG4gICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICBuYXY6IGZhbHNlLFxyXG4gICAgICBpdGVtczogMSxcclxuICAgIH0sXHJcbiAgICA1NjY6IHtcclxuICAgICAgbmF2OiBmYWxzZSxcclxuICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgaXRlbXM6IDIsXHJcbiAgICB9LFxyXG4gICAgNzY4OiB7XHJcbiAgICAgIG5hdjogZmFsc2UsXHJcbiAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgIGl0ZW1zOiAzLFxyXG4gICAgfSxcclxuICAgIDkwMDoge1xyXG4gICAgICBuYXY6IGZhbHNlLFxyXG4gICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICBpdGVtczogNCxcclxuICAgIH0sXHJcbiAgICA5NTA6IHtcclxuICAgICAgZG90czogZmFsc2UsXHJcbiAgICB9LFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuKGZ1bmN0aW9uICgkKSB7XHJcbiAgdmFyIGN1c3RvbVNlbGVjdCA9ICQoXCJzZWxlY3QuY3VzdG9tLXNlbGVjdFwiKTsgLy8gRklSU1QsIGNyZWF0ZSB0aGUgY3VzdG9tIHNlbGVjdCBtZW51cyBmcm9tIHRoZSBleGlzdGluZyBzZWxlY3RcclxuXHJcbiAgY3VzdG9tU2VsZWN0LmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHRoYXQgPSAkKHRoaXMpO1xyXG4gICAgdmFyIGxpc3RJRCA9IHRoYXQuYXR0cihcImlkXCIpLFxyXG4gICAgICBncm91cHMgPSB0aGF0LmNoaWxkcmVuKFwib3B0Z3JvdXBcIiksXHJcbiAgICAgIHRoZU9wdGlvbnMgPSBcIlwiLFxyXG4gICAgICBzdGFydGluZ09wdGlvbiA9IFwiXCIsXHJcbiAgICAgIGN1c3RvbVNlbGVjdCA9IFwiXCI7IC8vY2hlY2sgaWYgdGhlcmUgYXJlIG9wdGlvbiBncm91cHNcclxuXHJcbiAgICBpZiAoZ3JvdXBzLmxlbmd0aCkge1xyXG4gICAgICBncm91cHMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGN1ckdyb3VwID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgY3VyTmFtZSA9IGN1ckdyb3VwLmF0dHIoXCJsYWJlbFwiKTsgLy9PcGVuIHRoZSBvcHRpb24gZ3JvdXBcclxuXHJcbiAgICAgICAgdGhlT3B0aW9ucyArPSAnPGxpIGNsYXNzPVwib3B0Z3JvdXBcIj4nICsgY3VyTmFtZSArIFwiPC9saT5cIjsgLy9nZXQgdGhlIG9wdGlvbnNcclxuXHJcbiAgICAgICAgY3VyR3JvdXAuY2hpbGRyZW4oXCJvcHRpb25cIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB2YXIgY3VyT3B0ID0gJCh0aGlzKTtcclxuICAgICAgICAgIHZhciBjdXJWYWwgPSBjdXJPcHQuYXR0cihcInZhbHVlXCIpLFxyXG4gICAgICAgICAgICBjdXJIdG1sID0gY3VyT3B0Lmh0bWwoKSxcclxuICAgICAgICAgICAgaXNTZWxlY3RlZCA9IGN1ck9wdC5hdHRyKFwic2VsZWN0ZWRcIik7XHJcblxyXG4gICAgICAgICAgaWYgKGlzU2VsZWN0ZWQgPT09IFwic2VsZWN0ZWRcIikge1xyXG4gICAgICAgICAgICBzdGFydGluZ09wdGlvbiA9IGN1ckh0bWw7XHJcbiAgICAgICAgICAgIHRoZU9wdGlvbnMgKz0gJzxsaSBjbGFzcz1cInNlbGVjdGVkXCIgZGF0YS12YWx1ZT1cIicgKyBjdXJWYWwgKyAnXCI+JyArIGN1ckh0bWwgKyBcIjwvbGk+XCI7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGVPcHRpb25zICs9ICc8bGkgZGF0YS12YWx1ZT1cIicgKyBjdXJWYWwgKyAnXCI+JyArIGN1ckh0bWwgKyBcIjwvbGk+XCI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7IC8vQ2xvc2UgdGhlIG9wdGlvbiBncm91cFxyXG4gICAgICAgIC8vdGhlT3B0aW9ucyArPSAnPGxpIGNsYXNzPVwib3B0Z3JvdXAtY2xvc2VcIj48L2xpPic7XHJcbiAgICAgIH0pOyAvL2FkZCBvcHRpb25zIG5vdCBpbiBhIGdyb3VwIHRvIHRoZSB0b3Agb2YgdGhlIGxpc3RcclxuXHJcbiAgICAgIHRoYXQuY2hpbGRyZW4oXCJvcHRpb25cIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGN1ck9wdCA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIGN1clZhbCA9IGN1ck9wdC5hdHRyKFwidmFsdWVcIiksXHJcbiAgICAgICAgICBjdXJIdG1sID0gY3VyT3B0Lmh0bWwoKSxcclxuICAgICAgICAgIGlzU2VsZWN0ZWQgPSBjdXJPcHQuYXR0cihcInNlbGVjdGVkXCIpO1xyXG5cclxuICAgICAgICBpZiAoaXNTZWxlY3RlZCA9PT0gXCJzZWxlY3RlZFwiKSB7XHJcbiAgICAgICAgICBzdGFydGluZ09wdGlvbiA9IGN1ckh0bWw7XHJcbiAgICAgICAgICB0aGVPcHRpb25zID1cclxuICAgICAgICAgICAgJzxsaSBjbGFzcz1cInNlbGVjdGVkXCIgZGF0YS12YWx1ZT1cIicgKyBjdXJWYWwgKyAnXCI+JyArIGN1ckh0bWwgKyBcIjwvbGk+XCIgKyB0aGVPcHRpb25zO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGVPcHRpb25zID0gJzxsaSBkYXRhLXZhbHVlPVwiJyArIGN1clZhbCArICdcIj4nICsgY3VySHRtbCArIFwiPC9saT5cIiArIHRoZU9wdGlvbnM7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoYXQuY2hpbGRyZW4oXCJvcHRpb25cIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGN1ck9wdCA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIGN1clZhbCA9IGN1ck9wdC5hdHRyKFwidmFsdWVcIiksXHJcbiAgICAgICAgICBjdXJIdG1sID0gY3VyT3B0Lmh0bWwoKSxcclxuICAgICAgICAgIGlzU2VsZWN0ZWQgPSBjdXJPcHQuYXR0cihcInNlbGVjdGVkXCIpO1xyXG5cclxuICAgICAgICBpZiAoaXNTZWxlY3RlZCA9PT0gXCJzZWxlY3RlZFwiKSB7XHJcbiAgICAgICAgICBzdGFydGluZ09wdGlvbiA9IGN1ckh0bWw7XHJcbiAgICAgICAgICB0aGVPcHRpb25zICs9ICc8bGkgY2xhc3M9XCJzZWxlY3RlZFwiIGRhdGEtdmFsdWU9XCInICsgY3VyVmFsICsgJ1wiPicgKyBjdXJIdG1sICsgXCI8L2xpPlwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGVPcHRpb25zICs9ICc8bGkgZGF0YS12YWx1ZT1cIicgKyBjdXJWYWwgKyAnXCI+JyArIGN1ckh0bWwgKyBcIjwvbGk+XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gLy9idWlsZCB0aGUgY3VzdG9tIHNlbGVjdFxyXG5cclxuICAgIGN1c3RvbVNlbGVjdCA9XHJcbiAgICAgICc8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGFpbmVyXCI+PGRpdiBjbGFzcz1cImRyb3Bkb3duLXNlbGVjdCBlbnR5cG8tZG93bi1vcGVuLWJpZ1wiPjxzdmcgY2xhc3M9XCJpY29uXCI+PHVzZSB4bGluazpocmVmPVwiI3RhYi1hcnJvd1wiPjwvdXNlPjwvc3ZnPjxzcGFuPicgK1xyXG4gICAgICBzdGFydGluZ09wdGlvbiArXHJcbiAgICAgICc8L3NwYW4+PC9kaXY+PHVsIGNsYXNzPVwiZHJvcGRvd24tc2VsZWN0LXVsXCIgZGF0YS1yb2xlPVwiJyArXHJcbiAgICAgIGxpc3RJRCArXHJcbiAgICAgICdcIj4nICtcclxuICAgICAgdGhlT3B0aW9ucyArXHJcbiAgICAgIFwiPC91bD48L2Rpdj4gPCEtLSAuY3VzdG9tLXNlbGVjdC13cmFwcGVyIC0tPlwiOyAvL2FwcGVuZCBpdCBhZnRlciB0aGUgYWN0dWFsIHNlbGVjdFxyXG5cclxuICAgICQoY3VzdG9tU2VsZWN0KS5pbnNlcnRBZnRlcih0aGF0KTtcclxuICB9KTtcclxuICB2YXIgc2VsZWN0ZGQgPSAkKFwiLmRyb3Bkb3duLXNlbGVjdFwiKSxcclxuICAgIHNlbGVjdHVsID0gJChcIi5kcm9wZG93bi1zZWxlY3QtdWxcIiksXHJcbiAgICBzZWxlY3RsaSA9ICQoXCIuZHJvcGRvd24tc2VsZWN0LXVsIGxpXCIpOyAvL1RIRU4gbWFrZSB0aGVtIHdvcmtcclxuXHJcbiAgc2VsZWN0ZGQub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKHRoaXMpLnBhcmVudChcIi5kcm9wZG93bi1jb250YWluZXJcIikudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgfSk7IC8vSGlkZSBpdCBvbiBtb3VzZWxlYXZlXHJcblxyXG4gIHNlbGVjdHVsLm9uKFwibW91c2VsZWF2ZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKHRoaXMpLnBhcmVudChcIi5kcm9wZG93bi1jb250YWluZXJcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgfSk7IC8vc2VsZWN0IHRoZSBvcHRpb25cclxuXHJcbiAgc2VsZWN0bGkub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdGhhdCA9ICQodGhpcyk7IC8vZW5zdXJlIGNsaWNraW5nIGdyb3VwIGxhYmVscyBkb2VzIG5vdCBjYXVzZSBjaGFuZ2VcclxuXHJcbiAgICBpZiAoIXRoYXQuaGFzQ2xhc3MoXCJvcHRncm91cFwiKSkge1xyXG4gICAgICB2YXIgcGFyZW50VWwgPSB0aGF0LnBhcmVudChcInVsXCIpLFxyXG4gICAgICAgIHRoaXNkZCA9IHBhcmVudFVsLnNpYmxpbmdzKFwiLmRyb3Bkb3duLXNlbGVjdFwiKSxcclxuICAgICAgICBsaWh0bWwgPSB0aGF0Lmh0bWwoKSxcclxuICAgICAgICBsaXZhbHVlID0gdGhhdC5hdHRyKFwiZGF0YS12YWx1ZVwiKSxcclxuICAgICAgICBvcmlnaW5hbFNlbGVjdCA9IFwiI1wiICsgcGFyZW50VWwuYXR0cihcImRhdGEtcm9sZVwiKTsgLy9jbG9zZSB0aGUgZHJvcGRvd25cclxuXHJcbiAgICAgIHBhcmVudFVsLnBhcmVudChcIi5kcm9wZG93bi1jb250YWluZXJcIikudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIik7IC8vcmVtb3ZlIHNlbGVjdGVkIGNsYXNzIGZyb20gYWxsIGxpc3QgaXRlbXNcclxuXHJcbiAgICAgIHRoYXQuc2libGluZ3MoXCJsaVwiKS5yZW1vdmVDbGFzcyhcInNlbGVjdGVkXCIpOyAvL2FkZCAuc2VsZWN0ZWQgdG8gY2xpY2tlZCBsaVxyXG5cclxuICAgICAgdGhhdC5hZGRDbGFzcyhcInNlbGVjdGVkXCIpOyAvL3NldCB0aGUgdmFsdWUgb2YgdGhlIGhpZGRlbiBpbnB1dFxyXG5cclxuICAgICAgJChvcmlnaW5hbFNlbGVjdCkudmFsKGxpdmFsdWUpOyAvL2NoYW5nZSB0aGUgZHJvcGRvd24gdGV4dFxyXG5cclxuICAgICAgdGhpc2RkLmNoaWxkcmVuKFwic3BhblwiKS5odG1sKGxpaHRtbCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pKGpRdWVyeSk7XHJcblxyXG4kKFwiLnRhYi1jb250ZW50XCIpLmhpZGUoKTtcclxuJChcIi50YWItY29udGVudDpmaXJzdFwiKS5zaG93KCk7XHJcbi8qIGlmIGluIHRhYiBtb2RlICovXHJcblxyXG4kKFwidWwudGFicyBsaSwucHJvZHVjdC1jYXJkX19yZXZpZXctbGluayBhLC5zY2hlZHVsZS1idG4gYVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgJChcIi50YWItY29udGVudFwiKS5oaWRlKCk7XHJcbiAgdmFyIGFjdGl2ZVRhYiA9ICQodGhpcykuYXR0cihcInJlbFwiKTtcclxuICAkKFwiI1wiICsgYWN0aXZlVGFiKS5mYWRlSW4oKTtcclxuICAkKFwidWwudGFicyBsaVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAkKHRoaXMpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICQoXCIudGFiX2RyYXdlcl9oZWFkaW5nXCIpLnJlbW92ZUNsYXNzKFwiZF9hY3RpdmVcIik7XHJcbiAgJChcIi50YWJfZHJhd2VyX2hlYWRpbmdbcmVsXj0nXCIgKyBhY3RpdmVUYWIgKyBcIiddXCIpLmFkZENsYXNzKFwiZF9hY3RpdmVcIik7XHJcbn0pO1xyXG4vKiBpZiBpbiBkcmF3ZXIgbW9kZSAqL1xyXG5cclxuJChcIi50YWJfZHJhd2VyX2hlYWRpbmdcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gIHZhciBkX2FjdGl2ZVRhYiA9ICQodGhpcykuYXR0cihcInJlbFwiKSxcclxuICAgIGFjdGl2ZVRhYkJsb2NrID0gJChcIiNcIiArIGRfYWN0aXZlVGFiICsgXCI6aGlkZGVuXCIpLFxyXG4gICAgJHRoaXNBY3RpdmUgPSAkKHRoaXMpLm5vdChcIi5kX2FjdGl2ZVwiKTtcclxuICAkKFwiLnRhYi1jb250ZW50XCIpLmhpZGUoKTtcclxuICBhY3RpdmVUYWJCbG9jay5mYWRlSW4oKTtcclxuICAkKFwiLnRhYl9kcmF3ZXJfaGVhZGluZ1wiKS5yZW1vdmVDbGFzcyhcImRfYWN0aXZlXCIpO1xyXG4gICR0aGlzQWN0aXZlLmFkZENsYXNzKFwiZF9hY3RpdmVcIik7XHJcbiAgJChcInVsLnRhYnMgbGlcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgJChcInVsLnRhYnMgbGlbcmVsXj0nXCIgKyBkX2FjdGl2ZVRhYiArIFwiJ11cIikuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbn0pO1xyXG4vKiBFeHRyYSBjbGFzcyBcInRhYl9sYXN0XCJcclxuIHRvIGFkZCBib3JkZXIgdG8gcmlnaHQgc2lkZVxyXG4gb2YgbGFzdCB0YWIgKi9cclxuXHJcbiQoXCJ1bC50YWJzIGxpXCIpLmxhc3QoKS5hZGRDbGFzcyhcInRhYl9sYXN0XCIpO1xyXG5qUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICBqUXVlcnkoXCIuc2NoZWR1bGUtYnRuIGFcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgalF1ZXJ5KFwiLnNjaGVkdWxlLWxpbmtcIikudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgfSk7XHJcbn0pO1xyXG5qUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICBqUXVlcnkoXCIucHJvZHVjdC1jYXJkX19yZXZpZXctbGluayBhXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIGpRdWVyeShcIi5yZXZpZXctdGFiLWxpbmtcIikudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgfSk7XHJcbn0pOyAvL3NsaWRlc2hvd1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gIHZhciBzeW5jMSA9ICQoXCIjc3luYzFcIik7XHJcbiAgdmFyIHN5bmMyID0gJChcIiNzeW5jMlwiKTtcclxuICB2YXIgc2xpZGVzUGVyUGFnZSA9IDM7IC8vZ2xvYmFseSBkZWZpbmUgbnVtYmVyIG9mIGVsZW1lbnRzIHBlciBwYWdlXHJcblxyXG4gIHZhciBzeW5jZWRTZWNvbmRhcnkgPSB0cnVlO1xyXG4gIHN5bmMxXHJcbiAgLm93bENhcm91c2VsKHtcclxuICAgIGl0ZW1zOiAxLFxyXG4gICAgc2xpZGVTcGVlZDogMjAwMCxcclxuICAgIG5hdjogdHJ1ZSxcclxuICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgIGRvdHM6IHRydWUsXHJcbiAgICBsb29wOiB0cnVlLFxyXG4gICAgcmVzcG9uc2l2ZVJlZnJlc2hSYXRlOiAyMDAsXHJcbiAgICBtYXJnaW46IDEwLFxyXG4gIH0pXHJcbiAgLm9uKFwiY2hhbmdlZC5vd2wuY2Fyb3VzZWxcIiwgc3luY1Bvc2l0aW9uKTtcclxuICBzeW5jMlxyXG4gIC5vbihcImluaXRpYWxpemVkLm93bC5jYXJvdXNlbFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBzeW5jMi5maW5kKFwiLm93bC1pdGVtXCIpLmVxKDApLmFkZENsYXNzKFwiY3VycmVudFwiKTtcclxuICB9KVxyXG4gIC5vd2xDYXJvdXNlbCh7XHJcbiAgICBpdGVtczogc2xpZGVzUGVyUGFnZSxcclxuICAgIGRvdHM6IHRydWUsXHJcbiAgICBuYXY6IHRydWUsXHJcbiAgICBtYXJnaW46IDEwLFxyXG4gICAgc21hcnRTcGVlZDogMjAwLFxyXG4gICAgc2xpZGVTcGVlZDogNTAwLFxyXG4gICAgc2xpZGVCeTogc2xpZGVzUGVyUGFnZSxcclxuICAgIC8vYWx0ZXJuYXRpdmVseSB5b3UgY2FuIHNsaWRlIGJ5IDEsIHRoaXMgd2F5IHRoZSBhY3RpdmUgc2xpZGUgd2lsbCBzdGljayB0byB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgc2Vjb25kIGNhcm91c2VsXHJcbiAgICByZXNwb25zaXZlUmVmcmVzaFJhdGU6IDEwMCxcclxuICB9KVxyXG4gIC5vbihcImNoYW5nZWQub3dsLmNhcm91c2VsXCIsIHN5bmNQb3NpdGlvbjIpO1xyXG5cclxuICBmdW5jdGlvbiBzeW5jUG9zaXRpb24oZWwpIHtcclxuICAgIC8vaWYgeW91IHNldCBsb29wIHRvIGZhbHNlLCB5b3UgaGF2ZSB0byByZXN0b3JlIHRoaXMgbmV4dCBsaW5lXHJcbiAgICAvL3ZhciBjdXJyZW50ID0gZWwuaXRlbS5pbmRleDtcclxuICAgIC8vaWYgeW91IGRpc2FibGUgbG9vcCB5b3UgaGF2ZSB0byBjb21tZW50IHRoaXMgYmxvY2tcclxuICAgIHZhciBjb3VudCA9IGVsLml0ZW0uY291bnQgLSAxO1xyXG4gICAgdmFyIGN1cnJlbnQgPSBNYXRoLnJvdW5kKGVsLml0ZW0uaW5kZXggLSBlbC5pdGVtLmNvdW50IC8gMiAtIDAuNSk7XHJcblxyXG4gICAgaWYgKGN1cnJlbnQgPCAwKSB7XHJcbiAgICAgIGN1cnJlbnQgPSBjb3VudDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VycmVudCA+IGNvdW50KSB7XHJcbiAgICAgIGN1cnJlbnQgPSAwO1xyXG4gICAgfSAvL2VuZCBibG9ja1xyXG5cclxuICAgIHN5bmMyLmZpbmQoXCIub3dsLWl0ZW1cIikucmVtb3ZlQ2xhc3MoXCJjdXJyZW50XCIpLmVxKGN1cnJlbnQpLmFkZENsYXNzKFwiY3VycmVudFwiKTtcclxuICAgIHZhciBvbnNjcmVlbiA9IHN5bmMyLmZpbmQoXCIub3dsLWl0ZW0uYWN0aXZlXCIpLmxlbmd0aCAtIDE7XHJcbiAgICB2YXIgc3RhcnQgPSBzeW5jMi5maW5kKFwiLm93bC1pdGVtLmFjdGl2ZVwiKS5maXJzdCgpLmluZGV4KCk7XHJcbiAgICB2YXIgZW5kID0gc3luYzIuZmluZChcIi5vd2wtaXRlbS5hY3RpdmVcIikubGFzdCgpLmluZGV4KCk7XHJcblxyXG4gICAgaWYgKGN1cnJlbnQgPiBlbmQpIHtcclxuICAgICAgc3luYzIuZGF0YShcIm93bC5jYXJvdXNlbFwiKS50byhjdXJyZW50LCAxMDAsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50IDwgc3RhcnQpIHtcclxuICAgICAgc3luYzIuZGF0YShcIm93bC5jYXJvdXNlbFwiKS50byhjdXJyZW50IC0gb25zY3JlZW4sIDEwMCwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzeW5jUG9zaXRpb24yKGVsKSB7XHJcbiAgICBpZiAoc3luY2VkU2Vjb25kYXJ5KSB7XHJcbiAgICAgIHZhciBudW1iZXIgPSBlbC5pdGVtLmluZGV4O1xyXG4gICAgICBzeW5jMS5kYXRhKFwib3dsLmNhcm91c2VsXCIpLnRvKG51bWJlciwgMTAwLCB0cnVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN5bmMyLm9uKFwiY2xpY2tcIiwgXCIub3dsLWl0ZW1cIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHZhciBudW1iZXIgPSAkKHRoaXMpLmluZGV4KCk7XHJcbiAgICBzeW5jMS5kYXRhKFwib3dsLmNhcm91c2VsXCIpLnRvKG51bWJlciwgMzAwLCB0cnVlKTtcclxuICB9KTtcclxufSk7XHJcblxyXG4oKCkgPT4ge1xyXG4gIGNvbnN0IGJ1dHRvbkRlZmF1bHRWaWV3ID0gJChcIi5idXR0b24xXCIpO1xyXG4gIGNvbnN0IGJ1dHRvbldpZGVWaWV3ID0gJChcIi5idXR0b24yXCIpO1xyXG4gIGNvbnN0IGJ1dHRvbkxpbmVWaWV3ID0gJChcIi5idXR0b24zXCIpO1xyXG4gIGNvbnN0IGl0ZW1zID0gJChcIi5wcm9kdWN0LWl0ZW1cIik7XHJcblxyXG4gIGJ1dHRvbldpZGVWaWV3LmNsaWNrKChldmVudCkgPT4ge1xyXG4gICAgYnV0dG9uRGVmYXVsdFZpZXcucmVtb3ZlQ2xhc3MoXCJjdXJyZW50XCIpO1xyXG4gICAgYnV0dG9uTGluZVZpZXcucmVtb3ZlQ2xhc3MoXCJjdXJyZW50XCIpO1xyXG4gICAgJChldmVudC5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcyhcImN1cnJlbnRcIik7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNhdGFsb2dHcmlkXCIsIFwid2lkZVwiKTtcclxuICAgIGl0ZW1zLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1pdGVtLS1saW5lXCIpO1xyXG4gICAgaXRlbXMuYWRkQ2xhc3MoXCJwcm9kdWN0LWl0ZW0tLXdpZGVcIik7XHJcbiAgfSk7XHJcblxyXG4gIGJ1dHRvbkxpbmVWaWV3LmNsaWNrKChldmVudCkgPT4ge1xyXG4gICAgYnV0dG9uV2lkZVZpZXcucmVtb3ZlQ2xhc3MoXCJjdXJyZW50XCIpO1xyXG4gICAgYnV0dG9uRGVmYXVsdFZpZXcucmVtb3ZlQ2xhc3MoXCJjdXJyZW50XCIpO1xyXG4gICAgJChldmVudC5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcyhcImN1cnJlbnRcIik7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNhdGFsb2dHcmlkXCIsIFwid2lkZVwiKTtcclxuICAgIGl0ZW1zLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1pdGVtLS13aWRlXCIpO1xyXG4gICAgaXRlbXMuYWRkQ2xhc3MoXCJwcm9kdWN0LWl0ZW0tLWxpbmVcIik7XHJcbiAgfSk7XHJcblxyXG4gIGJ1dHRvbkRlZmF1bHRWaWV3LmNsaWNrKChldmVudCkgPT4ge1xyXG4gICAgYnV0dG9uV2lkZVZpZXcucmVtb3ZlQ2xhc3MoXCJjdXJyZW50XCIpO1xyXG4gICAgYnV0dG9uTGluZVZpZXcucmVtb3ZlQ2xhc3MoXCJjdXJyZW50XCIpO1xyXG4gICAgJChldmVudC5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcyhcImN1cnJlbnRcIik7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNhdGFsb2dHcmlkXCIsIFwiZGVmYXVsdFwiKTtcclxuICAgIGl0ZW1zLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1pdGVtLS13aWRlXCIpO1xyXG4gICAgaXRlbXMucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWl0ZW0tLWxpbmVcIik7XHJcbiAgfSk7XHJcbn0pKCk7XHJcblxyXG52YXIga2V5cHJlc3NTbGlkZXJzID0gJChcIi5yYW5nZS1zbGlkZXJcIik7XHJcbiQoa2V5cHJlc3NTbGlkZXJzKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwga2V5cHJlc3NTbGlkZXIpIHtcclxuICB2YXIgZmllbGRfbmFtZSA9ICQoa2V5cHJlc3NTbGlkZXIpLmRhdGEoXCJuYW1lXCIpO1xyXG4gIHZhciBpbnB1dDAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlkX1wiICsgZmllbGRfbmFtZSArIFwiXzBcIik7XHJcbiAgdmFyIGlucHV0MSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaWRfXCIgKyBmaWVsZF9uYW1lICsgXCJfMVwiKTtcclxuICB2YXIgaW5wdXRzID0gW2lucHV0MCwgaW5wdXQxXTtcclxuXHJcbiAgaWYgKGlucHV0MCAmJiBpbnB1dDEpIHtcclxuICAgIHZhciBzdGFydFZhbCA9IHBhcnNlSW50KGlucHV0MC5kYXRhc2V0LmN1cnJlbnRWYWx1ZSksXHJcbiAgICAgIGVuZFZhbCA9IHBhcnNlSW50KGlucHV0MS5kYXRhc2V0LmN1cnJlbnRWYWx1ZSk7XHJcbiAgICB2YXIgbWluVmFsID0gcGFyc2VJbnQoaW5wdXQwLmRhdGFzZXQubWluVmFsdWUpLFxyXG4gICAgICBtYXhWYWwgPSBwYXJzZUludChpbnB1dDEuZGF0YXNldC5tYXhWYWx1ZSk7XHJcbiAgfVxyXG5cclxuICB2YXIgcG9zdGZpeCA9IFwiXCI7XHJcblxyXG4gIGlmIChmaWVsZF9uYW1lID09IFwicHJpY2VfcmFuZ2VcIikge1xyXG4gICAgcG9zdGZpeCA9IFwiIOKCvVwiO1xyXG4gIH1cclxuXHJcbiAgaWYgKHR5cGVvZiBub1VpU2xpZGVyICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICBub1VpU2xpZGVyLmNyZWF0ZShrZXlwcmVzc1NsaWRlciwge1xyXG4gICAgICBzdGFydDogW3N0YXJ0VmFsLCBlbmRWYWxdLFxyXG4gICAgICBjb25uZWN0OiB0cnVlLFxyXG4gICAgICByYW5nZToge1xyXG4gICAgICAgIG1pbjogbWluVmFsLFxyXG4gICAgICAgIG1heDogbWF4VmFsLFxyXG4gICAgICB9LFxyXG4gICAgICBmb3JtYXQ6IHdOdW1iKHtcclxuICAgICAgICBkZWNpbWFsczogMCxcclxuICAgICAgICB0aG91c2FuZDogXCIgXCIsXHJcbiAgICAgICAgcG9zdGZpeDogcG9zdGZpeCxcclxuICAgICAgfSksXHJcbiAgICAgIHN0ZXA6IDEsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGlmIChrZXlwcmVzc1NsaWRlciAhPT0gbnVsbCAmJiBrZXlwcmVzc1NsaWRlci5ub1VpU2xpZGVyKSB7XHJcbiAgICBrZXlwcmVzc1NsaWRlci5ub1VpU2xpZGVyLm9uKFwidXBkYXRlXCIsIGZ1bmN0aW9uICh2YWx1ZXMsIGhhbmRsZSkge1xyXG4gICAgICBpbnB1dHNbaGFuZGxlXS52YWx1ZSA9IHZhbHVlc1toYW5kbGVdO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzZXRTbGlkZXJIYW5kbGUoaSwgdmFsdWUpIHtcclxuICAgIHZhciByID0gW251bGwsIG51bGxdO1xyXG4gICAgcltpXSA9IHZhbHVlO1xyXG4gICAga2V5cHJlc3NTbGlkZXIubm9VaVNsaWRlci5zZXQocik7XHJcbiAgfSAvLyBMaXN0ZW4gdG8ga2V5ZG93biBldmVudHMgb24gdGhlIGlucHV0IGZpZWxkLlxyXG5cclxuICBpbnB1dHMuZm9yRWFjaChmdW5jdGlvbiAoaW5wdXQsIGhhbmRsZSkge1xyXG4gICAgaWYgKGlucHV0ID09PSBudWxsKSByZXR1cm47XHJcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgc2V0U2xpZGVySGFuZGxlKGhhbmRsZSwgdGhpcy52YWx1ZSk7XHJcbiAgICB9KTtcclxuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIHZhciB2YWx1ZXMgPSBrZXlwcmVzc1NsaWRlci5ub1VpU2xpZGVyLmdldCgpO1xyXG4gICAgICB2YXIgdmFsdWUgPSBOdW1iZXIodmFsdWVzW2hhbmRsZV0pOyAvLyBbW2hhbmRsZTBfZG93biwgaGFuZGxlMF91cF0sIFtoYW5kbGUxX2Rvd24sIGhhbmRsZTFfdXBdXVxyXG5cclxuICAgICAgdmFyIHN0ZXBzID0ga2V5cHJlc3NTbGlkZXIubm9VaVNsaWRlci5zdGVwcygpOyAvLyBbZG93biwgdXBdXHJcblxyXG4gICAgICB2YXIgc3RlcCA9IHN0ZXBzW2hhbmRsZV07XHJcbiAgICAgIHZhciBwb3NpdGlvbjsgLy8gMTMgaXMgZW50ZXIsXHJcbiAgICAgIC8vIDM4IGlzIGtleSB1cCxcclxuICAgICAgLy8gNDAgaXMga2V5IGRvd24uXHJcblxyXG4gICAgICBzd2l0Y2ggKGUud2hpY2gpIHtcclxuICAgICAgICBjYXNlIDEzOlxyXG4gICAgICAgICAgc2V0U2xpZGVySGFuZGxlKGhhbmRsZSwgdGhpcy52YWx1ZSk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSAzODpcclxuICAgICAgICAgIC8vIEdldCBzdGVwIHRvIGdvIGluY3JlYXNlIHNsaWRlciB2YWx1ZSAodXApXHJcbiAgICAgICAgICBwb3NpdGlvbiA9IHN0ZXBbMV07IC8vIGZhbHNlID0gbm8gc3RlcCBpcyBzZXRcclxuXHJcbiAgICAgICAgICBpZiAocG9zaXRpb24gPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gMTtcclxuICAgICAgICAgIH0gLy8gbnVsbCA9IGVkZ2Ugb2Ygc2xpZGVyXHJcblxyXG4gICAgICAgICAgaWYgKHBvc2l0aW9uICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHNldFNsaWRlckhhbmRsZShoYW5kbGUsIHZhbHVlICsgcG9zaXRpb24pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIDQwOlxyXG4gICAgICAgICAgcG9zaXRpb24gPSBzdGVwWzBdO1xyXG5cclxuICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSAxO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChwb3NpdGlvbiAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBzZXRTbGlkZXJIYW5kbGUoaGFuZGxlLCB2YWx1ZSAtIHBvc2l0aW9uKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gZ2FsbGVyeSgpIHtcclxuICBpZiAoJC5mYW5jeWJveCkge1xyXG4gICAgJChcIi5vd2wtaXRlbSBbZGF0YS1mYW5jeWJveF1cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciAkc2VsZWN0b3IgPSAkKHRoaXMpXHJcbiAgICAgIC5wYXJlbnRzKFwiLm93bC1jYXJvdXNlbFwiKVxyXG4gICAgICAuZmluZChcIi5vd2wtaXRlbTpub3QoLmNsb25lZCkgW2RhdGEtZmFuY3lib3hdXCIpO1xyXG4gICAgICAkLmZhbmN5Ym94Lm9wZW4oXHJcbiAgICAgICAgJHNlbGVjdG9yLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHNlbGVjdG9yOiAkc2VsZWN0b3IsXHJcbiAgICAgICAgICBiYWNrRm9jdXM6IGZhbHNlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJHNlbGVjdG9yLmluZGV4KHRoaXMpXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaGVhZGVyKCkge1xyXG4gIHZhciAkaGVhZGVyID0gJChcImhlYWRlclwiKSxcclxuICAgIGhlaWdodCxcclxuICAgIHNjcm9sbDtcclxuICBsZXQgaXNUaHJvdHRsZWQgPSBmYWxzZTtcclxuICBjaGVjaygpO1xyXG4gICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKGlzVGhyb3R0bGVkKSByZXR1cm47XHJcbiAgICBpc1Rocm90dGxlZCA9IHRydWU7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgY2hlY2soKTtcclxuICAgICAgaXNUaHJvdHRsZWQgPSBmYWxzZTtcclxuICAgIH0sIDEwMCk7XHJcbiAgfSk7XHJcblxyXG4gIGZ1bmN0aW9uIGNoZWNrKCkge1xyXG4gICAgaWYgKCEkaGVhZGVyLmhhc0NsYXNzKFwiaGVhZGVyX2xhbmRpbmdcIikpIHtcclxuICAgICAgc2Nyb2xsID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xyXG4gICAgICBoZWlnaHQgPSAkaGVhZGVyLmhlaWdodCgpO1xyXG5cclxuICAgICAgaWYgKHNjcm9sbCA+IGhlaWdodCkge1xyXG4gICAgICAgICRoZWFkZXIuYWRkQ2xhc3MoXCJmaXhlZFwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkaGVhZGVyLnJlbW92ZUNsYXNzKFwiZml4ZWRcIik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn0gLy9nYWxsZXJ5XHJcblxyXG5mdW5jdGlvbiBob21lQmFubmVyKCkge1xyXG4gIHZhciAkc2xpZGVyID0gJChcIi5ob21lLWJhbm5lciAub3dsLWNhcm91c2VsXCIpLFxyXG4gICAgYXJyb3dQcmV2ID1cclxuICAgICAgJzxzdmcgY2xhc3M9XCJpY29uXCIgdmlld0JveD1cIjAgMCAxMC41IDE4LjFcIj48cGF0aCBzdHJva2U9XCJub25lXCIgZD1cIk05LDBsMS40LDEuNEwyLjgsOWw3LjYsNy42TDksMTguMUwwLDlDMCw5LDkuMSwwLDksMHpcIj48L3BhdGg+PC9zdmc+JyxcclxuICAgIGFycm93TmV4dCA9XHJcbiAgICAgICc8c3ZnIGNsYXNzPVwiaWNvblwiIHZpZXdCb3g9XCIwIDAgMTAuNSAxOC4xXCI+PHBhdGggc3Ryb2tlPVwibm9uZVwiIGQ9XCJNMS40LDE4LjFMMCwxNi43bDcuNi03LjZMMCwxLjVMMS40LDBsOSw5LjFDMTAuNCw5LjEsMS4zLDE4LjEsMS40LDE4LjF6XCI+PC9wYXRoPjwvc3ZnPic7XHJcblxyXG4gIGlmICgkc2xpZGVyLmxlbmd0aCkge1xyXG4gICAgJHNsaWRlci5vd2xDYXJvdXNlbCh7XHJcbiAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgIG5hdjogdHJ1ZSxcclxuICAgICAgc21hcnRTcGVlZDogNTAwLFxyXG4gICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICBpdGVtczogMSxcclxuICAgICAgbGF6eUxvYWQ6IHRydWUsXHJcbiAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICBhdXRvcGxheVRpbWVvdXQ6ICgrJHNsaWRlci5kYXRhKFwiYXV0b3BsYXktdGltZW91dFwiKSB8fCA1KSAqIDEwMDAsXHJcbiAgICAgIG5hdlRleHQ6IFthcnJvd1ByZXYsIGFycm93TmV4dF0sXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeSgoKSA9PiB7XHJcbiAgY29uc3QgY29sbGFwc2UgPSAkKFwiLnByb2R1Y3QtaGFyYWN0ZXJpc3RpYy1ncm91cF9fY29sbGFwc2VcIik7XHJcbiAgY29uc3QgY29sbGFwc2VDaGlsZHJlbiA9IGNvbGxhcHNlLmNoaWxkcmVuKCk7XHJcbiAgbGV0IGNvbGxhcHNlQ2hpbGRyZW5IZWlnaHQgPSAwO1xyXG5cclxuICBmb3IgKGNvbnN0IGNoaWxkIG9mIGNvbGxhcHNlQ2hpbGRyZW4pIHtcclxuICAgIGNvbGxhcHNlQ2hpbGRyZW5IZWlnaHQgKz0gJChjaGlsZCkuaGVpZ2h0KCk7XHJcbiAgfVxyXG5cclxuICBpZiAoY29sbGFwc2VDaGlsZHJlbkhlaWdodCA+IDg1KSByZXR1cm47XHJcblxyXG4gIGNvbGxhcHNlLmFkZENsYXNzKFwicHJvZHVjdC1oYXJhY3RlcmlzdGljLWdyb3VwX2luYWN0aXZlXCIpO1xyXG4gICQoXCIucHJvZHVjdC1oYXJhY3RlcmlzdGljLWdyb3VwX19idXR0b25cIikuYWRkQ2xhc3MoXCJkLW5vbmVcIik7XHJcbn0pO1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoKCkgPT4ge1xyXG4gIGNvbnN0IGNvbGxhcHNlID0gJChcIi5wcm9kdWN0LWRlc2NyaXB0aW9uLWdyb3VwX19jb2xsYXBzZVwiKTtcclxuICBjb25zdCBjb2xsYXBzZUNoaWxkcmVuID0gY29sbGFwc2UuY2hpbGRyZW4oKTtcclxuICBsZXQgY29sbGFwc2VDaGlsZHJlbkhlaWdodCA9IDA7XHJcblxyXG4gIGZvciAoY29uc3QgY2hpbGQgb2YgY29sbGFwc2VDaGlsZHJlbikge1xyXG4gICAgY29sbGFwc2VDaGlsZHJlbkhlaWdodCArPSAkKGNoaWxkKS5oZWlnaHQoKTtcclxuICB9XHJcblxyXG4gIGlmIChjb2xsYXBzZUNoaWxkcmVuSGVpZ2h0ID4gODUpIHJldHVybjtcclxuXHJcbiAgY29sbGFwc2UuYWRkQ2xhc3MoXCJwcm9kdWN0LWRlc2NyaXB0aW9uLWdyb3VwX19jb2xsYXBzZV9pbmFjdGl2ZVwiKTtcclxuICAkKFwiLnByb2R1Y3QtZGVzY3JpcHRpb24tZ3JvdXBfX2J1dHRvblwiKS5hZGRDbGFzcyhcImQtbm9uZVwiKTtcclxufSk7XHJcblxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoKCkgPT4ge1xyXG4gIGxldCB0b3VjaHN0YXJ0WCA9IDA7XHJcbiAgbGV0IHRvdWNoZW5kWCA9IDA7XHJcblxyXG4gICQoXCIucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fc2VjdG9yXCIpLm9uKFwibW91c2Vtb3ZlXCIsIChldmVudCkgPT4ge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcclxuICAgIGNvbnN0IGlkID0gdGFyZ2V0LmF0dHIoXCJkYXRhLXNlY3RvclwiKTtcclxuICAgIGNvbnN0IHBhcmVudCA9IHRhcmdldC5wYXJlbnQoKS5wYXJlbnQoKTtcclxuICAgIHBhcmVudFxyXG4gICAgLmZpbmQoXCIucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpXHJcbiAgICAucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICBwYXJlbnRcclxuICAgIC5maW5kKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIilcclxuICAgIC5yZW1vdmVDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIik7XHJcbiAgICBwYXJlbnQuZmluZChgW2RhdGEtc2VjdG9yLWltYWdlPVwiJHtpZH1cIl1gKS5hZGRDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKTtcclxuICAgIHBhcmVudC5maW5kKGBbZGF0YS1zZWN0b3ItZG90PVwiJHtpZH1cIl1gKS5hZGRDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIik7XHJcbiAgfSk7XHJcblxyXG4gICQoXCIucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fc2VjdG9yc1wiKS5vbihcInRvdWNoc3RhcnRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICB0b3VjaHN0YXJ0WCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnNjcmVlblg7XHJcbiAgfSk7XHJcblxyXG4gICQoXCIucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fc2VjdG9yc1wiKS5vbihcInRvdWNoZW5kXCIsIChldmVudCkgPT4ge1xyXG4gICAgdG91Y2hlbmRYID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uc2NyZWVuWDtcclxuICAgIGNvbnN0IHBhcmVudCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkucGFyZW50KCk7XHJcbiAgICBjb25zdCBpbWcgPSBwYXJlbnQuZmluZChcIi5wcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICBjb25zdCBpZCA9IE51bWJlcihpbWcuYXR0cihcImRhdGEtc2VjdG9yLWltYWdlXCIpKTtcclxuICAgIGNvbnN0IGxlbmd0aCA9IHBhcmVudC5maW5kKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlXCIpLmxlbmd0aDtcclxuXHJcbiAgICBpZiAodG91Y2hlbmRYIDwgdG91Y2hzdGFydFgpIHtcclxuICAgICAgcGFyZW50XHJcbiAgICAgIC5maW5kKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKVxyXG4gICAgICAucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICAgIHBhcmVudFxyXG4gICAgICAuZmluZChcIi5wcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpXHJcbiAgICAgIC5yZW1vdmVDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIik7XHJcbiAgICAgIGlmIChpZCA+PSBsZW5ndGgpIHtcclxuICAgICAgICBwYXJlbnQuZmluZChgW2RhdGEtc2VjdG9yLWltYWdlPVwiJHsxfVwiXWApLmFkZENsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpO1xyXG4gICAgICAgIHBhcmVudC5maW5kKGBbZGF0YS1zZWN0b3ItZG90PVwiJHsxfVwiXWApLmFkZENsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fZG90X2FjdGl2ZVwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgcGFyZW50XHJcbiAgICAgIC5maW5kKGBbZGF0YS1zZWN0b3ItaW1hZ2U9XCIke2lkICsgMX1cIl1gKVxyXG4gICAgICAuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICAgIHBhcmVudC5maW5kKGBbZGF0YS1zZWN0b3ItZG90PVwiJHtpZCArIDF9XCJdYCkuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRvdWNoZW5kWCA+IHRvdWNoc3RhcnRYKSB7XHJcbiAgICAgIHBhcmVudFxyXG4gICAgICAuZmluZChcIi5wcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIilcclxuICAgICAgLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpO1xyXG4gICAgICBwYXJlbnRcclxuICAgICAgLmZpbmQoXCIucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fZG90X2FjdGl2ZVwiKVxyXG4gICAgICAucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpO1xyXG4gICAgICBpZiAoaWQgPD0gMSkge1xyXG4gICAgICAgIHBhcmVudFxyXG4gICAgICAgIC5maW5kKGBbZGF0YS1zZWN0b3ItaW1hZ2U9XCIke2xlbmd0aH1cIl1gKVxyXG4gICAgICAgIC5hZGRDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKTtcclxuICAgICAgICBwYXJlbnQuZmluZChgW2RhdGEtc2VjdG9yLWRvdD1cIiR7bGVuZ3RofVwiXWApLmFkZENsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fZG90X2FjdGl2ZVwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgcGFyZW50XHJcbiAgICAgIC5maW5kKGBbZGF0YS1zZWN0b3ItaW1hZ2U9XCIke2lkIC0gMX1cIl1gKVxyXG4gICAgICAuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICAgIHBhcmVudC5maW5kKGBbZGF0YS1zZWN0b3ItZG90PVwiJHtpZCAtIDF9XCJdYCkuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAkKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3cgLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlOmZpcnN0LWNoaWxkXCIpLmFkZENsYXNzKFxyXG4gICAgXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIlxyXG4gICk7XHJcbiAgJChcIi5wcm9kdWN0LWNhcmQtc2xpZGVzaG93IC5wcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3Q6Zmlyc3QtY2hpbGRcIikuYWRkQ2xhc3MoXHJcbiAgICBcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIlxyXG4gICk7XHJcbn0pO1xyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikge1xyXG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcclxuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHtcclxuICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xyXG4gICAgICByZXR1cm4gdHlwZW9mIG9iajtcclxuICAgIH07XHJcbiAgfSBlbHNlIHtcclxuICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xyXG4gICAgICByZXR1cm4gb2JqICYmXHJcbiAgICAgICAgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmXHJcbiAgICAgICAgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiZcclxuICAgICAgICBvYmogIT09IFN5bWJvbC5wcm90b3R5cGVcclxuICAgICAgICA/IFwic3ltYm9sXCJcclxuICAgICAgICA6IHR5cGVvZiBvYmo7XHJcbiAgICB9O1xyXG4gIH1cclxuICByZXR1cm4gX3R5cGVvZihvYmopO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzbGlkZXJEZWJvdW5jZShmdW5jLCBpbnRlcnZhbCwgY29udGV4dCkge1xyXG4gIHZhciB0aW1lb3V0ID0gZmFsc2U7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzLFxyXG4gICAgICBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgaWYgKHRpbWVvdXQpIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgZnVuYy5hcHBseShjb250ZXh0IHx8IF90aGlzLCBfYXJndW1lbnRzKTtcclxuICAgIH0sIGludGVydmFsKTtcclxuICB9O1xyXG59XHJcblxyXG5jb25zdCBTbGlkZXJDb25zdHJ1Y3RvciA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcclxuICBmdW5jdGlvbiBTbGlkZXJDb25zdHJ1Y3RvcihlbGVtZW50KSB7XHJcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2xpZGVyQ29uc3RydWN0b3IpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfY3JlYXRlQ2xhc3MoU2xpZGVyQ29uc3RydWN0b3IsIFtcclxuICAgIHtcclxuICAgICAga2V5OiBcImluaXRcIixcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAgICAgbGV0IF90aGlzMyA9IHRoaXM7XHJcblxyXG4gICAgICAgIHRoaXMucGFyYW1zID0ge307XHJcbiAgICAgICAgdGhpcy5wYXJhbXMuYXV0b3BsYXkgPSB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1hdXRvcGxheS10aW1lb3V0XCIpICE9PSBudWxsO1xyXG4gICAgICAgIHRoaXMucGFyYW1zLmF1dG9wbGF5VGltZW91dCA9ICt0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1hdXRvcGxheS10aW1lb3V0XCIpIHx8IDUwMDA7XHJcbiAgICAgICAgdGhpcy5wYXJhbXMuYXJyb3dzID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtbm8tYXJyb3dzXCIpID09PSBudWxsID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICBjb25zdCBtZWRpYVF1ZXJ5ID0gd2luZG93Lm1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiA1NzUuOThweClcIik7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIG1lZGlhIHF1ZXJ5IGlzIHRydWVcclxuICAgICAgICBpZiAobWVkaWFRdWVyeS5tYXRjaGVzKSB7XHJcbiAgICAgICAgICB0aGlzLnBhcmFtcy5kb3RzID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtbm8tZG90c1wiKSA9PT0gbnVsbCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5wYXJhbXMuZG90cyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnBhcmFtcy5hZGFwdGl2ZUhlaWdodCA9IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWFkYXB0aXZlLWhlaWdodFwiKSAhPT0gbnVsbDtcclxuICAgICAgICB0aGlzLnBhcmFtcy5jZW50ZXJNb2RlID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtY2VudGVyXCIpID09PSBudWxsID8gZmFsc2UgOiB0cnVlO1xyXG4gICAgICAgIHRoaXMucGFyYW1zLmNvdW50ID0ge307XHJcbiAgICAgICAgdGhpcy5wYXJhbXMuY291bnQueHMgPSArdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtc2xpZGVzXCIpIHx8IDE7XHJcbiAgICAgICAgdGhpcy5wYXJhbXMuY291bnQuc20gPSArdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtc20tc2xpZGVzXCIpIHx8IHRoaXMucGFyYW1zLmNvdW50LnhzO1xyXG4gICAgICAgIHRoaXMucGFyYW1zLmNvdW50Lm1kID0gK3RoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1kLXNsaWRlc1wiKSB8fCB0aGlzLnBhcmFtcy5jb3VudC5zbTtcclxuICAgICAgICB0aGlzLnBhcmFtcy5jb3VudC5sZyA9ICt0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1sZy1zbGlkZXNcIikgfHwgdGhpcy5wYXJhbXMuY291bnQubWQ7XHJcbiAgICAgICAgdGhpcy5wYXJhbXMuY291bnQueGwgPSArdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEteGwtc2xpZGVzXCIpIHx8IHRoaXMucGFyYW1zLmNvdW50LmxnO1xyXG4gICAgICAgIHRoaXMucGFyYW1zLnJvd3MgPSB7fTtcclxuICAgICAgICAodGhpcy5wYXJhbXMucm93cy54cyA9ICt0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1yb3dzXCIpIHx8IDEpLFxyXG4gICAgICAgICAgKHRoaXMucGFyYW1zLnJvd3Muc20gPSArdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtc20tcm93c1wiKSB8fCB0aGlzLnBhcmFtcy5yb3dzLnhzKSxcclxuICAgICAgICAgICh0aGlzLnBhcmFtcy5yb3dzLm1kID0gK3RoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1kLXJvd3NcIikgfHwgdGhpcy5wYXJhbXMucm93cy5zbSksXHJcbiAgICAgICAgICAodGhpcy5wYXJhbXMucm93cy5sZyA9ICt0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1sZy1yb3dzXCIpIHx8IHRoaXMucGFyYW1zLnJvd3MubWQpLFxyXG4gICAgICAgICAgKHRoaXMucGFyYW1zLnJvd3MueGwgPSArdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEteGwtcm93c1wiKSB8fCB0aGlzLnBhcmFtcy5yb3dzLmxnKTtcclxuICAgICAgICB0aGlzLnBhcmFtcy5zdGF0ZSA9IHt9O1xyXG4gICAgICAgIE9iamVjdC5rZXlzKGJyZWFrcG9pbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXksIGluZGV4KSB7XHJcbiAgICAgICAgICBsZXQgYnJlYWtwb2ludCA9IGluZGV4ICE9PSAwID8gXCItXCIgKyBrZXkgKyBcIi1cIiA6IFwiLVwiO1xyXG5cclxuICAgICAgICAgIGxldCBhdHRyID0gX3RoaXMzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YVwiLmNvbmNhdChicmVha3BvaW50LCBcIm1vdW50ZWRcIikpO1xyXG5cclxuICAgICAgICAgIGlmIChhdHRyID09PSBudWxsICYmIGluZGV4ICE9PSAwKSB7XHJcbiAgICAgICAgICAgIGxldCBwcmV2S2V5ID0gT2JqZWN0LmtleXMoYnJlYWtwb2ludHMpW2luZGV4IC0gMV07XHJcbiAgICAgICAgICAgIF90aGlzMy5wYXJhbXMuc3RhdGVba2V5XSA9IF90aGlzMy5wYXJhbXMuc3RhdGVbcHJldktleV07XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGF0dHIgPT09IFwidHJ1ZVwiIHx8IChpbmRleCA9PT0gMCAmJiBhdHRyICE9PSBcImZhbHNlXCIpKSB7XHJcbiAgICAgICAgICAgIF90aGlzMy5wYXJhbXMuc3RhdGVba2V5XSA9IHRydWU7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBfdGhpczMucGFyYW1zLnN0YXRlW2tleV0gPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNsaWRlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY29udGFpbnNNb2JpbGVIaWRkZW5TbGlkZXMgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChzbGlkZSkge1xyXG4gICAgICAgICAgaWYgKCFzbGlkZS50YWdOYW1lKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgaWYgKHNsaWRlLmdldEF0dHJpYnV0ZShcImRhdGEtc2xpZGUtbW9iaWxlLWhpZGRlblwiKSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBfdGhpczMuY29udGFpbnNNb2JpbGVIaWRkZW5TbGlkZXMgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIF90aGlzMy5zbGlkZXMucHVzaChzbGlkZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVJY29ucygpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tTbGlkZXJTdGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tTbGlkZXJTdGF0ZURlYm91bmNlZCA9IHNsaWRlckRlYm91bmNlKHRoaXMuY2hlY2tTbGlkZXJTdGF0ZSwgNTAwLCB0aGlzKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLmNoZWNrU2xpZGVyU3RhdGVEZWJvdW5jZWQpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAga2V5OiBcImNyZWF0ZUljb25zXCIsXHJcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVJY29ucygpIHtcclxuICAgICAgICBsZXQgbGVmdEljb24gPVxyXG4gICAgICAgICAgJ1xcbiAgICAgIDxzdmcgdmlld0JveD1cIjAgMCAxMSAxOVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XFxuICAgICAgICA8cGF0aCBkPVwiTTEuNCAxOC4xTDAgMTYuN0w3LjYgOS4xMDAwMUwwIDEuNUwxLjQgMEwxMC40IDkuMTAwMDFDMTAuNCA5LjEwMDAxIDEuMyAxOC4xIDEuNCAxOC4xWlwiLz5cXG4gICAgICA8L3N2Zz5cXG4gICAgJztcclxuICAgICAgICBsZXQgcmlnaHRJY29uID1cclxuICAgICAgICAgICdcXG4gICAgICA8c3ZnIHZpZXdCb3g9XCIwIDAgMTEgMTlcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxcbiAgICAgICAgPHBhdGggZD1cIk05LjAwMDM5IDcuMjQ3OTJlLTA1TDEwLjQwMDQgMS40MDAwN0wyLjgwMDM5IDkuMDAwMDlMMTAuNDAwNCAxNi42MDAxTDkuMDAwMzkgMTguMTAwMUwwLjAwMDM5MTAwNiA5LjAwMDA5QzAuMDAwMzkxMDA2IDkuMDAwMDkgOS4xMDAzOSA3LjI0NzkyZS0wNSA5LjAwMDM5IDcuMjQ3OTJlLTA1WlwiLz5cXG4gICAgICA8L3N2Zz5cXG4gICAgJztcclxuICAgICAgICBsZXQgbGVmdEljb25DbGFzcyA9IFwiY3VzdG9tLWljb24tbGVmdFwiO1xyXG4gICAgICAgIGxldCByaWdodEljb25DbGFzcyA9IFwiY3VzdG9tLWljb24tcmlnaHRcIjtcclxuICAgICAgICBsZXQgY3VzdG9tSWNvbnMgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuICAgICAgICAgIFwiLlwiLmNvbmNhdChsZWZ0SWNvbkNsYXNzLCBcIiwgLlwiKS5jb25jYXQocmlnaHRJY29uQ2xhc3MpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjdXN0b21JY29ucy5mb3JFYWNoKGZ1bmN0aW9uIChpY29uKSB7XHJcbiAgICAgICAgICBsZXQgaXNMZWZ0SWNvbiA9IGljb24uY2xhc3NMaXN0LmNvbnRhaW5zKGxlZnRJY29uQ2xhc3MpO1xyXG4gICAgICAgICAgbGV0IGlzUmlnaHRJY29uID0gaWNvbi5jbGFzc0xpc3QuY29udGFpbnMocmlnaHRJY29uQ2xhc3MpO1xyXG5cclxuICAgICAgICAgIGlmIChpc0xlZnRJY29uKSB7XHJcbiAgICAgICAgICAgIGljb24uY2xhc3NMaXN0LnJlbW92ZShsZWZ0SWNvbkNsYXNzKTtcclxuICAgICAgICAgICAgbGVmdEljb24gPSBpY29uLm91dGVySFRNTDtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNSaWdodEljb24pIHtcclxuICAgICAgICAgICAgaWNvbi5jbGFzc0xpc3QucmVtb3ZlKHJpZ2h0SWNvbkNsYXNzKTtcclxuICAgICAgICAgICAgcmlnaHRJY29uID0gaWNvbi5vdXRlckhUTUw7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWNvbi5yZW1vdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm5leHRBcnJvdyA9ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ1dHRvbiBidXR0b25fc3R5bGUtMSBzbGljay1uZXh0XCI+Jy5jb25jYXQoXHJcbiAgICAgICAgICBsZWZ0SWNvbixcclxuICAgICAgICAgIFwiPC9idXR0b24+XCJcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMucHJldkFycm93ID0gJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnV0dG9uIGJ1dHRvbl9zdHlsZS0xIHNsaWNrLXByZXZcIj4nLmNvbmNhdChcclxuICAgICAgICAgIHJpZ2h0SWNvbixcclxuICAgICAgICAgIFwiPC9idXR0b24+XCJcclxuICAgICAgICApO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAga2V5OiBcImNoZWNrU2xpZGVyU3RhdGVcIixcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrU2xpZGVyU3RhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubW91bnRlZCAmJiB0aGlzLnNhdmVkV2luZG93V2lkdGggPT09IHdpbmRvdy5pbm5lcldpZHRoKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5zYXZlZFdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1vdW50ZWQpIHtcclxuICAgICAgICAgIHRoaXMudW5tb3VudCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHN0YXRlO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBicmVha3BvaW50IGluIGJyZWFrcG9pbnRzKSB7XHJcbiAgICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPj0gYnJlYWtwb2ludHNbYnJlYWtwb2ludF0pIHtcclxuICAgICAgICAgICAgc3RhdGUgPSB0aGlzLnBhcmFtcy5zdGF0ZVticmVha3BvaW50XTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzdGF0ZSkge1xyXG4gICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xyXG5cclxuICAgICAgICAgIGlmICh0aGlzLmNvbnRhaW5zTW9iaWxlSGlkZGVuU2xpZGVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tTbGlkZXNWaXNpYmlsaXR5KCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdGhpcy5tb3VudCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAga2V5OiBcImNoZWNrU2xpZGVzVmlzaWJpbGl0eVwiLFxyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tTbGlkZXNWaXNpYmlsaXR5KCkge1xyXG4gICAgICAgIGxldCBfdGhpczQgPSB0aGlzO1xyXG5cclxuICAgICAgICB0aGlzLnNsaWRlcy5mb3JFYWNoKGZ1bmN0aW9uIChzbGlkZSkge1xyXG4gICAgICAgICAgc2xpZGUucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zbGlkZXMuZm9yRWFjaChmdW5jdGlvbiAoc2xpZGUpIHtcclxuICAgICAgICAgIGxldCBzaG91bGRCZUhpZGRlbiA9IHNsaWRlLmdldEF0dHJpYnV0ZShcImRhdGEtc2xpZGUtbW9iaWxlLWhpZGRlblwiKSAhPT0gbnVsbDtcclxuICAgICAgICAgIGxldCBicmVha3BvaW50ID0gd2luZG93LmlubmVyV2lkdGggPCBicmVha3BvaW50cy5zbTtcclxuXHJcbiAgICAgICAgICBpZiAoIShzaG91bGRCZUhpZGRlbiAmJiBicmVha3BvaW50KSkge1xyXG4gICAgICAgICAgICBfdGhpczQuZWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJiZWZvcmVlbmRcIiwgc2xpZGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAga2V5OiBcIm1vdW50XCIsXHJcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBtb3VudCgpIHtcclxuICAgICAgICAkKHRoaXMuZWxlbWVudCkuc2xpY2soe1xyXG4gICAgICAgICAgYXV0b3BsYXk6IHRoaXMucGFyYW1zLmF1dG9wbGF5LFxyXG4gICAgICAgICAgYXV0b3BsYXlTcGVlZDogdGhpcy5wYXJhbXMuYXV0b3BsYXlUaW1lb3V0LFxyXG4gICAgICAgICAgbW9iaWxlRmlyc3Q6IHRydWUsXHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IHRoaXMucGFyYW1zLmNvdW50LnhzLFxyXG4gICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IHRoaXMucGFyYW1zLmNvdW50LnhzLFxyXG4gICAgICAgICAgcm93czogdGhpcy5wYXJhbXMucm93cy54cyxcclxuICAgICAgICAgIHByZXZBcnJvdzogdGhpcy5wcmV2QXJyb3csXHJcbiAgICAgICAgICBuZXh0QXJyb3c6IHRoaXMubmV4dEFycm93LFxyXG4gICAgICAgICAgYXJyb3dzOiB0aGlzLnBhcmFtcy5hcnJvd3MsXHJcbiAgICAgICAgICBhZGFwdGl2ZUhlaWdodDogdGhpcy5wYXJhbXMuYWRhcHRpdmVIZWlnaHQsXHJcbiAgICAgICAgICBkb3RzOiB0aGlzLnBhcmFtcy5kb3RzLFxyXG4gICAgICAgICAgY2VudGVyTW9kZTogdGhpcy5wYXJhbXMuY2VudGVyTW9kZSxcclxuICAgICAgICAgIGFjY2Vzc2liaWxpdHk6IGZhbHNlLFxyXG4gICAgICAgICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogYnJlYWtwb2ludHMuc20gLSAxLFxyXG4gICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IHRoaXMucGFyYW1zLmNvdW50LnNtLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IHRoaXMucGFyYW1zLmNvdW50LnNtLFxyXG4gICAgICAgICAgICAgICAgcm93czogdGhpcy5wYXJhbXMucm93cy5zbSxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogYnJlYWtwb2ludHMubWQgLSAxLFxyXG4gICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IHRoaXMucGFyYW1zLmNvdW50Lm1kLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IHRoaXMucGFyYW1zLmNvdW50Lm1kLFxyXG4gICAgICAgICAgICAgICAgcm93czogdGhpcy5wYXJhbXMucm93cy5tZCxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogYnJlYWtwb2ludHMubGcgLSAxLFxyXG4gICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IHRoaXMucGFyYW1zLmNvdW50LmxnLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IHRoaXMucGFyYW1zLmNvdW50LmxnLFxyXG4gICAgICAgICAgICAgICAgcm93czogdGhpcy5wYXJhbXMucm93cy5sZyxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogYnJlYWtwb2ludHMueGwgLSAxLFxyXG4gICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IHRoaXMucGFyYW1zLmNvdW50LnhsLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IHRoaXMucGFyYW1zLmNvdW50LnhsLFxyXG4gICAgICAgICAgICAgICAgcm93czogdGhpcy5wYXJhbXMucm93cy54bCxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgXSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBsZXQgdG91Y2hzdGFydFggPSAwO1xyXG4gICAgICAgIGxldCB0b3VjaGVuZFggPSAwO1xyXG5cclxuICAgICAgICAkKFwiLnNsaWRlci1jb25zdHJ1Y3RvciAucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fc2VjdG9yXCIpLm9uKFwibW91c2Vtb3ZlXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgdGFyZ2V0ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcclxuICAgICAgICAgIGNvbnN0IGlkID0gdGFyZ2V0LmF0dHIoXCJkYXRhLXNlY3RvclwiKTtcclxuICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRhcmdldC5wYXJlbnQoKS5wYXJlbnQoKTtcclxuICAgICAgICAgIHBhcmVudFxyXG4gICAgICAgICAgLmZpbmQoXCIucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpXHJcbiAgICAgICAgICAucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICAgICAgICBwYXJlbnRcclxuICAgICAgICAgIC5maW5kKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIilcclxuICAgICAgICAgIC5yZW1vdmVDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIik7XHJcbiAgICAgICAgICBwYXJlbnRcclxuICAgICAgICAgIC5maW5kKGBbZGF0YS1zZWN0b3ItaW1hZ2U9XCIke2lkfVwiXWApXHJcbiAgICAgICAgICAuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICAgICAgICBwYXJlbnQuZmluZChgW2RhdGEtc2VjdG9yLWRvdD1cIiR7aWR9XCJdYCkuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiLnNsaWRlci1jb25zdHJ1Y3RvciAucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fc2VjdG9yc1wiKS5vbihcInRvdWNoc3RhcnRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICB0b3VjaHN0YXJ0WCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnNjcmVlblg7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCIuc2xpZGVyLWNvbnN0cnVjdG9yIC5wcm9kdWN0LWNhcmQtc2xpZGVzaG93X19zZWN0b3JzXCIpLm9uKFwidG91Y2hlbmRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICB0b3VjaGVuZFggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5zY3JlZW5YO1xyXG4gICAgICAgICAgY29uc3QgcGFyZW50ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5wYXJlbnQoKTtcclxuICAgICAgICAgIGNvbnN0IGltZyA9IHBhcmVudC5maW5kKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKTtcclxuICAgICAgICAgIGNvbnN0IGlkID0gTnVtYmVyKGltZy5hdHRyKFwiZGF0YS1zZWN0b3ItaW1hZ2VcIikpO1xyXG4gICAgICAgICAgY29uc3QgbGVuZ3RoID0gcGFyZW50LmZpbmQoXCIucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VcIikubGVuZ3RoO1xyXG5cclxuICAgICAgICAgIGlmICh0b3VjaGVuZFggPCB0b3VjaHN0YXJ0WCkge1xyXG4gICAgICAgICAgICBwYXJlbnRcclxuICAgICAgICAgICAgLmZpbmQoXCIucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKTtcclxuICAgICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICAgIC5maW5kKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIilcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fZG90X2FjdGl2ZVwiKTtcclxuICAgICAgICAgICAgaWYgKGlkID49IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAgIHBhcmVudFxyXG4gICAgICAgICAgICAgIC5maW5kKGBbZGF0YS1zZWN0b3ItaW1hZ2U9XCIkezF9XCJdYClcclxuICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICAgICAgLmZpbmQoYFtkYXRhLXNlY3Rvci1kb3Q9XCIkezF9XCJdYClcclxuICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYXJlbnRcclxuICAgICAgICAgICAgLmZpbmQoYFtkYXRhLXNlY3Rvci1pbWFnZT1cIiR7aWQgKyAxfVwiXWApXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKTtcclxuICAgICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICAgIC5maW5kKGBbZGF0YS1zZWN0b3ItZG90PVwiJHtpZCArIDF9XCJdYClcclxuICAgICAgICAgICAgLmFkZENsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fZG90X2FjdGl2ZVwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICh0b3VjaGVuZFggPiB0b3VjaHN0YXJ0WCkge1xyXG4gICAgICAgICAgICBwYXJlbnRcclxuICAgICAgICAgICAgLmZpbmQoXCIucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKTtcclxuICAgICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICAgIC5maW5kKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIilcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fZG90X2FjdGl2ZVwiKTtcclxuICAgICAgICAgICAgaWYgKGlkIDw9IDEpIHtcclxuICAgICAgICAgICAgICBwYXJlbnRcclxuICAgICAgICAgICAgICAuZmluZChgW2RhdGEtc2VjdG9yLWltYWdlPVwiJHtsZW5ndGh9XCJdYClcclxuICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICAgICAgLmZpbmQoYFtkYXRhLXNlY3Rvci1kb3Q9XCIke2xlbmd0aH1cIl1gKVxyXG4gICAgICAgICAgICAgIC5hZGRDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhcmVudFxyXG4gICAgICAgICAgICAuZmluZChgW2RhdGEtc2VjdG9yLWltYWdlPVwiJHtpZCAtIDF9XCJdYClcclxuICAgICAgICAgICAgLmFkZENsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICBwYXJlbnRcclxuICAgICAgICAgICAgLmZpbmQoYFtkYXRhLXNlY3Rvci1kb3Q9XCIke2lkIC0gMX1cIl1gKVxyXG4gICAgICAgICAgICAuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm1vdW50ZWQgPSB0cnVlO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAga2V5OiBcInVubW91bnRcIixcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVubW91bnQoKSB7XHJcbiAgICAgICAgJCh0aGlzLmVsZW1lbnQpLnNsaWNrKFwidW5zbGlja1wiKTtcclxuICAgICAgICB0aGlzLm1vdW50ZWQgPSBmYWxzZTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgXSk7XHJcblxyXG4gIHJldHVybiBTbGlkZXJDb25zdHJ1Y3RvcjtcclxufSkoKTtcclxuXHJcblxyXG5cclxuXHJcbihmdW5jdGlvbiAoJCkge1xyXG4gIHZhciBwbHVnaW5OYW1lID0gXCJjc2NybGJcIjtcclxuXHJcbiAgZnVuY3Rpb24gUGx1Z2luKGVsZW1lbnQsIG9wdGlvbnMpIHtcclxuICAgIHZhciBlbCA9IGVsZW1lbnQ7XHJcbiAgICB2YXIgJGVsID0gJChlbGVtZW50KTtcclxuICAgIHZhciAkc2Nyb2xsQ29udGVudEVsO1xyXG4gICAgdmFyICRjb250ZW50RWwgPSAkZWwuZmluZChcIi5jc2NybGItY29udGVudFwiKTtcclxuICAgIHZhciAkc2Nyb2xsYmFyRWw7XHJcbiAgICB2YXIgJGRyYWdIYW5kbGVFbDtcclxuICAgIHZhciBkcmFnT2Zmc2V0O1xyXG4gICAgdmFyIGZsYXNoVGltZW91dDtcclxuICAgIHZhciBwYWdlSnVtcE11bHRwID0gNyAvIDg7XHJcbiAgICB2YXIgc2Nyb2xsRGlyZWN0aW9uID0gXCJ2ZXJ0XCI7XHJcbiAgICB2YXIgc2Nyb2xsT2Zmc2V0QXR0ciA9IFwic2Nyb2xsVG9wXCI7XHJcbiAgICB2YXIgc2l6ZUF0dHIgPSBcImhlaWdodFwiO1xyXG4gICAgdmFyIG9mZnNldEF0dHIgPSBcInRvcFwiO1xyXG4gICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCAkLmZuW3BsdWdpbk5hbWVdLmRlZmF1bHRzLCBvcHRpb25zKTtcclxuXHJcbiAgICB3aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAkY29udGVudEVsLmZvY3VzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAgIGlmICgkZWwuaGFzQ2xhc3MoXCJob3Jpem9udGFsXCIpKSB7XHJcbiAgICAgICAgc2Nyb2xsRGlyZWN0aW9uID0gXCJob3JpelwiO1xyXG4gICAgICAgIHNjcm9sbE9mZnNldEF0dHIgPSBcInNjcm9sbExlZnRcIjtcclxuICAgICAgICBzaXplQXR0ciA9IFwid2lkdGhcIjtcclxuICAgICAgICBvZmZzZXRBdHRyID0gXCJsZWZ0XCI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRlbC5wcmVwZW5kKCc8ZGl2IGNsYXNzPVwiY3NjcmxiLXNjcm9sbGJhclwiPjxkaXYgY2xhc3M9XCJkcmFnLWhhbmRsZVwiPjwvZGl2PjwvZGl2PicpO1xyXG4gICAgICAkc2Nyb2xsYmFyRWwgPSAkZWwuZmluZChcIi5jc2NybGItc2Nyb2xsYmFyXCIpO1xyXG4gICAgICAkZHJhZ0hhbmRsZUVsID0gJGVsLmZpbmQoXCIuZHJhZy1oYW5kbGVcIik7XHJcblxyXG4gICAgICBpZiAob3B0aW9ucy53cmFwQ29udGVudCkge1xyXG4gICAgICAgICRjb250ZW50RWwud3JhcCgnPGRpdiBjbGFzcz1cImNzY3JsYi1zY3JvbGwtY29udGVudFwiIC8+Jyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRzY3JvbGxDb250ZW50RWwgPSAkZWwuZmluZChcIi5jc2NybGItc2Nyb2xsLWNvbnRlbnRcIik7XHJcbiAgICAgIHJlc2l6ZVNjcm9sbENvbnRlbnQoKTtcclxuXHJcbiAgICAgIGlmIChvcHRpb25zLmF1dG9IaWRlKSB7XHJcbiAgICAgICAgJGVsLm9uKFwibW91c2VlbnRlclwiLCBmbGFzaFNjcm9sbGJhcik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRkcmFnSGFuZGxlRWwub24oXCJtb3VzZWRvd25cIiwgc3RhcnREcmFnKTtcclxuICAgICAgJHNjcm9sbGJhckVsLm9uKFwibW91c2Vkb3duXCIsIGp1bXBTY3JvbGwpO1xyXG4gICAgICAkc2Nyb2xsQ29udGVudEVsLm9uKFwic2Nyb2xsXCIsIG9uU2Nyb2xsZWQpO1xyXG4gICAgICByZXNpemVTY3JvbGxiYXIoKTtcclxuICAgICAgJCh3aW5kb3cpLm9uKFwicmVzaXplXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZWNhbGN1bGF0ZSgpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICghb3B0aW9ucy5hdXRvSGlkZSkge1xyXG4gICAgICAgIHNob3dTY3JvbGxiYXIoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHN0YXJ0RHJhZyhlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdmFyIGV2ZW50T2Zmc2V0ID0gZS5wYWdlWTtcclxuXHJcbiAgICAgIGlmIChzY3JvbGxEaXJlY3Rpb24gPT09IFwiaG9yaXpcIikge1xyXG4gICAgICAgIGV2ZW50T2Zmc2V0ID0gZS5wYWdlWDtcclxuICAgICAgfVxyXG5cclxuICAgICAgZHJhZ09mZnNldCA9IGV2ZW50T2Zmc2V0IC0gJGRyYWdIYW5kbGVFbC5vZmZzZXQoKVtvZmZzZXRBdHRyXTtcclxuICAgICAgJChkb2N1bWVudCkub24oXCJtb3VzZW1vdmVcIiwgZHJhZyk7XHJcbiAgICAgICQoZG9jdW1lbnQpLm9uKFwibW91c2V1cFwiLCBlbmREcmFnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkcmFnKGUpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB2YXIgZXZlbnRPZmZzZXQgPSBlLnBhZ2VZO1xyXG5cclxuICAgICAgaWYgKHNjcm9sbERpcmVjdGlvbiA9PT0gXCJob3JpelwiKSB7XHJcbiAgICAgICAgZXZlbnRPZmZzZXQgPSBlLnBhZ2VYO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgZHJhZ1BvcyA9IGV2ZW50T2Zmc2V0IC0gJHNjcm9sbGJhckVsLm9mZnNldCgpW29mZnNldEF0dHJdIC0gZHJhZ09mZnNldDtcclxuICAgICAgdmFyIGRyYWdQZXJjID0gZHJhZ1BvcyAvICRzY3JvbGxiYXJFbFtzaXplQXR0cl0oKTtcclxuICAgICAgdmFyIHNjcm9sbFBvcyA9IGRyYWdQZXJjICogJGNvbnRlbnRFbFtzaXplQXR0cl0oKTtcclxuICAgICAgJHNjcm9sbENvbnRlbnRFbFtzY3JvbGxPZmZzZXRBdHRyXShzY3JvbGxQb3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGVuZERyYWcoKSB7XHJcbiAgICAgICQoZG9jdW1lbnQpLm9mZihcIm1vdXNlbW92ZVwiLCBkcmFnKTtcclxuICAgICAgJChkb2N1bWVudCkub2ZmKFwibW91c2V1cFwiLCBlbmREcmFnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBqdW1wU2Nyb2xsKGUpIHtcclxuICAgICAgaWYgKGUudGFyZ2V0ID09PSAkZHJhZ0hhbmRsZUVsWzBdKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIganVtcEFtdCA9IHBhZ2VKdW1wTXVsdHAgKiAkc2Nyb2xsQ29udGVudEVsW3NpemVBdHRyXSgpO1xyXG4gICAgICB2YXIgZXZlbnRPZmZzZXQgPVxyXG4gICAgICAgIHNjcm9sbERpcmVjdGlvbiA9PT0gXCJ2ZXJ0XCIgPyBlLm9yaWdpbmFsRXZlbnQubGF5ZXJZIDogZS5vcmlnaW5hbEV2ZW50LmxheWVyWDtcclxuICAgICAgdmFyIGRyYWdIYW5kbGVPZmZzZXQgPSAkZHJhZ0hhbmRsZUVsLnBvc2l0aW9uKClbb2Zmc2V0QXR0cl07XHJcbiAgICAgIHZhciBzY3JvbGxQb3MgPVxyXG4gICAgICAgIGV2ZW50T2Zmc2V0IDwgZHJhZ0hhbmRsZU9mZnNldFxyXG4gICAgICAgICAgPyAkc2Nyb2xsQ29udGVudEVsW3Njcm9sbE9mZnNldEF0dHJdKCkgLSBqdW1wQW10XHJcbiAgICAgICAgICA6ICRzY3JvbGxDb250ZW50RWxbc2Nyb2xsT2Zmc2V0QXR0cl0oKSArIGp1bXBBbXQ7XHJcbiAgICAgICRzY3JvbGxDb250ZW50RWxbc2Nyb2xsT2Zmc2V0QXR0cl0oc2Nyb2xsUG9zKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvblNjcm9sbGVkKGUpIHtcclxuICAgICAgZmxhc2hTY3JvbGxiYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXNpemVTY3JvbGxiYXIoKSB7XHJcbiAgICAgIHZhciBjb250ZW50U2l6ZSA9ICRjb250ZW50RWxbc2l6ZUF0dHJdKCk7XHJcbiAgICAgIHZhciBzY3JvbGxPZmZzZXQgPSAkc2Nyb2xsQ29udGVudEVsW3Njcm9sbE9mZnNldEF0dHJdKCk7IC8vIHNjcm9sbFRvcCgpIOOBiyBzY3JvbGxMZWZ0KClcclxuXHJcbiAgICAgIHZhciBzY3JvbGxiYXJTaXplID0gJHNjcm9sbGJhckVsW3NpemVBdHRyXSgpO1xyXG4gICAgICB2YXIgc2Nyb2xsYmFyUmF0aW8gPSBzY3JvbGxiYXJTaXplIC8gY29udGVudFNpemU7XHJcbiAgICAgIHZhciBoYW5kbGVPZmZzZXQgPSBNYXRoLnJvdW5kKHNjcm9sbGJhclJhdGlvICogc2Nyb2xsT2Zmc2V0KTtcclxuICAgICAgLyogKyAyOyAqL1xyXG5cclxuICAgICAgdmFyIGhhbmRsZVNpemUgPSBNYXRoLmZsb29yKHNjcm9sbGJhclJhdGlvICogKHNjcm9sbGJhclNpemUgKyAyKSk7XHJcbiAgICAgIC8qICAtIDIpKSAtIDI7ICovXHJcblxyXG4gICAgICBpZiAoc2Nyb2xsYmFyU2l6ZSA8IGNvbnRlbnRTaXplKSB7XHJcbiAgICAgICAgaWYgKHNjcm9sbERpcmVjdGlvbiA9PT0gXCJ2ZXJ0XCIpIHtcclxuICAgICAgICAgICRkcmFnSGFuZGxlRWwuY3NzKHtcclxuICAgICAgICAgICAgdG9wOiBoYW5kbGVPZmZzZXQsXHJcbiAgICAgICAgICAgIGhlaWdodDogaGFuZGxlU2l6ZSxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkZHJhZ0hhbmRsZUVsLmNzcyh7XHJcbiAgICAgICAgICAgIGxlZnQ6IGhhbmRsZU9mZnNldCxcclxuICAgICAgICAgICAgd2lkdGg6IGhhbmRsZVNpemUsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRzY3JvbGxiYXJFbC5zaG93KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJHNjcm9sbGJhckVsLmhpZGUoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZsYXNoU2Nyb2xsYmFyKCkge1xyXG4gICAgICByZXNpemVTY3JvbGxiYXIoKTtcclxuICAgICAgc2hvd1Njcm9sbGJhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNob3dTY3JvbGxiYXIoKSB7XHJcbiAgICAgICRkcmFnSGFuZGxlRWwuYWRkQ2xhc3MoXCJ2aXNpYmxlXCIpO1xyXG5cclxuICAgICAgaWYgKCFvcHRpb25zLmF1dG9IaWRlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodHlwZW9mIGZsYXNoVGltZW91dCA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoZmxhc2hUaW1lb3V0KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZmxhc2hUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGhpZGVTY3JvbGxiYXIoKTtcclxuICAgICAgfSwgMTAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaGlkZVNjcm9sbGJhcigpIHtcclxuICAgICAgJGRyYWdIYW5kbGVFbC5yZW1vdmVDbGFzcyhcInZpc2libGVcIik7XHJcblxyXG4gICAgICBpZiAodHlwZW9mIGZsYXNoVGltZW91dCA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoZmxhc2hUaW1lb3V0KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc2l6ZVNjcm9sbENvbnRlbnQoKSB7XHJcbiAgICAgIGlmIChzY3JvbGxEaXJlY3Rpb24gPT09IFwidmVydFwiKSB7XHJcbiAgICAgICAgJHNjcm9sbENvbnRlbnRFbC53aWR0aCgkZWwud2lkdGgoKSArIHNjcm9sbGJhcldpZHRoKCkpO1xyXG4gICAgICAgICRzY3JvbGxDb250ZW50RWwuaGVpZ2h0KCRlbC5oZWlnaHQoKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJHNjcm9sbENvbnRlbnRFbC53aWR0aCgkZWwud2lkdGgoKSk7XHJcbiAgICAgICAgJHNjcm9sbENvbnRlbnRFbC5oZWlnaHQoJGVsLmhlaWdodCgpICsgc2Nyb2xsYmFyV2lkdGgoKSk7XHJcbiAgICAgICAgJGNvbnRlbnRFbC5oZWlnaHQoJGVsLmhlaWdodCgpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNjcm9sbGJhcldpZHRoKCkge1xyXG4gICAgICB2YXIgdGVtcEVsID0gJChcclxuICAgICAgICAnPGRpdiBjbGFzcz1cInNjcm9sbGJhci13aWR0aC10ZXN0ZXJcIiBzdHlsZT1cIndpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7b3ZlcmZsb3cteTpzY3JvbGw7cG9zaXRpb246YWJzb2x1dGU7dG9wOi0yMDBweDtsZWZ0Oi0yMDBweDtcIj48ZGl2IHN0eWxlPVwiaGVpZ2h0OjEwMHB4O1wiPjwvZGl2PidcclxuICAgICAgKTtcclxuICAgICAgJChcImJvZHlcIikuYXBwZW5kKHRlbXBFbCk7XHJcbiAgICAgIHZhciB3aWR0aCA9ICQodGVtcEVsKS5pbm5lcldpZHRoKCk7XHJcbiAgICAgIHZhciB3aWR0aE1pbnVzU2Nyb2xsYmFycyA9ICQoXCJkaXZcIiwgdGVtcEVsKS5pbm5lcldpZHRoKCk7XHJcbiAgICAgIHRlbXBFbC5yZW1vdmUoKTtcclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICB3aWR0aCA9PT0gd2lkdGhNaW51c1Njcm9sbGJhcnMgJiZcclxuICAgICAgICBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImZpcmVmb3hcIikgPiAtMVxyXG4gICAgICApIHtcclxuICAgICAgICByZXR1cm4gMTc7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB3aWR0aCAtIHdpZHRoTWludXNTY3JvbGxiYXJzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlY2FsY3VsYXRlKCkge1xyXG4gICAgICByZXNpemVTY3JvbGxDb250ZW50KCk7XHJcbiAgICAgIHJlc2l6ZVNjcm9sbGJhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9wdGlvbihrZXksIHZhbCkge1xyXG4gICAgICBpZiAodmFsKSB7XHJcbiAgICAgICAgb3B0aW9uc1trZXldID0gdmFsO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBvcHRpb25zW2tleV07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkZXN0cm95KCkge1xyXG4gICAgICAkY29udGVudEVsLmluc2VydEJlZm9yZSgkc2Nyb2xsYmFyRWwpO1xyXG4gICAgICAkc2Nyb2xsYmFyRWwucmVtb3ZlKCk7XHJcbiAgICAgICRzY3JvbGxDb250ZW50RWwucmVtb3ZlKCk7XHJcbiAgICAgICRjb250ZW50RWwuY3NzKHtcclxuICAgICAgICBoZWlnaHQ6ICRlbC5oZWlnaHQoKSArIFwicHhcIixcclxuICAgICAgICBcIm92ZXJmbG93LXlcIjogXCJzY3JvbGxcIixcclxuICAgICAgfSk7XHJcbiAgICAgIGhvb2soXCJvbkRlc3Ryb3lcIik7XHJcbiAgICAgICRlbC5yZW1vdmVEYXRhKFwicGx1Z2luX1wiICsgcGx1Z2luTmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaG9vayhob29rTmFtZSkge1xyXG4gICAgICBpZiAob3B0aW9uc1tob29rTmFtZV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIG9wdGlvbnNbaG9va05hbWVdLmNhbGwoZWwpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgb3B0aW9uOiBvcHRpb24sXHJcbiAgICAgIGRlc3Ryb3k6IGRlc3Ryb3ksXHJcbiAgICAgIHJlY2FsY3VsYXRlOiByZWNhbGN1bGF0ZSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAkLmZuW3BsdWdpbk5hbWVdID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgIHZhciBtZXRob2ROYW1lID0gYXJndW1lbnRzWzBdO1xyXG4gICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XHJcbiAgICAgIHZhciByZXR1cm5WYWw7XHJcbiAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgcGx1Z2luTmFtZSkgJiZcclxuICAgICAgICAgIHR5cGVvZiAkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBwbHVnaW5OYW1lKVttZXRob2ROYW1lXSA9PT0gXCJmdW5jdGlvblwiXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICByZXR1cm5WYWwgPSAkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBwbHVnaW5OYW1lKVttZXRob2ROYW1lXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiIFwiICsgbWV0aG9kTmFtZSArIFwiIFwiICsgcGx1Z2luTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChyZXR1cm5WYWwgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiByZXR1cm5WYWw7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoX3R5cGVvZihvcHRpb25zKSA9PT0gXCJvYmplY3RcIiB8fCAhb3B0aW9ucykge1xyXG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoISQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUpKSB7XHJcbiAgICAgICAgICAkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBwbHVnaW5OYW1lLCBuZXcgUGx1Z2luKHRoaXMsIG9wdGlvbnMpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gICQuZm5bcGx1Z2luTmFtZV0uZGVmYXVsdHMgPSB7XHJcbiAgICBvbkluaXQ6IGZ1bmN0aW9uIG9uSW5pdCgpIHt9LFxyXG4gICAgb25EZXN0cm95OiBmdW5jdGlvbiBvbkRlc3Ryb3koKSB7fSxcclxuICAgIHdyYXBDb250ZW50OiB0cnVlLFxyXG4gICAgYXV0b0hpZGU6IGZhbHNlLFxyXG4gIH07XHJcbn0pKGpRdWVyeSk7XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAkKFwiLmNzY3JsYi1zY3JvbGxhYmxlXCIpLmNzY3JsYigpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xyXG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xyXG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xyXG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcclxuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcclxuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XHJcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkge1xyXG4gIHZhciBpdDtcclxuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBvW1N5bWJvbC5pdGVyYXRvcl0gPT0gbnVsbCkge1xyXG4gICAgaWYgKFxyXG4gICAgICBBcnJheS5pc0FycmF5KG8pIHx8XHJcbiAgICAgIChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHxcclxuICAgICAgKGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKVxyXG4gICAgKSB7XHJcbiAgICAgIGlmIChpdCkgbyA9IGl0O1xyXG4gICAgICB2YXIgaSA9IDA7XHJcbiAgICAgIHZhciBGID0gZnVuY3Rpb24gRigpIHt9O1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHM6IEYsXHJcbiAgICAgICAgbjogZnVuY3Rpb24gbigpIHtcclxuICAgICAgICAgIGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07XHJcbiAgICAgICAgICByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZTogZnVuY3Rpb24gZShfZSkge1xyXG4gICAgICAgICAgdGhyb3cgX2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmOiBGLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcclxuICAgICAgXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiXHJcbiAgICApO1xyXG4gIH1cclxuICB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsXHJcbiAgICBkaWRFcnIgPSBmYWxzZSxcclxuICAgIGVycjtcclxuICByZXR1cm4ge1xyXG4gICAgczogZnVuY3Rpb24gcygpIHtcclxuICAgICAgaXQgPSBvW1N5bWJvbC5pdGVyYXRvcl0oKTtcclxuICAgIH0sXHJcbiAgICBuOiBmdW5jdGlvbiBuKCkge1xyXG4gICAgICB2YXIgc3RlcCA9IGl0Lm5leHQoKTtcclxuICAgICAgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTtcclxuICAgICAgcmV0dXJuIHN0ZXA7XHJcbiAgICB9LFxyXG4gICAgZTogZnVuY3Rpb24gZShfZTIpIHtcclxuICAgICAgZGlkRXJyID0gdHJ1ZTtcclxuICAgICAgZXJyID0gX2UyO1xyXG4gICAgfSxcclxuICAgIGY6IGZ1bmN0aW9uIGYoKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTtcclxuICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xyXG4gIGlmICghbykgcmV0dXJuO1xyXG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XHJcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xyXG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XHJcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XHJcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpXHJcbiAgICByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcclxufVxyXG5cclxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcclxuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcclxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHtcclxuICAgIGFycjJbaV0gPSBhcnJbaV07XHJcbiAgfVxyXG4gIHJldHVybiBhcnIyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XHJcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XHJcbiAgfVxyXG59XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgaG9tZUJhbm5lcigpO1xyXG4gIGhlYWRlcigpO1xyXG4gIGdhbGxlcnkoKTtcclxuICBsYW5kaW5nX3NsaWRlcnMoKTtcclxuICB1cCgpO1xyXG4gIGNoYXRCbG9jaygpO1xyXG4gIHRvZ2dsZSgpOyAvL2ludGVyYWN0aW9uXHJcblxyXG4gIG5ldyDQoXVzdG9tSW50ZXJhY3Rpb24oe1xyXG4gICAgdGFyZ2V0czogXCJhLCBidXR0b24sIFtkYXRhLWN1c3RvbS1pbnRlcmFjdGlvbl0sIC5pbWFnZS16b29tXCIsXHJcbiAgfSk7IC8vc2xpZGVyIGNvbnN0cnVjdG9yXHJcblxyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2xpZGVyLWNvbnN0cnVjdG9yXCIpLmZvckVhY2goZnVuY3Rpb24gKCR0aGlzKSB7XHJcbiAgICBuZXcgU2xpZGVyQ29uc3RydWN0b3IoJHRoaXMpLmluaXQoKTtcclxuICB9KTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBsYW5kaW5nX3NsaWRlcnMoKSB7XHJcbiAgdmFyICRzbGlkZXJzID0gJChcIi5sYW5kaW5nLXNsaWRlciAub3dsLWNhcm91c2VsXCIpO1xyXG5cclxuICBpZiAoJHNsaWRlcnMubGVuZ3RoKSB7XHJcbiAgICAkc2xpZGVycy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcclxuICAgICAgdmFyIGNvdW50MSwgY291bnQyLCBjb3VudDMsIGNvdW50NDtcclxuXHJcbiAgICAgIGlmICgkdGhpcy5pcyhcIi5sYW5kaW5nLXNsaWRlcl8xIC5vd2wtY2Fyb3VzZWxcIikpIHtcclxuICAgICAgICBjb3VudDEgPSAyO1xyXG4gICAgICAgIGNvdW50MiA9IDI7XHJcbiAgICAgICAgY291bnQzID0gMztcclxuICAgICAgICBjb3VudDQgPSA0O1xyXG4gICAgICB9IGVsc2UgaWYgKCR0aGlzLmlzKFwiLmxhbmRpbmctc2xpZGVyXzIgLm93bC1jYXJvdXNlbFwiKSkge1xyXG4gICAgICAgIGNvdW50MSA9IDE7XHJcbiAgICAgICAgY291bnQyID0gMjtcclxuICAgICAgICBjb3VudDMgPSAzO1xyXG4gICAgICAgIGNvdW50NCA9IDQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICR0aGlzLm93bENhcm91c2VsKHtcclxuICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgIG1hcmdpbjogMjAsXHJcbiAgICAgICAgcmVzcG9uc2l2ZToge1xyXG4gICAgICAgICAgMDoge1xyXG4gICAgICAgICAgICBpdGVtczogY291bnQxLFxyXG4gICAgICAgICAgICBtYXJnaW46IDE2LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIDU3Njoge1xyXG4gICAgICAgICAgICBpdGVtczogY291bnQyLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIDc2ODoge1xyXG4gICAgICAgICAgICBpdGVtczogY291bnQzLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIDk5Mjoge1xyXG4gICAgICAgICAgICBpdGVtczogY291bnQ0LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlKCkge1xyXG4gIHZhciAkc2VjdGlvbiA9ICQoXCIudG9nZ2xlLXNlY3Rpb25cIiksXHJcbiAgICBzcGVlZCA9IDI1MDtcclxuICAkc2VjdGlvbi5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICR0b2dnbGUgPSAkdGhpcy5jaGlsZHJlbihcIi50b2dnbGUtc2VjdGlvbl9fdHJpZ2dlclwiKSxcclxuICAgICAgJGNvbnRlbnQgPSAkdGhpcy5jaGlsZHJlbihcIi50b2dnbGUtc2VjdGlvbl9fY29udGVudFwiKSxcclxuICAgICAgJGNsb3NlID0gJGNvbnRlbnQuZmluZChcIi50b2dnbGUtc2VjdGlvbl9fY2xvc2VcIiksXHJcbiAgICAgIHN0YXRlID0gJHRoaXMuaGFzQ2xhc3MoXCJhY3RpdmVcIikgPyB0cnVlIDogZmFsc2UsXHJcbiAgICAgIGluaXRpYWxpemVkO1xyXG4gICAgJHRvZ2dsZS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgc3RhdGUgPSAhc3RhdGUgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgIGNoZWNrKCk7XHJcbiAgICB9KTtcclxuICAgICRjbG9zZS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgc3RhdGUgPSBmYWxzZTtcclxuICAgICAgY2hlY2soKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICgkdGhpcy5pcyhcIltkYXRhLWhvdmVyXVwiKSkge1xyXG4gICAgICB2YXIgdGltZW91dDtcclxuICAgICAgJHRvZ2dsZS5hZGQoJGNvbnRlbnQpLm9uKFwibW91c2VlbnRlclwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBpZiAoIWlzVG91Y2gpIHtcclxuICAgICAgICAgIGlmICh0aW1lb3V0KSBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICAgICAgICBzdGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICBjaGVjaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgICR0b2dnbGUuYWRkKCRjb250ZW50KS5vbihcIm1vdXNlbGVhdmVcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKCFpc1RvdWNoKSB7XHJcbiAgICAgICAgICB2YXIgZGVsYXk7XHJcblxyXG4gICAgICAgICAgaWYgKCQodGhpcykuaXMoJHRvZ2dsZSkpIHtcclxuICAgICAgICAgICAgZGVsYXkgPSA1MDA7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkZWxheSA9IDEwMDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNoZWNrKCk7XHJcbiAgICAgICAgICB9LCBkZWxheSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoJHRoaXMuaXMoXCJbZGF0YS1vdXQtaGlkZV1cIikgfHwgJHRoaXMuaXMoXCJbZGF0YS1ob3Zlcl1cIikpIHtcclxuICAgICAgJChkb2N1bWVudCkub24oXCJjbGljayB0b3VjaHN0YXJ0XCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciAkdGFyZ2V0ID0gJChldmVudC50YXJnZXQpO1xyXG5cclxuICAgICAgICBpZiAoISR0YXJnZXQuY2xvc2VzdCgkY29udGVudCkubGVuZ3RoICYmICEkdGFyZ2V0LmNsb3Nlc3QoJHRvZ2dsZSkubGVuZ3RoICYmIHN0YXRlKSB7XHJcbiAgICAgICAgICBzdGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgY2hlY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNoZWNrKCkge1xyXG4gICAgICBpZiAoc3RhdGUpIHtcclxuICAgICAgICAkdGhpcy5hZGQoJGNvbnRlbnQpLmFkZCgkdG9nZ2xlKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHJcbiAgICAgICAgaWYgKCR0aGlzLmlzKFwiW2RhdGEtc2xpZGVdXCIpKSB7XHJcbiAgICAgICAgICAkY29udGVudC5zbGlkZURvd24oc3BlZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkdGhpcy5hZGQoJHRvZ2dsZSkuYWRkKCRjb250ZW50KS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHJcbiAgICAgICAgaWYgKCR0aGlzLmlzKFwiW2RhdGEtc2xpZGVdXCIpKSB7XHJcbiAgICAgICAgICBpZiAoaW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgJGNvbnRlbnQuc3RvcCgpLnNsaWRlVXAoc3BlZWQpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJGNvbnRlbnQuaGlkZSgwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjaGVjaygpO1xyXG4gICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cCgpIHtcclxuICB2YXIgJGJ0biA9ICQoXCIuanMtdXBcIik7XHJcblxyXG4gIGZ1bmN0aW9uIGNoZWNrKCkge1xyXG4gICAgdmFyIHNjcm9sbCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuXHJcbiAgICBpZiAoc2Nyb2xsID4gNTApIHtcclxuICAgICAgJGJ0bi5hZGRDbGFzcyhcInZpc2libGVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAkYnRuLnJlbW92ZUNsYXNzKFwidmlzaWJsZVwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGxldCBpc1Rocm90dGxlZCA9IGZhbHNlO1xyXG4gICQod2luZG93KS5vbihcInNjcm9sbFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoaXNUaHJvdHRsZWQpIHJldHVybjtcclxuICAgIGlzVGhyb3R0bGVkID0gdHJ1ZTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBjaGVjaygpO1xyXG4gICAgICBpc1Rocm90dGxlZCA9IGZhbHNlO1xyXG4gICAgfSwgMTAwKTtcclxuICB9KTtcclxuICBjaGVjaygpO1xyXG4gICRidG4ub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKFxyXG4gICAgICB7XHJcbiAgICAgICAgc2Nyb2xsVG9wOiAwLFxyXG4gICAgICB9LFxyXG4gICAgICA1MDBcclxuICAgICk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoYXRCbG9jaygpIHtcclxuICB2YXIgJGJsb2NrID0gJChcIi5jaGF0LWJsb2NrXCIpLFxyXG4gICAgJG9wZW4gPSAkKFwiW2RhdGEtY2hhdC1vcGVuXVwiKSxcclxuICAgICRjbG9zZSA9ICQoXCJbZGF0YS1jaGF0LWNsb3NlXVwiKTtcclxuICAkb3Blbi5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICRibG9jay5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICB9KTtcclxuICAkY2xvc2Uub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkYmxvY2sucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgfSk7XHJcbn1cclxuXHJcbnZhciDQoXVzdG9tSW50ZXJhY3Rpb24gPSBmdW5jdGlvbiDQoXVzdG9tSW50ZXJhY3Rpb24oKSB7XHJcbiAgdmFyIF90aGlzMiA9IHRoaXM7XHJcblxyXG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcclxuXHJcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsINChdXN0b21JbnRlcmFjdGlvbik7XHJcblxyXG4gIHRoaXMudGFyZ2V0cyA9IG9wdGlvbnMudGFyZ2V0cztcclxuICB0aGlzLnRvdWNoZW5kRGVsYXkgPSBvcHRpb25zLnRvdWNoZW5kRGVsYXkgfHwgMTAwOyAvL21zXHJcblxyXG4gIHZhciBldmVudHMgPSBmdW5jdGlvbiBldmVudHMoZXZlbnQpIHtcclxuICAgIHZhciAkdGFyZ2V0cyA9IFtdO1xyXG4gICAgJHRhcmdldHNbMF0gPSBldmVudC50YXJnZXQgIT09IGRvY3VtZW50ID8gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoX3RoaXMyLnRhcmdldHMpIDogbnVsbDtcclxuICAgIHZhciAkZWxlbWVudCA9ICR0YXJnZXRzWzBdLFxyXG4gICAgICBpID0gMDtcclxuXHJcbiAgICB3aGlsZSAoJHRhcmdldHNbMF0pIHtcclxuICAgICAgJGVsZW1lbnQgPSAkZWxlbWVudC5wYXJlbnROb2RlO1xyXG5cclxuICAgICAgaWYgKCRlbGVtZW50ICE9PSBkb2N1bWVudCkge1xyXG4gICAgICAgIGlmICgkZWxlbWVudC5tYXRjaGVzKCR0YXJnZXRzLnZhbHVlKSkge1xyXG4gICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgJHRhcmdldHNbaV0gPSAkZWxlbWVudDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH0gLy90b3VjaHN0YXJ0XHJcblxyXG4gICAgaWYgKGV2ZW50LnR5cGUgPT0gXCJ0b3VjaHN0YXJ0XCIpIHtcclxuICAgICAgX3RoaXMyLnRvdWNoZWQgPSB0cnVlO1xyXG4gICAgICBpZiAoX3RoaXMyLnRpbWVvdXQpIGNsZWFyVGltZW91dChfdGhpczIudGltZW91dCk7XHJcblxyXG4gICAgICBpZiAoJHRhcmdldHNbMF0pIHtcclxuICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoJHRhcmdldHMpLFxyXG4gICAgICAgICAgX3N0ZXA7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOyApIHtcclxuICAgICAgICAgICAgdmFyICR0YXJnZXQgPSBfc3RlcC52YWx1ZTtcclxuICAgICAgICAgICAgJHRhcmdldC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRvdWNoXCIsIFwiXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgX2l0ZXJhdG9yLmYoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vdG91Y2hlbmRcclxuICAgIGVsc2UgaWYgKGV2ZW50LnR5cGUgPT0gXCJ0b3VjaGVuZFwiIHx8IChldmVudC50eXBlID09IFwiY29udGV4dG1lbnVcIiAmJiBfdGhpczIudG91Y2hlZCkpIHtcclxuICAgICAgX3RoaXMyLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfdGhpczIudG91Y2hlZCA9IGZhbHNlO1xyXG4gICAgICB9LCBfdGhpczIudG91Y2hlbmREZWxheSk7XHJcblxyXG4gICAgICBpZiAoJHRhcmdldHNbMF0pIHtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoJHRhcmdldHMpLFxyXG4gICAgICAgICAgICBfc3RlcDI7XHJcblxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTsgKSB7XHJcbiAgICAgICAgICAgICAgdmFyIF8kdGFyZ2V0ID0gX3N0ZXAyLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICBfJHRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLXRvdWNoXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7XHJcbiAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICBfaXRlcmF0b3IyLmYoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCBfdGhpczIudG91Y2hlbmREZWxheSk7XHJcbiAgICAgIH1cclxuICAgIH0gLy9tb3VzZWVudGVyXHJcblxyXG4gICAgaWYgKFxyXG4gICAgICBldmVudC50eXBlID09IFwibW91c2VlbnRlclwiICYmXHJcbiAgICAgICFfdGhpczIudG91Y2hlZCAmJlxyXG4gICAgICAkdGFyZ2V0c1swXSAmJlxyXG4gICAgICAkdGFyZ2V0c1swXSA9PSBldmVudC50YXJnZXRcclxuICAgICkge1xyXG4gICAgICAkdGFyZ2V0c1swXS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWhvdmVyXCIsIFwiXCIpO1xyXG4gICAgfVxyXG4gICAgLy9tb3VzZWxlYXZlXHJcbiAgICBlbHNlIGlmIChcclxuICAgICAgZXZlbnQudHlwZSA9PSBcIm1vdXNlbGVhdmVcIiAmJlxyXG4gICAgICAhX3RoaXMyLnRvdWNoZWQgJiZcclxuICAgICAgJHRhcmdldHNbMF0gJiZcclxuICAgICAgJHRhcmdldHNbMF0gPT0gZXZlbnQudGFyZ2V0XHJcbiAgICApIHtcclxuICAgICAgJHRhcmdldHNbMF0ucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1jbGlja1wiKTtcclxuICAgICAgJHRhcmdldHNbMF0ucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1ob3ZlclwiKTtcclxuICAgIH0gLy9tb3VzZWRvd25cclxuXHJcbiAgICBpZiAoZXZlbnQudHlwZSA9PSBcIm1vdXNlZG93blwiICYmICFfdGhpczIudG91Y2hlZCAmJiAkdGFyZ2V0c1swXSkge1xyXG4gICAgICAkdGFyZ2V0c1swXS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNsaWNrXCIsIFwiXCIpO1xyXG4gICAgfVxyXG4gICAgLy9tb3VzZXVwXHJcbiAgICBlbHNlIGlmIChldmVudC50eXBlID09IFwibW91c2V1cFwiICYmICFfdGhpczIudG91Y2hlZCAmJiAkdGFyZ2V0c1swXSkge1xyXG4gICAgICAkdGFyZ2V0c1swXS5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWNsaWNrXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIGV2ZW50cyk7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIGV2ZW50cyk7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgZXZlbnRzLCB0cnVlKTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCBldmVudHMsIHRydWUpO1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgZXZlbnRzKTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBldmVudHMpO1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLCBldmVudHMpO1xyXG59O1xyXG4iXX0=

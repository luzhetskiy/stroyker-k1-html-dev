"use strict";var breakpoints={xs:0,sm:576,md:768,lg:1024,xl:1280},touchstartX=0,touchendX=0;function throttle(t,e,a){var o,i=a||{},n=i.noTrailing,s=void 0!==n&&n,r=i.noLeading,c=void 0!==r&&r,l=i.debounceMode,d=void 0===l?void 0:l,u=!1,h=0;function m(){o&&clearTimeout(o)}function p(){for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];var r=this,l=Date.now()-h;function p(){h=Date.now(),e.apply(r,i)}function v(){o=void 0}u||(c||!d||o||p(),m(),void 0===d&&l>t?c?(h=Date.now(),s||(o=setTimeout(d?v:p,t))):p():!0!==s&&(o=setTimeout(d?v:p,void 0===d?t-l:t)))}return p.cancel=function(t){var e=(t||{}).upcomingOnly,a=void 0!==e&&e;m(),u=!a},p}function debounce(t,e,a){var o=(a||{}).atBegin;return throttle(t,e,{debounceMode:!1!==(void 0!==o&&o)})}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function sliderDebounce(t,e,a){var o=!1;return function(){var i=arguments,n=this;o&&clearTimeout(o),o=setTimeout((function(){t.apply(a||n,i)}),e)}}var SliderConstructor=function(){function t(e){_classCallCheck(this,t),this.element=e}return _createClass(t,[{key:"init",value:function(){var t=this;this.params={},this.params.autoplay=null!==this.element.getAttribute("data-autoplay-timeout"),this.params.autoplayTimeout=+this.element.getAttribute("data-autoplay-timeout")||5e3,this.params.arrows=null===this.element.getAttribute("data-no-arrows"),window.matchMedia("(min-width: 575.98px)").matches?this.params.dots=null===this.element.getAttribute("data-no-dots"):this.params.dots=!0,this.params.adaptiveHeight=null!==this.element.getAttribute("data-adaptive-height"),this.params.centerMode=null!==this.element.getAttribute("data-center"),this.params.count={},this.params.count.xs=+this.element.getAttribute("data-slides")||1,this.params.count.sm=+this.element.getAttribute("data-sm-slides")||this.params.count.xs,this.params.count.md=+this.element.getAttribute("data-md-slides")||this.params.count.sm,this.params.count.lg=+this.element.getAttribute("data-lg-slides")||this.params.count.md,this.params.count.xl=+this.element.getAttribute("data-xl-slides")||this.params.count.lg,this.params.rows={},this.params.rows.xs=+this.element.getAttribute("data-rows")||1,this.params.rows.sm=+this.element.getAttribute("data-sm-rows")||this.params.rows.xs,this.params.rows.md=+this.element.getAttribute("data-md-rows")||this.params.rows.sm,this.params.rows.lg=+this.element.getAttribute("data-lg-rows")||this.params.rows.md,this.params.rows.xl=+this.element.getAttribute("data-xl-rows")||this.params.rows.lg,this.params.state={},Object.keys(breakpoints).forEach((function(e,a){var o=0!==a?"-"+e+"-":"-",i=t.element.getAttribute("data".concat(o,"mounted"));if(null===i&&0!==a){var n=Object.keys(breakpoints)[a-1];t.params.state[e]=t.params.state[n]}else t.params.state[e]="true"===i||0===a&&"false"!==i})),this.slides=[],this.containsMobileHiddenSlides=!1,this.element.childNodes.forEach((function(e){e.tagName&&(null!==e.getAttribute("data-slide-mobile-hidden")&&(t.containsMobileHiddenSlides=!0),t.slides.push(e))})),this.createIcons(),this.checkSliderState(),this.checkSliderStateDebounced=sliderDebounce(this.checkSliderState,500,this),window.addEventListener("resize",this.checkSliderStateDebounced)}},{key:"createIcons",value:function(){var t='\n      <svg viewBox="0 0 11 19" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n        <path d="M1.4 18.1L0 16.7L7.6 9.10001L0 1.5L1.4 0L10.4 9.10001C10.4 9.10001 1.3 18.1 1.4 18.1Z"/>\n      </svg>\n    ',e='\n      <svg viewBox="0 0 11 19" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n        <path d="M9.00039 7.24792e-05L10.4004 1.40007L2.80039 9.00009L10.4004 16.6001L9.00039 18.1001L0.000391006 9.00009C0.000391006 9.00009 9.10039 7.24792e-05 9.00039 7.24792e-05Z"/>\n      </svg>\n    ',a="custom-icon-left",o="custom-icon-right";this.element.querySelectorAll(".".concat(a,", .").concat(o)).forEach((function(i){var n=i.classList.contains(a),s=i.classList.contains(o);n?(i.classList.remove(a),t=i.outerHTML):s&&(i.classList.remove(o),e=i.outerHTML),i.remove()})),this.nextArrow='<button type="button" class="button button_style-1 slick-next">'.concat(t,"</button>"),this.prevArrow='<button type="button" class="button button_style-1 slick-prev">'.concat(e,"</button>")}},{key:"checkSliderState",value:function(){if(!this.mounted||this.savedWindowWidth!==window.innerWidth){var t;for(var e in this.savedWindowWidth=window.innerWidth,this.mounted&&this.unmount(),breakpoints)window.innerWidth>=breakpoints[e]&&(t=this.params.state[e]);t?(this.element.classList.remove("visible"),this.containsMobileHiddenSlides&&this.checkSlidesVisibility(),this.mount()):this.element.classList.add("visible")}}},{key:"checkSlidesVisibility",value:function(){var t=this;this.slides.forEach((function(t){t.remove()})),this.slides.forEach((function(e){var a=null!==e.getAttribute("data-slide-mobile-hidden"),o=window.innerWidth<breakpoints.sm;a&&o||t.element.insertAdjacentElement("beforeend",e)}))}},{key:"mount",value:function(){$(this.element).slick({autoplay:this.params.autoplay,autoplaySpeed:this.params.autoplayTimeout,mobileFirst:!0,slidesToShow:this.params.count.xs,slidesToScroll:this.params.count.xs,rows:this.params.rows.xs,prevArrow:this.prevArrow,nextArrow:this.nextArrow,arrows:this.params.arrows,adaptiveHeight:this.params.adaptiveHeight,dots:this.params.dots,centerMode:this.params.centerMode,accessibility:!1,responsive:[{breakpoint:breakpoints.sm-1,settings:{slidesToShow:this.params.count.sm,slidesToScroll:this.params.count.sm,rows:this.params.rows.sm}},{breakpoint:breakpoints.md-1,settings:{slidesToShow:this.params.count.md,slidesToScroll:this.params.count.md,rows:this.params.rows.md}},{breakpoint:breakpoints.lg-1,settings:{slidesToShow:this.params.count.lg,slidesToScroll:this.params.count.lg,rows:this.params.rows.lg}},{breakpoint:breakpoints.xl-1,settings:{slidesToShow:this.params.count.xl,slidesToScroll:this.params.count.xl,rows:this.params.rows.xl}}]});var t=0,e=0;$(".slider-constructor .product-card-slideshow__sector").on("mousemove",(function(t){var e=$(t.currentTarget),a=e.attr("data-sector"),o=e.parent().parent();o.find(".product-card-slideshow__image_active").removeClass("product-card-slideshow__image_active"),o.find(".product-card-slideshow__dot_active").removeClass("product-card-slideshow__dot_active"),o.find('[data-sector-image="'.concat(a,'"]')).addClass("product-card-slideshow__image_active"),o.find('[data-sector-dot="'.concat(a,'"]')).addClass("product-card-slideshow__dot_active")})),$(".slider-constructor .product-card-slideshow__sectors").on("touchstart",(function(e){t=e.changedTouches[0].screenX})),$(".slider-constructor .product-card-slideshow__sectors").on("touchend",(function(a){e=a.changedTouches[0].screenX;var o=$(a.currentTarget).parent(),i=o.find(".product-card-slideshow__image_active"),n=Number(i.attr("data-sector-image")),s=o.find(".product-card-slideshow__image").length;if(e<t){if(o.find(".product-card-slideshow__image_active").removeClass("product-card-slideshow__image_active"),o.find(".product-card-slideshow__dot_active").removeClass("product-card-slideshow__dot_active"),n>=s)return o.find('[data-sector-image="'.concat(1,'"]')).addClass("product-card-slideshow__image_active"),void o.find('[data-sector-dot="'.concat(1,'"]')).addClass("product-card-slideshow__dot_active");o.find('[data-sector-image="'.concat(n+1,'"]')).addClass("product-card-slideshow__image_active"),o.find('[data-sector-dot="'.concat(n+1,'"]')).addClass("product-card-slideshow__dot_active")}if(e>t){if(o.find(".product-card-slideshow__image_active").removeClass("product-card-slideshow__image_active"),o.find(".product-card-slideshow__dot_active").removeClass("product-card-slideshow__dot_active"),n<=1)return o.find('[data-sector-image="'.concat(s,'"]')).addClass("product-card-slideshow__image_active"),void o.find('[data-sector-dot="'.concat(s,'"]')).addClass("product-card-slideshow__dot_active");o.find('[data-sector-image="'.concat(n-1,'"]')).addClass("product-card-slideshow__image_active"),o.find('[data-sector-dot="'.concat(n-1,'"]')).addClass("product-card-slideshow__dot_active")}})),this.mounted=!0}},{key:"unmount",value:function(){$(this.element).slick("unslick"),this.mounted=!1}}]),t}();$(document).ready((function(){$(".catalog-filter-accordion a.opener").click((function(){return $(this).parent().find("ul:first").slideToggle(),$(this).parent().toggleClass("active"),!1})),$("[data-expand]").on("click",(function(t){var e=$(t.currentTarget),a=e.parent();a.find("[data-collapse-content]").removeClass("d-none"),a.find("[data-collapse]").removeClass("d-none"),e.addClass("d-none")})),$("[data-collapse]").on("click",(function(t){var e=$(t.currentTarget),a=e.parent();a.find("[data-collapse-content]").addClass("d-none"),a.find("[data-expand]").removeClass("d-none"),e.addClass("d-none")})),$("[data-expand-menu]").on("click",(function(){$(".mobile-side-menu__background").addClass("d-block"),$(".mobile-side-menu-content").addClass("mobile-side-menu-content_active")})),$("[data-collapse-menu]").on("click",(function(){$(".mobile-side-menu__background").removeClass("d-block"),$(".mobile-side-menu-content").removeClass("mobile-side-menu-content_active"),$("[data-menu-page]:not(:first-child)").removeClass("mobile-side-menu-content__page_active")})),$("[data-menu-page-expand]").on("click",(function(t){var e=$(t.currentTarget).attr("data-menu-page-expand");$('[data-menu-page="'.concat(e,'"]')).addClass("mobile-side-menu-content__page_active")})),$("[data-menu-page-collapse]").on("click",(function(t){var e=$(t.currentTarget).attr("data-menu-page-collapse");$('[data-menu-page="'.concat(e,'"]')).removeClass("mobile-side-menu-content__page_active")})),$("[data-open-bottom-dropdown]").on("click",(function(t){$(".bottom-mobile-menu-list").toggleClass("bottom-mobile-menu-list_active"),$(t.currentTarget).toggleClass("bottom-mobile-menu-button_active")})),$("[data-close-search-modal]").on("click",(function(){$(".search-modal-window").removeClass("d-block")})),$("[data-open-search-modal]").on("click",(function(){$(".search-modal-window").addClass("d-block")})),$(".like-btn").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active")})),$(".city-selection__link").click((function(){$(".city-selection__list").toggle(0)})),$(window).click((function(t){t.target.classList.contains("city-selection__link")||$(".city-selection__list").toggle(!1)})),$(".burger-menu").click((function(){$(".mobile-menu").toggle(0)})),$(".catalog-inner-btn").click((function(t){t.preventDefault(),$(this).toggleClass("open"),$(".catalog-header-content").toggle(0)})),$(".catalog-inner-btn,.catalog-menu__head a").click((function(t){t.preventDefault(),$(".catalog-menu").toggle(0)})),$(".burger-catalog").click((function(t){t.preventDefault(),$(this).toggleClass("open")})),$(".share-btn").click((function(){$(".share-block__show").toggle(0)})),$(".close-panel").click((function(){$(".bottom-panel").toggle(0)})),$(".filter-btn, .close-btn-2").click((function(){$(".catalog-filter").toggle(0)})),$(".catalog-side__title").click((function(){$(".catalog-side__content").toggle(0),$(".catalog-side__content-accordeon").toggle(0)})),$(".catalog-opened").click((function(){$(".catalog-opened .submenu").toggle(0)})),$(".burger-menu").click((function(){$(this).toggleClass("menu-on")})),$(".catalog-inner").click((function(){$(this).toggleClass("open"),$(".catalog-inner-content").toggle(0)}))})),$((function(){$(".smoothScroll").click((function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if((t=t.length?t:$("[name="+this.hash.slice(1)+"]")).length)return $("html,body").animate({scrollTop:t.offset().top},1e3),!1}}))}));var bigSlides=$(".main-slider .owl-carousel"),autoPlayTimeoutSec=parseInt(bigSlides.data("autoplay-timeout"));bigSlides.owlCarousel({loop:!0,margin:5,nav:!0,dots:!0,items:1,autoplay:!0,autoplayTimeout:1e3*autoPlayTimeoutSec,navText:['<svg class="icon" viewBox="0 0 10.5 18.1"><path stroke="none" d="M9,0l1.4,1.4L2.8,9l7.6,7.6L9,18.1L0,9C0,9,9.1,0,9,0z"></path></svg>','<svg class="icon" viewBox="0 0 10.5 18.1"><path stroke="none" d="M1.4,18.1L0,16.7l7.6-7.6L0,1.5L1.4,0l9,9.1C10.4,9.1,1.3,18.1,1.4,18.1z"></path></svg>']});var radioButtons=document.querySelectorAll('.delivery-selection input[type="radio"]'),choices=document.querySelectorAll(".delivery-choice");radioButtons.forEach((function(t){t.addEventListener("change",(function(){var t=this;choices.forEach((function(e){e.classList.contains(t.id)||e.classList.contains("delivery-type-"+t.value)?e.style.display="block":e.style.display="none"}))}))})),$(".shopping-cart-item__delete").click((function(){$(this).parent(".shopping-cart-item").remove()})),$(".slider .owl-carousel").owlCarousel({loop:!0,margin:0,items:1,nav:!0}),$(".news-slider .owl-carousel").owlCarousel({loop:!0,margin:0,items:4,responsive:{0:{nav:!1,dots:!0,items:1},479:{nav:!1,dots:!0,items:2},768:{nav:!0,dots:!1,items:3},992:{items:4}}}),$(".action-slider .owl-carousel").owlCarousel({loop:!0,margin:20,nav:!0,dots:!1,items:3,responsive:{0:{nav:!1,dots:!0,items:1},479:{nav:!1,dots:!0,items:2},768:{nav:!0,dots:!1,items:3}}}),$(".partners-slider .owl-carousel").owlCarousel({loop:!0,margin:0,nav:!0,dots:!1,items:5,responsive:{0:{dots:!0,nav:!1,items:1},566:{nav:!1,dots:!0,items:2},768:{nav:!1,dots:!0,items:3},900:{nav:!1,dots:!0,items:4},950:{dots:!1}}}),function(t){t("select.custom-select").each((function(){var e=t(this),a=e.attr("id"),o=e.children("optgroup"),i="",n="";o.length?(o.each((function(){var e=t(this),a=e.attr("label");i+='<li class="optgroup">'+a+"</li>",e.children("option").each((function(){var e=t(this),a=e.attr("value"),o=e.html();"selected"===e.attr("selected")?(n=o,i+='<li class="selected" data-value="'+a+'">'+o+"</li>"):i+='<li data-value="'+a+'">'+o+"</li>"}))})),e.children("option").each((function(){var e=t(this),a=e.attr("value"),o=e.html();"selected"===e.attr("selected")?(n=o,i='<li class="selected" data-value="'+a+'">'+o+"</li>"+i):i='<li data-value="'+a+'">'+o+"</li>"+i}))):e.children("option").each((function(){var e=t(this),a=e.attr("value"),o=e.html();"selected"===e.attr("selected")?(n=o,i+='<li class="selected" data-value="'+a+'">'+o+"</li>"):i+='<li data-value="'+a+'">'+o+"</li>"})),t('<div class="dropdown-container"><div class="dropdown-select entypo-down-open-big"><svg class="icon"><use xlink:href="#tab-arrow"></use></svg><span>'+n+'</span></div><ul class="dropdown-select-ul" data-role="'+a+'">'+i+"</ul></div> \x3c!-- .custom-select-wrapper --\x3e").insertAfter(e)}));var e=t(".dropdown-select"),a=t(".dropdown-select-ul"),o=t(".dropdown-select-ul li");e.on("click",(function(){t(this).parent(".dropdown-container").toggleClass("active")})),a.on("mouseleave",(function(){t(this).parent(".dropdown-container").removeClass("active")})),o.on("click",(function(){var e=t(this);if(!e.hasClass("optgroup")){var a=e.parent("ul"),o=a.siblings(".dropdown-select"),i=e.html(),n=e.attr("data-value"),s="#"+a.attr("data-role");a.parent(".dropdown-container").toggleClass("active"),e.siblings("li").removeClass("selected"),e.addClass("selected"),t(s).val(n),o.children("span").html(i)}}))}(jQuery),$(".tab-content").hide(),$(".tab-content:first").show(),$("ul.tabs li,.product-card__review-link a,.schedule-btn a").click((function(){$(".tab-content").hide();var t=$(this).attr("rel");$("#"+t).fadeIn(),$("ul.tabs li").removeClass("active"),$(this).addClass("active"),$(".tab_drawer_heading").removeClass("d_active"),$(".tab_drawer_heading[rel^='"+t+"']").addClass("d_active")})),$(".tab_drawer_heading").click((function(){var t=$(this).attr("rel"),e=$("#"+t+":hidden"),a=$(this).not(".d_active");$(".tab-content").hide(),e.fadeIn(),$(".tab_drawer_heading").removeClass("d_active"),a.addClass("d_active"),$("ul.tabs li").removeClass("active"),$("ul.tabs li[rel^='"+t+"']").addClass("active")})),$("ul.tabs li").last().addClass("tab_last"),jQuery(document).ready((function(){jQuery(".schedule-btn a").click((function(){jQuery(".schedule-link").toggleClass("active")}))})),jQuery(document).ready((function(){jQuery(".product-card__review-link a").click((function(){jQuery(".review-tab-link").toggleClass("active")}))})),$(document).ready((function(){var t=$("#sync1"),e=$("#sync2");t.owlCarousel({items:1,slideSpeed:2e3,nav:!0,autoplay:!1,dots:!0,loop:!0,responsiveRefreshRate:200,margin:10}).on("changed.owl.carousel",(function(t){var a=t.item.count-1,o=Math.round(t.item.index-t.item.count/2-.5);o<0&&(o=a);o>a&&(o=0);e.find(".owl-item").removeClass("current").eq(o).addClass("current");var i=e.find(".owl-item.active").length-1,n=e.find(".owl-item.active").first().index(),s=e.find(".owl-item.active").last().index();o>s&&e.data("owl.carousel").to(o,100,!0);o<n&&e.data("owl.carousel").to(o-i,100,!0)})),e.on("initialized.owl.carousel",(function(){e.find(".owl-item").eq(0).addClass("current")})).owlCarousel({items:3,dots:!0,nav:!0,margin:10,smartSpeed:200,slideSpeed:500,slideBy:3,responsiveRefreshRate:100}).on("changed.owl.carousel",(function(e){var a=e.item.index;t.data("owl.carousel").to(a,100,!0)})),e.on("click",".owl-item",(function(e){e.preventDefault();var a=$(this).index();t.data("owl.carousel").to(a,300,!0)}))})),function(){var t=$(".button1"),e=$(".button2"),a=$(".button3"),o=$(".product-item");e.click((function(e){t.removeClass("current"),a.removeClass("current"),$(e.currentTarget).addClass("current"),localStorage.setItem("catalogGrid","wide"),o.removeClass("product-item--line"),o.addClass("product-item--wide")})),a.click((function(a){e.removeClass("current"),t.removeClass("current"),$(a.currentTarget).addClass("current"),localStorage.setItem("catalogGrid","wide"),o.removeClass("product-item--wide"),o.addClass("product-item--line")})),t.click((function(t){e.removeClass("current"),a.removeClass("current"),$(t.currentTarget).addClass("current"),localStorage.setItem("catalogGrid","default"),o.removeClass("product-item--wide"),o.removeClass("product-item--line")}))}();var keypressSliders=$(".range-slider");function gallery(){$.fancybox&&$(".owl-item [data-fancybox]").on("click",(function(){var t=$(this).parents(".owl-carousel").find(".owl-item:not(.cloned) [data-fancybox]");return $.fancybox.open(t,{selector:t,backFocus:!1},t.index(this)),!1}))}function header(){var t,e,a=$("header"),o=!1;function i(){a.hasClass("header_landing")||(e=$(window).scrollTop(),t=a.height(),e>t?a.addClass("fixed"):a.removeClass("fixed"))}i(),$(window).scroll((function(){o||(o=!0,setTimeout((function(){i(),o=!1}),100))}))}function homeBanner(){var t=$(".home-banner .owl-carousel");t.length&&t.owlCarousel({loop:!0,nav:!0,smartSpeed:500,dots:!0,items:1,lazyLoad:!0,autoplay:!0,autoplayTimeout:1e3*(+t.data("autoplay-timeout")||5),navText:['<svg class="icon" viewBox="0 0 10.5 18.1"><path stroke="none" d="M9,0l1.4,1.4L2.8,9l7.6,7.6L9,18.1L0,9C0,9,9.1,0,9,0z"></path></svg>','<svg class="icon" viewBox="0 0 10.5 18.1"><path stroke="none" d="M1.4,18.1L0,16.7l7.6-7.6L0,1.5L1.4,0l9,9.1C10.4,9.1,1.3,18.1,1.4,18.1z"></path></svg>']})}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}function _createForOfIteratorHelper(t,e){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,r=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return s=t.done,t},e:function(t){r=!0,n=t},f:function(){try{s||null==a.return||a.return()}finally{if(r)throw n}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,o=new Array(e);a<e;a++)o[a]=t[a];return o}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function landing_sliders(){var t=$(".landing-slider .owl-carousel");t.length&&t.each((function(){var t,e,a,o,i=$(this);i.is(".landing-slider_1 .owl-carousel")?(t=2,e=2,a=3,o=4):i.is(".landing-slider_2 .owl-carousel")&&(t=1,e=2,a=3,o=4),i.owlCarousel({loop:!0,margin:20,responsive:{0:{items:t,margin:16},576:{items:e},768:{items:a},992:{items:o}}})}))}function toggle(){var t=$(".toggle-section");t.each((function(){var t,e,a=$(this),o=a.children(".toggle-section__trigger"),i=a.children(".toggle-section__content"),n=i.find(".toggle-section__close"),s=!!a.hasClass("active");(o.on("click",(function(){s=!s,r()})),n.on("click",(function(){s=!1,r()})),a.is("[data-hover]"))&&(o.add(i).on("mouseenter",(function(t){isTouch||(e&&clearTimeout(e),s=!0,r())})),o.add(i).on("mouseleave",(function(t){var a;isTouch||(a=$(this).is(o)?500:100,e=setTimeout((function(){s=!1,r()}),a))})));function r(){s?(a.add(i).add(o).addClass("active"),a.is("[data-slide]")&&i.slideDown(250)):(a.add(o).add(i).removeClass("active"),a.is("[data-slide]")&&(t?i.stop().slideUp(250):i.hide(0)))}(a.is("[data-out-hide]")||a.is("[data-hover]"))&&$(document).on("click touchstart",(function(t){var e=$(t.target);e.closest(i).length||e.closest(o).length||!s||(s=!1,r())})),r(),t=!0}))}function up(){var t=$(".js-up");function e(){$(window).scrollTop()>50?t.addClass("visible"):t.removeClass("visible")}var a=!1;$(window).on("scroll",(function(){a||(a=!0,setTimeout((function(){e(),a=!1}),100))})),e(),t.on("click",(function(t){t.preventDefault(),$("html, body").animate({scrollTop:0},500)}))}function chatBlock(){var t=$(".chat-block"),e=$("[data-chat-open]"),a=$("[data-chat-close]");e.on("click",(function(){t.addClass("active")})),a.on("click",(function(){t.removeClass("active")}))}$(keypressSliders).each((function(t,e){var a=$(e).data("name"),o=document.getElementById("id_"+a+"_0"),i=document.getElementById("id_"+a+"_1"),n=[o,i];if(o&&i)var s=parseInt(o.dataset.currentValue),r=parseInt(i.dataset.currentValue),c=parseInt(o.dataset.minValue),l=parseInt(i.dataset.maxValue);var d="";function u(t,a){var o=[null,null];o[t]=a,e.noUiSlider.set(o)}"price_range"==a&&(d=" ₽"),"undefined"!=typeof noUiSlider&&noUiSlider.create(e,{start:[s,r],connect:!0,range:{min:c,max:l},format:wNumb({decimals:0,thousand:" ",postfix:d}),step:1}),null!==e&&e.noUiSlider&&e.noUiSlider.on("update",(function(t,e){n[e].value=t[e]})),n.forEach((function(t,a){null!==t&&(t.addEventListener("change",(function(){u(a,this.value)})),t.addEventListener("keydown",(function(t){var o,i=e.noUiSlider.get(),n=Number(i[a]),s=e.noUiSlider.steps()[a];switch(t.which){case 13:u(a,this.value);break;case 38:!1===(o=s[1])&&(o=1),null!==o&&u(a,n+o);break;case 40:!1===(o=s[0])&&(o=1),null!==o&&u(a,n-o)}})))}))})),$(".product-card-slideshow__sector").on("mousemove",(function(t){var e=$(t.currentTarget),a=e.attr("data-sector"),o=e.parent().parent();o.find(".product-card-slideshow__image_active").removeClass("product-card-slideshow__image_active"),o.find(".product-card-slideshow__dot_active").removeClass("product-card-slideshow__dot_active"),o.find('[data-sector-image="'.concat(a,'"]')).addClass("product-card-slideshow__image_active"),o.find('[data-sector-dot="'.concat(a,'"]')).addClass("product-card-slideshow__dot_active")})),$(".product-card-slideshow__sectors").on("touchstart",(function(t){touchstartX=t.changedTouches[0].screenX})),$(".product-card-slideshow__sectors").on("touchend",(function(t){touchendX=t.changedTouches[0].screenX;var e=$(t.currentTarget).parent(),a=e.find(".product-card-slideshow__image_active"),o=Number(a.attr("data-sector-image")),i=e.find(".product-card-slideshow__image").length;if(touchendX<touchstartX){if(e.find(".product-card-slideshow__image_active").removeClass("product-card-slideshow__image_active"),e.find(".product-card-slideshow__dot_active").removeClass("product-card-slideshow__dot_active"),o>=i)return e.find('[data-sector-image="'.concat(1,'"]')).addClass("product-card-slideshow__image_active"),void e.find('[data-sector-dot="'.concat(1,'"]')).addClass("product-card-slideshow__dot_active");e.find('[data-sector-image="'.concat(o+1,'"]')).addClass("product-card-slideshow__image_active"),e.find('[data-sector-dot="'.concat(o+1,'"]')).addClass("product-card-slideshow__dot_active")}if(touchendX>touchstartX){if(e.find(".product-card-slideshow__image_active").removeClass("product-card-slideshow__image_active"),e.find(".product-card-slideshow__dot_active").removeClass("product-card-slideshow__dot_active"),o<=1)return e.find('[data-sector-image="'.concat(i,'"]')).addClass("product-card-slideshow__image_active"),void e.find('[data-sector-dot="'.concat(i,'"]')).addClass("product-card-slideshow__dot_active");e.find('[data-sector-image="'.concat(o-1,'"]')).addClass("product-card-slideshow__image_active"),e.find('[data-sector-dot="'.concat(o-1,'"]')).addClass("product-card-slideshow__dot_active")}})),function(t){var e="cscrlb";function a(a,o){var i,n,s,r,c,l=a,d=t(a),u=d.find(".cscrlb-content"),h=7/8,m="vert",p="scrollTop",v="height",f="top";function g(e){e.preventDefault();var a=e.pageY;"horiz"===m&&(a=e.pageX),r=a-s.offset()[f],t(document).on("mousemove",_),t(document).on("mouseup",w)}function _(t){t.preventDefault();var e=t.pageY;"horiz"===m&&(e=t.pageX);var a=(e-n.offset()[f]-r)/n[v]()*u[v]();i[p](a)}function w(){t(document).off("mousemove",_),t(document).off("mouseup",w)}function b(t){if(t.target!==s[0]){var e=h*i[v](),a=("vert"===m?t.originalEvent.layerY:t.originalEvent.layerX)<s.position()[f]?i[p]()-e:i[p]()+e;i[p](a)}}function y(t){C()}function $(){var t=u[v](),e=i[p](),a=n[v](),o=a/t,r=Math.round(o*e),c=Math.floor(o*(a+2));a<t?("vert"===m?s.css({top:r,height:c}):s.css({left:r,width:c}),n.show()):n.hide()}function C(){$(),k()}function k(){s.addClass("visible"),o.autoHide&&("number"==typeof c&&window.clearTimeout(c),c=window.setTimeout((function(){s.removeClass("visible"),"number"==typeof c&&window.clearTimeout(c)}),1e3))}function x(){"vert"===m?(i.width(d.width()+T()),i.height(d.height())):(i.width(d.width()),i.height(d.height()+T()),u.height(d.height()))}function T(){var e=t('<div class="scrollbar-width-tester" style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>');t("body").append(e);var a=t(e).innerWidth(),o=t("div",e).innerWidth();return e.remove(),a===o&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1?17:a-o}function S(){x(),$()}return o=t.extend({},t.fn[e].defaults,o),window.onload=function(){u.focus()},d.hasClass("horizontal")&&(m="horiz",p="scrollLeft",v="width",f="left"),d.prepend('<div class="cscrlb-scrollbar"><div class="drag-handle"></div></div>'),n=d.find(".cscrlb-scrollbar"),s=d.find(".drag-handle"),o.wrapContent&&u.wrap('<div class="cscrlb-scroll-content" />'),i=d.find(".cscrlb-scroll-content"),x(),o.autoHide&&d.on("mouseenter",C),s.on("mousedown",g),n.on("mousedown",b),i.on("scroll",y),$(),t(window).on("resize",(function(){S()})),o.autoHide||k(),{option:function(t,e){if(!e)return o[t];o[t]=e},destroy:function(){var t;u.insertBefore(n),n.remove(),i.remove(),u.css({height:d.height()+"px","overflow-y":"scroll"}),void 0!==o[t="onDestroy"]&&o[t].call(l),d.removeData("plugin_"+e)},recalculate:S}}t.fn[e]=function(o){if("string"==typeof arguments[0]){var i,n=arguments[0],s=Array.prototype.slice.call(arguments,1);return this.each((function(){if(!t.data(this,"plugin_"+e)||"function"!=typeof t.data(this,"plugin_"+e)[n])throw new Error(" "+n+" "+e);i=t.data(this,"plugin_"+e)[n].apply(this,s)})),void 0!==i?i:this}if("object"===_typeof(o)||!o)return this.each((function(){t.data(this,"plugin_"+e)||t.data(this,"plugin_"+e,new a(this,o))}))},t.fn[e].defaults={onInit:function(){},onDestroy:function(){},wrapContent:!0,autoHide:!1}}(jQuery),$((function(){$(".cscrlb-scrollable").cscrlb()})),$(document).ready((function(){homeBanner(),header(),gallery(),landing_sliders(),up(),chatBlock(),toggle(),new СustomInteraction({targets:"a, button, [data-custom-interaction], .image-zoom"}),document.querySelectorAll(".slider-constructor").forEach((function(t){new SliderConstructor(t).init()}))}));var СustomInteraction=function t(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.targets=a.targets,this.touchendDelay=a.touchendDelay||100;var o=function(t){var a=[];a[0]=t.target!==document?t.target.closest(e.targets):null;for(var o=a[0],i=0;a[0]&&(o=o.parentNode)!==document;)o.matches(a.value)&&(i++,a[i]=o);if("touchstart"==t.type){if(e.touched=!0,e.timeout&&clearTimeout(e.timeout),a[0]){var n,s=_createForOfIteratorHelper(a);try{for(s.s();!(n=s.n()).done;){n.value.setAttribute("data-touch","")}}catch(t){s.e(t)}finally{s.f()}}}else("touchend"==t.type||"contextmenu"==t.type&&e.touched)&&(e.timeout=setTimeout((function(){e.touched=!1}),e.touchendDelay),a[0]&&setTimeout((function(){var t,e=_createForOfIteratorHelper(a);try{for(e.s();!(t=e.n()).done;){t.value.removeAttribute("data-touch")}}catch(t){e.e(t)}finally{e.f()}}),e.touchendDelay));"mouseenter"==t.type&&!e.touched&&a[0]&&a[0]==t.target?a[0].setAttribute("data-hover",""):"mouseleave"==t.type&&!e.touched&&a[0]&&a[0]==t.target&&(a[0].removeAttribute("data-click"),a[0].removeAttribute("data-hover")),"mousedown"==t.type&&!e.touched&&a[0]?a[0].setAttribute("data-click",""):"mouseup"==t.type&&!e.touched&&a[0]&&a[0].removeAttribute("data-click")};document.addEventListener("touchstart",o),document.addEventListener("touchend",o),document.addEventListener("mouseenter",o,!0),document.addEventListener("mouseleave",o,!0),document.addEventListener("mousedown",o),document.addEventListener("mouseup",o),document.addEventListener("contextmenu",o)};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiYnJlYWtwb2ludHMiLCJ4cyIsInNtIiwibWQiLCJsZyIsInhsIiwidG91Y2hzdGFydFgiLCJ0b3VjaGVuZFgiLCJ0aHJvdHRsZSIsImRlbGF5IiwiY2FsbGJhY2siLCJvcHRpb25zIiwidGltZW91dElEIiwiX3JlZiIsIl9yZWYkbm9UcmFpbGluZyIsIm5vVHJhaWxpbmciLCJfcmVmJG5vTGVhZGluZyIsIm5vTGVhZGluZyIsIl9yZWYkZGVib3VuY2VNb2RlIiwiZGVib3VuY2VNb2RlIiwidW5kZWZpbmVkIiwiY2FuY2VsbGVkIiwibGFzdEV4ZWMiLCJjbGVhckV4aXN0aW5nVGltZW91dCIsImNsZWFyVGltZW91dCIsIndyYXBwZXIiLCJfbGVuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXJndW1lbnRzXyIsIkFycmF5IiwiX2tleSIsInNlbGYiLCJ0aGlzIiwiZWxhcHNlZCIsIkRhdGUiLCJub3ciLCJleGVjIiwiYXBwbHkiLCJjbGVhciIsInNldFRpbWVvdXQiLCJjYW5jZWwiLCJfcmVmMiR1cGNvbWluZ09ubHkiLCJ1cGNvbWluZ09ubHkiLCJkZWJvdW5jZSIsIl9yZWYkYXRCZWdpbiIsImF0QmVnaW4iLCJfdHlwZW9mIiwib2JqIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsInNsaWRlckRlYm91bmNlIiwiZnVuYyIsImludGVydmFsIiwiY29udGV4dCIsInRpbWVvdXQiLCJfYXJndW1lbnRzIiwiX3RoaXMiLCJTbGlkZXJDb25zdHJ1Y3RvciIsImVsZW1lbnQiLCJfY2xhc3NDYWxsQ2hlY2siLCJfY3JlYXRlQ2xhc3MiLCJrZXkiLCJ2YWx1ZSIsIl90aGlzMyIsInBhcmFtcyIsImF1dG9wbGF5IiwiZ2V0QXR0cmlidXRlIiwiYXV0b3BsYXlUaW1lb3V0IiwiYXJyb3dzIiwid2luZG93IiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJkb3RzIiwiYWRhcHRpdmVIZWlnaHQiLCJjZW50ZXJNb2RlIiwiY291bnQiLCJyb3dzIiwic3RhdGUiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImluZGV4IiwiYnJlYWtwb2ludCIsImF0dHIiLCJjb25jYXQiLCJwcmV2S2V5Iiwic2xpZGVzIiwiY29udGFpbnNNb2JpbGVIaWRkZW5TbGlkZXMiLCJjaGlsZE5vZGVzIiwic2xpZGUiLCJ0YWdOYW1lIiwicHVzaCIsImNyZWF0ZUljb25zIiwiY2hlY2tTbGlkZXJTdGF0ZSIsImNoZWNrU2xpZGVyU3RhdGVEZWJvdW5jZWQiLCJhZGRFdmVudExpc3RlbmVyIiwibGVmdEljb24iLCJyaWdodEljb24iLCJsZWZ0SWNvbkNsYXNzIiwicmlnaHRJY29uQ2xhc3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaWNvbiIsImlzTGVmdEljb24iLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImlzUmlnaHRJY29uIiwicmVtb3ZlIiwib3V0ZXJIVE1MIiwibmV4dEFycm93IiwicHJldkFycm93IiwibW91bnRlZCIsInNhdmVkV2luZG93V2lkdGgiLCJpbm5lcldpZHRoIiwidW5tb3VudCIsImNoZWNrU2xpZGVzVmlzaWJpbGl0eSIsIm1vdW50IiwiYWRkIiwiX3RoaXM0Iiwic2hvdWxkQmVIaWRkZW4iLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCIkIiwic2xpY2siLCJhdXRvcGxheVNwZWVkIiwibW9iaWxlRmlyc3QiLCJzbGlkZXNUb1Nob3ciLCJzbGlkZXNUb1Njcm9sbCIsImFjY2Vzc2liaWxpdHkiLCJyZXNwb25zaXZlIiwic2V0dGluZ3MiLCJvbiIsImV2ZW50IiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsImlkIiwicGFyZW50IiwiZmluZCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJjaGFuZ2VkVG91Y2hlcyIsInNjcmVlblgiLCJpbWciLCJOdW1iZXIiLCJkb2N1bWVudCIsInJlYWR5IiwiY2xpY2siLCJzbGlkZVRvZ2dsZSIsInRvZ2dsZUNsYXNzIiwicHJldmVudERlZmF1bHQiLCJ0b2dnbGUiLCJlIiwibG9jYXRpb24iLCJwYXRobmFtZSIsInJlcGxhY2UiLCJob3N0bmFtZSIsImhhc2giLCJzbGljZSIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJiaWdTbGlkZXMiLCJhdXRvUGxheVRpbWVvdXRTZWMiLCJwYXJzZUludCIsImRhdGEiLCJvd2xDYXJvdXNlbCIsImxvb3AiLCJtYXJnaW4iLCJuYXYiLCJpdGVtcyIsIm5hdlRleHQiLCJyYWRpb0J1dHRvbnMiLCJjaG9pY2VzIiwiYnRuIiwiY2xpY2tlZCIsImNob2ljZSIsInN0eWxlIiwiZGlzcGxheSIsImVhY2giLCJ0aGF0IiwibGlzdElEIiwiZ3JvdXBzIiwiY2hpbGRyZW4iLCJ0aGVPcHRpb25zIiwic3RhcnRpbmdPcHRpb24iLCJjdXJHcm91cCIsImN1ck5hbWUiLCJjdXJPcHQiLCJjdXJWYWwiLCJjdXJIdG1sIiwiaHRtbCIsImluc2VydEFmdGVyIiwic2VsZWN0ZGQiLCJzZWxlY3R1bCIsInNlbGVjdGxpIiwiaGFzQ2xhc3MiLCJwYXJlbnRVbCIsInRoaXNkZCIsInNpYmxpbmdzIiwibGlodG1sIiwibGl2YWx1ZSIsIm9yaWdpbmFsU2VsZWN0IiwidmFsIiwialF1ZXJ5IiwiaGlkZSIsInNob3ciLCJhY3RpdmVUYWIiLCJmYWRlSW4iLCJkX2FjdGl2ZVRhYiIsImFjdGl2ZVRhYkJsb2NrIiwiJHRoaXNBY3RpdmUiLCJub3QiLCJsYXN0Iiwic3luYzEiLCJzeW5jMiIsInNsaWRlU3BlZWQiLCJyZXNwb25zaXZlUmVmcmVzaFJhdGUiLCJlbCIsIml0ZW0iLCJjdXJyZW50IiwiTWF0aCIsInJvdW5kIiwiZXEiLCJvbnNjcmVlbiIsInN0YXJ0IiwiZmlyc3QiLCJlbmQiLCJ0byIsInNtYXJ0U3BlZWQiLCJzbGlkZUJ5IiwibnVtYmVyIiwiYnV0dG9uRGVmYXVsdFZpZXciLCJidXR0b25XaWRlVmlldyIsImJ1dHRvbkxpbmVWaWV3IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImtleXByZXNzU2xpZGVycyIsImdhbGxlcnkiLCJmYW5jeWJveCIsIiRzZWxlY3RvciIsInBhcmVudHMiLCJvcGVuIiwic2VsZWN0b3IiLCJiYWNrRm9jdXMiLCJoZWFkZXIiLCJoZWlnaHQiLCJzY3JvbGwiLCIkaGVhZGVyIiwiaXNUaHJvdHRsZWQiLCJjaGVjayIsImhvbWVCYW5uZXIiLCIkc2xpZGVyIiwibGF6eUxvYWQiLCJfZGVmaW5lUHJvcGVydGllcyIsInByb3BzIiwiaSIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJkZWZpbmVQcm9wZXJ0eSIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJvIiwiYWxsb3dBcnJheUxpa2UiLCJpdCIsImlzQXJyYXkiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJGIiwicyIsIm4iLCJkb25lIiwiX2UiLCJmIiwiVHlwZUVycm9yIiwiZXJyIiwibm9ybWFsQ29tcGxldGlvbiIsImRpZEVyciIsInN0ZXAiLCJuZXh0IiwiX2UyIiwicmV0dXJuIiwibWluTGVuIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJ0b1N0cmluZyIsImNhbGwiLCJuYW1lIiwiZnJvbSIsInRlc3QiLCJhcnIiLCJsZW4iLCJhcnIyIiwiaW5zdGFuY2UiLCJsYW5kaW5nX3NsaWRlcnMiLCIkc2xpZGVycyIsImNvdW50MSIsImNvdW50MiIsImNvdW50MyIsImNvdW50NCIsIiR0aGlzIiwiaXMiLCIkc2VjdGlvbiIsImluaXRpYWxpemVkIiwiJHRvZ2dsZSIsIiRjb250ZW50IiwiJGNsb3NlIiwiaXNUb3VjaCIsInNsaWRlRG93biIsInN0b3AiLCJzbGlkZVVwIiwiJHRhcmdldCIsImNsb3Nlc3QiLCJ1cCIsIiRidG4iLCJjaGF0QmxvY2siLCIkYmxvY2siLCIkb3BlbiIsImtleXByZXNzU2xpZGVyIiwiZmllbGRfbmFtZSIsImlucHV0MCIsImdldEVsZW1lbnRCeUlkIiwiaW5wdXQxIiwiaW5wdXRzIiwic3RhcnRWYWwiLCJkYXRhc2V0IiwiY3VycmVudFZhbHVlIiwiZW5kVmFsIiwibWluVmFsIiwibWluVmFsdWUiLCJtYXhWYWwiLCJtYXhWYWx1ZSIsInBvc3RmaXgiLCJzZXRTbGlkZXJIYW5kbGUiLCJyIiwibm9VaVNsaWRlciIsInNldCIsImNyZWF0ZSIsImNvbm5lY3QiLCJyYW5nZSIsIm1pbiIsIm1heCIsImZvcm1hdCIsIndOdW1iIiwiZGVjaW1hbHMiLCJ0aG91c2FuZCIsInZhbHVlcyIsImhhbmRsZSIsImlucHV0IiwicG9zaXRpb24iLCJnZXQiLCJzdGVwcyIsIndoaWNoIiwicGx1Z2luTmFtZSIsIlBsdWdpbiIsIiRzY3JvbGxDb250ZW50RWwiLCIkc2Nyb2xsYmFyRWwiLCIkZHJhZ0hhbmRsZUVsIiwiZHJhZ09mZnNldCIsImZsYXNoVGltZW91dCIsIiRlbCIsIiRjb250ZW50RWwiLCJwYWdlSnVtcE11bHRwIiwic2Nyb2xsRGlyZWN0aW9uIiwic2Nyb2xsT2Zmc2V0QXR0ciIsInNpemVBdHRyIiwib2Zmc2V0QXR0ciIsInN0YXJ0RHJhZyIsImV2ZW50T2Zmc2V0IiwicGFnZVkiLCJwYWdlWCIsImRyYWciLCJlbmREcmFnIiwic2Nyb2xsUG9zIiwib2ZmIiwianVtcFNjcm9sbCIsImp1bXBBbXQiLCJvcmlnaW5hbEV2ZW50IiwibGF5ZXJZIiwibGF5ZXJYIiwib25TY3JvbGxlZCIsImZsYXNoU2Nyb2xsYmFyIiwicmVzaXplU2Nyb2xsYmFyIiwiY29udGVudFNpemUiLCJzY3JvbGxPZmZzZXQiLCJzY3JvbGxiYXJTaXplIiwic2Nyb2xsYmFyUmF0aW8iLCJoYW5kbGVPZmZzZXQiLCJoYW5kbGVTaXplIiwiZmxvb3IiLCJjc3MiLCJsZWZ0Iiwid2lkdGgiLCJzaG93U2Nyb2xsYmFyIiwiYXV0b0hpZGUiLCJyZXNpemVTY3JvbGxDb250ZW50Iiwic2Nyb2xsYmFyV2lkdGgiLCJ0ZW1wRWwiLCJhcHBlbmQiLCJ3aWR0aE1pbnVzU2Nyb2xsYmFycyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRvTG93ZXJDYXNlIiwiaW5kZXhPZiIsInJlY2FsY3VsYXRlIiwiZXh0ZW5kIiwiZm4iLCJkZWZhdWx0cyIsIm9ubG9hZCIsImZvY3VzIiwicHJlcGVuZCIsIndyYXBDb250ZW50Iiwid3JhcCIsIm9wdGlvbiIsImRlc3Ryb3kiLCJob29rTmFtZSIsImluc2VydEJlZm9yZSIsInJlbW92ZURhdGEiLCJyZXR1cm5WYWwiLCJtZXRob2ROYW1lIiwiYXJncyIsIkVycm9yIiwib25Jbml0Iiwib25EZXN0cm95IiwiY3NjcmxiIiwi0KF1c3RvbUludGVyYWN0aW9uIiwidGFyZ2V0cyIsImluaXQiLCJfdGhpczIiLCJ0b3VjaGVuZERlbGF5IiwiZXZlbnRzIiwiJHRhcmdldHMiLCIkZWxlbWVudCIsInBhcmVudE5vZGUiLCJ0eXBlIiwidG91Y2hlZCIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwic2V0QXR0cmlidXRlIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsInJlbW92ZUF0dHJpYnV0ZSJdLCJtYXBwaW5ncyI6IkFBQUEsYUFFQSxJQUFNQSxZQUFjLENBQ2xCQyxHQUFJLEVBQ0pDLEdBQUksSUFDSkMsR0FBSSxJQUNKQyxHQUFJLEtBQ0pDLEdBQUksTUFHRkMsWUFBYyxFQUNkQyxVQUFZLEVBRWhCLFNBQVNDLFNBQVNDLEVBQU9DLEVBQVVDLEdBQ2pDLElBUUlDLEVBUkFDLEVBQU9GLEdBQVcsQ0FBQyxFQUNyQkcsRUFBa0JELEVBQUtFLFdBQ3ZCQSxPQUFpQyxJQUFwQkQsR0FBcUNBLEVBQ2xERSxFQUFpQkgsRUFBS0ksVUFDdEJBLE9BQStCLElBQW5CRCxHQUFvQ0EsRUFDaERFLEVBQW9CTCxFQUFLTSxhQUN6QkEsT0FBcUMsSUFBdEJELE9BQStCRSxFQUFZRixFQUd4REcsR0FBWSxFQUVaQyxFQUFXLEVBRWYsU0FBU0MsSUFDSFgsR0FDRlksYUFBYVosRUFFakIsQ0FXQSxTQUFTYSxJQUNQLElBQUssSUFBSUMsRUFBT0MsVUFBVUMsT0FBUUMsRUFBYSxJQUFJQyxNQUFNSixHQUFPSyxF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LENBQ3ZDdUssRUFBT3pYLE1BRWIyWCxnQkFBZ0IsYUFDM0IsQ0FDRixDQUFFLE1BQU9ySyxHQUNQb0ssRUFBV25TLEVBQUUrSCxFQUNmLENBQUMsUUFDQ29LLEVBQVd0SyxHQUNiLENBQ0YsR0FBRzBKLEVBQU9DLGdCQUtFLGNBQWQzUyxFQUFNZ1QsT0FDTE4sRUFBT08sU0FDUkosRUFBUyxJQUNUQSxFQUFTLElBQU03UyxFQUFNQyxPQUVyQjRTLEVBQVMsR0FBR08sYUFBYSxhQUFjLElBSXpCLGNBQWRwVCxFQUFNZ1QsT0FDTE4sRUFBT08sU0FDUkosRUFBUyxJQUNUQSxFQUFTLElBQU03UyxFQUFNQyxTQUVyQjRTLEVBQVMsR0FBR1UsZ0JBQWdCLGNBQzVCVixFQUFTLEdBQUdVLGdCQUFnQixlQUdaLGFBQWR2VCxFQUFNZ1QsT0FBd0JOLEVBQU9PLFNBQVdKLEVBQVMsR0FDM0RBLEVBQVMsR0FBR08sYUFBYSxhQUFjLElBR2xCLFdBQWRwVCxFQUFNZ1QsT0FBc0JOLEVBQU9PLFNBQVdKLEVBQVMsSUFDOURBLEVBQVMsR0FBR1UsZ0JBQWdCLGFBRWhDLEVBRUEzUyxTQUFTL0MsaUJBQWlCLGFBQWMrVSxHQUN4Q2hTLFNBQVMvQyxpQkFBaUIsV0FBWStVLEdBQ3RDaFMsU0FBUy9DLGlCQUFpQixhQUFjK1UsR0FBUSxHQUNoRGhTLFNBQVMvQyxpQkFBaUIsYUFBYytVLEdBQVEsR0FDaERoUyxTQUFTL0MsaUJBQWlCLFlBQWErVSxHQUN2Q2hTLFNBQVMvQyxpQkFBaUIsVUFBVytVLEdBQ3JDaFMsU0FBUy9DLGlCQUFpQixjQUFlK1UsRUFDM0MiLCJmaWxlIjoic2NyaXB0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIihcInVzZSBzdHJpY3RcIik7XHJcblxyXG5jb25zdCBicmVha3BvaW50cyA9IHtcclxuICB4czogMCxcclxuICBzbTogNTc2LFxyXG4gIG1kOiA3NjgsXHJcbiAgbGc6IDEwMjQsXHJcbiAgeGw6IDEyODAsXHJcbn07XHJcblxyXG5sZXQgdG91Y2hzdGFydFggPSAwO1xyXG5sZXQgdG91Y2hlbmRYID0gMDtcclxuXHJcbmZ1bmN0aW9uIHRocm90dGxlKGRlbGF5LCBjYWxsYmFjaywgb3B0aW9ucykge1xyXG4gIHZhciBfcmVmID0gb3B0aW9ucyB8fCB7fSxcclxuICAgIF9yZWYkbm9UcmFpbGluZyA9IF9yZWYubm9UcmFpbGluZyxcclxuICAgIG5vVHJhaWxpbmcgPSBfcmVmJG5vVHJhaWxpbmcgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRub1RyYWlsaW5nLFxyXG4gICAgX3JlZiRub0xlYWRpbmcgPSBfcmVmLm5vTGVhZGluZyxcclxuICAgIG5vTGVhZGluZyA9IF9yZWYkbm9MZWFkaW5nID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkbm9MZWFkaW5nLFxyXG4gICAgX3JlZiRkZWJvdW5jZU1vZGUgPSBfcmVmLmRlYm91bmNlTW9kZSxcclxuICAgIGRlYm91bmNlTW9kZSA9IF9yZWYkZGVib3VuY2VNb2RlID09PSB2b2lkIDAgPyB1bmRlZmluZWQgOiBfcmVmJGRlYm91bmNlTW9kZTtcclxuXHJcbiAgdmFyIHRpbWVvdXRJRDtcclxuICB2YXIgY2FuY2VsbGVkID0gZmFsc2U7XHJcblxyXG4gIHZhciBsYXN0RXhlYyA9IDA7XHJcblxyXG4gIGZ1bmN0aW9uIGNsZWFyRXhpc3RpbmdUaW1lb3V0KCkge1xyXG4gICAgaWYgKHRpbWVvdXRJRCkge1xyXG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElEKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNhbmNlbChvcHRpb25zKSB7XHJcbiAgICB2YXIgX3JlZjIgPSBvcHRpb25zIHx8IHt9LFxyXG4gICAgICBfcmVmMiR1cGNvbWluZ09ubHkgPSBfcmVmMi51cGNvbWluZ09ubHksXHJcbiAgICAgIHVwY29taW5nT25seSA9IF9yZWYyJHVwY29taW5nT25seSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMiR1cGNvbWluZ09ubHk7XHJcblxyXG4gICAgY2xlYXJFeGlzdGluZ1RpbWVvdXQoKTtcclxuICAgIGNhbmNlbGxlZCA9ICF1cGNvbWluZ09ubHk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB3cmFwcGVyKCkge1xyXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3VtZW50c18gPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XHJcbiAgICAgIGFyZ3VtZW50c19bX2tleV0gPSBhcmd1bWVudHNbX2tleV07XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGVsYXBzZWQgPSBEYXRlLm5vdygpIC0gbGFzdEV4ZWM7XHJcblxyXG4gICAgaWYgKGNhbmNlbGxlZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXhlYygpIHtcclxuICAgICAgbGFzdEV4ZWMgPSBEYXRlLm5vdygpO1xyXG4gICAgICBjYWxsYmFjay5hcHBseShzZWxmLCBhcmd1bWVudHNfKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjbGVhcigpIHtcclxuICAgICAgdGltZW91dElEID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghbm9MZWFkaW5nICYmIGRlYm91bmNlTW9kZSAmJiAhdGltZW91dElEKSB7XHJcbiAgICAgIGV4ZWMoKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhckV4aXN0aW5nVGltZW91dCgpO1xyXG5cclxuICAgIGlmIChkZWJvdW5jZU1vZGUgPT09IHVuZGVmaW5lZCAmJiBlbGFwc2VkID4gZGVsYXkpIHtcclxuICAgICAgaWYgKG5vTGVhZGluZykge1xyXG4gICAgICAgIGxhc3RFeGVjID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgICAgaWYgKCFub1RyYWlsaW5nKSB7XHJcbiAgICAgICAgICB0aW1lb3V0SUQgPSBzZXRUaW1lb3V0KGRlYm91bmNlTW9kZSA/IGNsZWFyIDogZXhlYywgZGVsYXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBleGVjKCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAobm9UcmFpbGluZyAhPT0gdHJ1ZSkge1xyXG4gICAgICB0aW1lb3V0SUQgPSBzZXRUaW1lb3V0KFxyXG4gICAgICAgIGRlYm91bmNlTW9kZSA/IGNsZWFyIDogZXhlYyxcclxuICAgICAgICBkZWJvdW5jZU1vZGUgPT09IHVuZGVmaW5lZCA/IGRlbGF5IC0gZWxhcHNlZCA6IGRlbGF5XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB3cmFwcGVyLmNhbmNlbCA9IGNhbmNlbDtcclxuXHJcbiAgcmV0dXJuIHdyYXBwZXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlYm91bmNlKGRlbGF5LCBjYWxsYmFjaywgb3B0aW9ucykge1xyXG4gIHZhciBfcmVmID0gb3B0aW9ucyB8fCB7fSxcclxuICAgIF9yZWYkYXRCZWdpbiA9IF9yZWYuYXRCZWdpbixcclxuICAgIGF0QmVnaW4gPSBfcmVmJGF0QmVnaW4gPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRhdEJlZ2luO1xyXG5cclxuICByZXR1cm4gdGhyb3R0bGUoZGVsYXksIGNhbGxiYWNrLCB7XHJcbiAgICBkZWJvdW5jZU1vZGU6IGF0QmVnaW4gIT09IGZhbHNlLFxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikge1xyXG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcclxuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHtcclxuICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xyXG4gICAgICByZXR1cm4gdHlwZW9mIG9iajtcclxuICAgIH07XHJcbiAgfSBlbHNlIHtcclxuICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xyXG4gICAgICByZXR1cm4gb2JqICYmXHJcbiAgICAgICAgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmXHJcbiAgICAgICAgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiZcclxuICAgICAgICBvYmogIT09IFN5bWJvbC5wcm90b3R5cGVcclxuICAgICAgICA/IFwic3ltYm9sXCJcclxuICAgICAgICA6IHR5cGVvZiBvYmo7XHJcbiAgICB9O1xyXG4gIH1cclxuICByZXR1cm4gX3R5cGVvZihvYmopO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzbGlkZXJEZWJvdW5jZShmdW5jLCBpbnRlcnZhbCwgY29udGV4dCkge1xyXG4gIHZhciB0aW1lb3V0ID0gZmFsc2U7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzLFxyXG4gICAgICBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgaWYgKHRpbWVvdXQpIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgZnVuYy5hcHBseShjb250ZXh0IHx8IF90aGlzLCBfYXJndW1lbnRzKTtcclxuICAgIH0sIGludGVydmFsKTtcclxuICB9O1xyXG59XHJcblxyXG5jb25zdCBTbGlkZXJDb25zdHJ1Y3RvciA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcclxuICBmdW5jdGlvbiBTbGlkZXJDb25zdHJ1Y3RvcihlbGVtZW50KSB7XHJcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2xpZGVyQ29uc3RydWN0b3IpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfY3JlYXRlQ2xhc3MoU2xpZGVyQ29uc3RydWN0b3IsIFtcclxuICAgIHtcclxuICAgICAga2V5OiBcImluaXRcIixcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAgICAgbGV0IF90aGlzMyA9IHRoaXM7XHJcblxyXG4gICAgICAgIHRoaXMucGFyYW1zID0ge307XHJcbiAgICAgICAgdGhpcy5wYXJhbXMuYXV0b3BsYXkgPSB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1hdXRvcGxheS10aW1lb3V0XCIpICE9PSBudWxsO1xyXG4gICAgICAgIHRoaXMucGFyYW1zLmF1dG9wbGF5VGltZW91dCA9ICt0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1hdXRvcGxheS10aW1lb3V0XCIpIHx8IDUwMDA7XHJcbiAgICAgICAgdGhpcy5wYXJhbXMuYXJyb3dzID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtbm8tYXJyb3dzXCIpID09PSBudWxsID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICBjb25zdCBtZWRpYVF1ZXJ5ID0gd2luZG93Lm1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiA1NzUuOThweClcIik7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIG1lZGlhIHF1ZXJ5IGlzIHRydWVcclxuICAgICAgICBpZiAobWVkaWFRdWVyeS5tYXRjaGVzKSB7XHJcbiAgICAgICAgICB0aGlzLnBhcmFtcy5kb3RzID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtbm8tZG90c1wiKSA9PT0gbnVsbCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5wYXJhbXMuZG90cyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnBhcmFtcy5hZGFwdGl2ZUhlaWdodCA9IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWFkYXB0aXZlLWhlaWdodFwiKSAhPT0gbnVsbDtcclxuICAgICAgICB0aGlzLnBhcmFtcy5jZW50ZXJNb2RlID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtY2VudGVyXCIpID09PSBudWxsID8gZmFsc2UgOiB0cnVlO1xyXG4gICAgICAgIHRoaXMucGFyYW1zLmNvdW50ID0ge307XHJcbiAgICAgICAgdGhpcy5wYXJhbXMuY291bnQueHMgPSArdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtc2xpZGVzXCIpIHx8IDE7XHJcbiAgICAgICAgdGhpcy5wYXJhbXMuY291bnQuc20gPSArdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtc20tc2xpZGVzXCIpIHx8IHRoaXMucGFyYW1zLmNvdW50LnhzO1xyXG4gICAgICAgIHRoaXMucGFyYW1zLmNvdW50Lm1kID0gK3RoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1kLXNsaWRlc1wiKSB8fCB0aGlzLnBhcmFtcy5jb3VudC5zbTtcclxuICAgICAgICB0aGlzLnBhcmFtcy5jb3VudC5sZyA9ICt0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1sZy1zbGlkZXNcIikgfHwgdGhpcy5wYXJhbXMuY291bnQubWQ7XHJcbiAgICAgICAgdGhpcy5wYXJhbXMuY291bnQueGwgPSArdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEteGwtc2xpZGVzXCIpIHx8IHRoaXMucGFyYW1zLmNvdW50LmxnO1xyXG4gICAgICAgIHRoaXMucGFyYW1zLnJvd3MgPSB7fTtcclxuICAgICAgICAodGhpcy5wYXJhbXMucm93cy54cyA9ICt0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1yb3dzXCIpIHx8IDEpLFxyXG4gICAgICAgICAgKHRoaXMucGFyYW1zLnJvd3Muc20gPSArdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtc20tcm93c1wiKSB8fCB0aGlzLnBhcmFtcy5yb3dzLnhzKSxcclxuICAgICAgICAgICh0aGlzLnBhcmFtcy5yb3dzLm1kID0gK3RoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1kLXJvd3NcIikgfHwgdGhpcy5wYXJhbXMucm93cy5zbSksXHJcbiAgICAgICAgICAodGhpcy5wYXJhbXMucm93cy5sZyA9ICt0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1sZy1yb3dzXCIpIHx8IHRoaXMucGFyYW1zLnJvd3MubWQpLFxyXG4gICAgICAgICAgKHRoaXMucGFyYW1zLnJvd3MueGwgPSArdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEteGwtcm93c1wiKSB8fCB0aGlzLnBhcmFtcy5yb3dzLmxnKTtcclxuICAgICAgICB0aGlzLnBhcmFtcy5zdGF0ZSA9IHt9O1xyXG4gICAgICAgIE9iamVjdC5rZXlzKGJyZWFrcG9pbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXksIGluZGV4KSB7XHJcbiAgICAgICAgICBsZXQgYnJlYWtwb2ludCA9IGluZGV4ICE9PSAwID8gXCItXCIgKyBrZXkgKyBcIi1cIiA6IFwiLVwiO1xyXG5cclxuICAgICAgICAgIGxldCBhdHRyID0gX3RoaXMzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YVwiLmNvbmNhdChicmVha3BvaW50LCBcIm1vdW50ZWRcIikpO1xyXG5cclxuICAgICAgICAgIGlmIChhdHRyID09PSBudWxsICYmIGluZGV4ICE9PSAwKSB7XHJcbiAgICAgICAgICAgIGxldCBwcmV2S2V5ID0gT2JqZWN0LmtleXMoYnJlYWtwb2ludHMpW2luZGV4IC0gMV07XHJcbiAgICAgICAgICAgIF90aGlzMy5wYXJhbXMuc3RhdGVba2V5XSA9IF90aGlzMy5wYXJhbXMuc3RhdGVbcHJldktleV07XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGF0dHIgPT09IFwidHJ1ZVwiIHx8IChpbmRleCA9PT0gMCAmJiBhdHRyICE9PSBcImZhbHNlXCIpKSB7XHJcbiAgICAgICAgICAgIF90aGlzMy5wYXJhbXMuc3RhdGVba2V5XSA9IHRydWU7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBfdGhpczMucGFyYW1zLnN0YXRlW2tleV0gPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNsaWRlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY29udGFpbnNNb2JpbGVIaWRkZW5TbGlkZXMgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChzbGlkZSkge1xyXG4gICAgICAgICAgaWYgKCFzbGlkZS50YWdOYW1lKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgaWYgKHNsaWRlLmdldEF0dHJpYnV0ZShcImRhdGEtc2xpZGUtbW9iaWxlLWhpZGRlblwiKSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBfdGhpczMuY29udGFpbnNNb2JpbGVIaWRkZW5TbGlkZXMgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIF90aGlzMy5zbGlkZXMucHVzaChzbGlkZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVJY29ucygpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tTbGlkZXJTdGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tTbGlkZXJTdGF0ZURlYm91bmNlZCA9IHNsaWRlckRlYm91bmNlKHRoaXMuY2hlY2tTbGlkZXJTdGF0ZSwgNTAwLCB0aGlzKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLmNoZWNrU2xpZGVyU3RhdGVEZWJvdW5jZWQpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAga2V5OiBcImNyZWF0ZUljb25zXCIsXHJcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVJY29ucygpIHtcclxuICAgICAgICBsZXQgbGVmdEljb24gPVxyXG4gICAgICAgICAgJ1xcbiAgICAgIDxzdmcgdmlld0JveD1cIjAgMCAxMSAxOVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XFxuICAgICAgICA8cGF0aCBkPVwiTTEuNCAxOC4xTDAgMTYuN0w3LjYgOS4xMDAwMUwwIDEuNUwxLjQgMEwxMC40IDkuMTAwMDFDMTAuNCA5LjEwMDAxIDEuMyAxOC4xIDEuNCAxOC4xWlwiLz5cXG4gICAgICA8L3N2Zz5cXG4gICAgJztcclxuICAgICAgICBsZXQgcmlnaHRJY29uID1cclxuICAgICAgICAgICdcXG4gICAgICA8c3ZnIHZpZXdCb3g9XCIwIDAgMTEgMTlcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxcbiAgICAgICAgPHBhdGggZD1cIk05LjAwMDM5IDcuMjQ3OTJlLTA1TDEwLjQwMDQgMS40MDAwN0wyLjgwMDM5IDkuMDAwMDlMMTAuNDAwNCAxNi42MDAxTDkuMDAwMzkgMTguMTAwMUwwLjAwMDM5MTAwNiA5LjAwMDA5QzAuMDAwMzkxMDA2IDkuMDAwMDkgOS4xMDAzOSA3LjI0NzkyZS0wNSA5LjAwMDM5IDcuMjQ3OTJlLTA1WlwiLz5cXG4gICAgICA8L3N2Zz5cXG4gICAgJztcclxuICAgICAgICBsZXQgbGVmdEljb25DbGFzcyA9IFwiY3VzdG9tLWljb24tbGVmdFwiO1xyXG4gICAgICAgIGxldCByaWdodEljb25DbGFzcyA9IFwiY3VzdG9tLWljb24tcmlnaHRcIjtcclxuICAgICAgICBsZXQgY3VzdG9tSWNvbnMgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuICAgICAgICAgIFwiLlwiLmNvbmNhdChsZWZ0SWNvbkNsYXNzLCBcIiwgLlwiKS5jb25jYXQocmlnaHRJY29uQ2xhc3MpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjdXN0b21JY29ucy5mb3JFYWNoKGZ1bmN0aW9uIChpY29uKSB7XHJcbiAgICAgICAgICBsZXQgaXNMZWZ0SWNvbiA9IGljb24uY2xhc3NMaXN0LmNvbnRhaW5zKGxlZnRJY29uQ2xhc3MpO1xyXG4gICAgICAgICAgbGV0IGlzUmlnaHRJY29uID0gaWNvbi5jbGFzc0xpc3QuY29udGFpbnMocmlnaHRJY29uQ2xhc3MpO1xyXG5cclxuICAgICAgICAgIGlmIChpc0xlZnRJY29uKSB7XHJcbiAgICAgICAgICAgIGljb24uY2xhc3NMaXN0LnJlbW92ZShsZWZ0SWNvbkNsYXNzKTtcclxuICAgICAgICAgICAgbGVmdEljb24gPSBpY29uLm91dGVySFRNTDtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNSaWdodEljb24pIHtcclxuICAgICAgICAgICAgaWNvbi5jbGFzc0xpc3QucmVtb3ZlKHJpZ2h0SWNvbkNsYXNzKTtcclxuICAgICAgICAgICAgcmlnaHRJY29uID0gaWNvbi5vdXRlckhUTUw7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWNvbi5yZW1vdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm5leHRBcnJvdyA9ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ1dHRvbiBidXR0b25fc3R5bGUtMSBzbGljay1uZXh0XCI+Jy5jb25jYXQoXHJcbiAgICAgICAgICBsZWZ0SWNvbixcclxuICAgICAgICAgIFwiPC9idXR0b24+XCJcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMucHJldkFycm93ID0gJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnV0dG9uIGJ1dHRvbl9zdHlsZS0xIHNsaWNrLXByZXZcIj4nLmNvbmNhdChcclxuICAgICAgICAgIHJpZ2h0SWNvbixcclxuICAgICAgICAgIFwiPC9idXR0b24+XCJcclxuICAgICAgICApO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAga2V5OiBcImNoZWNrU2xpZGVyU3RhdGVcIixcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrU2xpZGVyU3RhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubW91bnRlZCAmJiB0aGlzLnNhdmVkV2luZG93V2lkdGggPT09IHdpbmRvdy5pbm5lcldpZHRoKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5zYXZlZFdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1vdW50ZWQpIHtcclxuICAgICAgICAgIHRoaXMudW5tb3VudCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHN0YXRlO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBicmVha3BvaW50IGluIGJyZWFrcG9pbnRzKSB7XHJcbiAgICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPj0gYnJlYWtwb2ludHNbYnJlYWtwb2ludF0pIHtcclxuICAgICAgICAgICAgc3RhdGUgPSB0aGlzLnBhcmFtcy5zdGF0ZVticmVha3BvaW50XTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzdGF0ZSkge1xyXG4gICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xyXG5cclxuICAgICAgICAgIGlmICh0aGlzLmNvbnRhaW5zTW9iaWxlSGlkZGVuU2xpZGVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tTbGlkZXNWaXNpYmlsaXR5KCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdGhpcy5tb3VudCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAga2V5OiBcImNoZWNrU2xpZGVzVmlzaWJpbGl0eVwiLFxyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tTbGlkZXNWaXNpYmlsaXR5KCkge1xyXG4gICAgICAgIGxldCBfdGhpczQgPSB0aGlzO1xyXG5cclxuICAgICAgICB0aGlzLnNsaWRlcy5mb3JFYWNoKGZ1bmN0aW9uIChzbGlkZSkge1xyXG4gICAgICAgICAgc2xpZGUucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zbGlkZXMuZm9yRWFjaChmdW5jdGlvbiAoc2xpZGUpIHtcclxuICAgICAgICAgIGxldCBzaG91bGRCZUhpZGRlbiA9IHNsaWRlLmdldEF0dHJpYnV0ZShcImRhdGEtc2xpZGUtbW9iaWxlLWhpZGRlblwiKSAhPT0gbnVsbDtcclxuICAgICAgICAgIGxldCBicmVha3BvaW50ID0gd2luZG93LmlubmVyV2lkdGggPCBicmVha3BvaW50cy5zbTtcclxuXHJcbiAgICAgICAgICBpZiAoIShzaG91bGRCZUhpZGRlbiAmJiBicmVha3BvaW50KSkge1xyXG4gICAgICAgICAgICBfdGhpczQuZWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJiZWZvcmVlbmRcIiwgc2xpZGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAga2V5OiBcIm1vdW50XCIsXHJcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBtb3VudCgpIHtcclxuICAgICAgICAkKHRoaXMuZWxlbWVudCkuc2xpY2soe1xyXG4gICAgICAgICAgYXV0b3BsYXk6IHRoaXMucGFyYW1zLmF1dG9wbGF5LFxyXG4gICAgICAgICAgYXV0b3BsYXlTcGVlZDogdGhpcy5wYXJhbXMuYXV0b3BsYXlUaW1lb3V0LFxyXG4gICAgICAgICAgbW9iaWxlRmlyc3Q6IHRydWUsXHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IHRoaXMucGFyYW1zLmNvdW50LnhzLFxyXG4gICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IHRoaXMucGFyYW1zLmNvdW50LnhzLFxyXG4gICAgICAgICAgcm93czogdGhpcy5wYXJhbXMucm93cy54cyxcclxuICAgICAgICAgIHByZXZBcnJvdzogdGhpcy5wcmV2QXJyb3csXHJcbiAgICAgICAgICBuZXh0QXJyb3c6IHRoaXMubmV4dEFycm93LFxyXG4gICAgICAgICAgYXJyb3dzOiB0aGlzLnBhcmFtcy5hcnJvd3MsXHJcbiAgICAgICAgICBhZGFwdGl2ZUhlaWdodDogdGhpcy5wYXJhbXMuYWRhcHRpdmVIZWlnaHQsXHJcbiAgICAgICAgICBkb3RzOiB0aGlzLnBhcmFtcy5kb3RzLFxyXG4gICAgICAgICAgY2VudGVyTW9kZTogdGhpcy5wYXJhbXMuY2VudGVyTW9kZSxcclxuICAgICAgICAgIGFjY2Vzc2liaWxpdHk6IGZhbHNlLFxyXG4gICAgICAgICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogYnJlYWtwb2ludHMuc20gLSAxLFxyXG4gICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IHRoaXMucGFyYW1zLmNvdW50LnNtLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IHRoaXMucGFyYW1zLmNvdW50LnNtLFxyXG4gICAgICAgICAgICAgICAgcm93czogdGhpcy5wYXJhbXMucm93cy5zbSxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogYnJlYWtwb2ludHMubWQgLSAxLFxyXG4gICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IHRoaXMucGFyYW1zLmNvdW50Lm1kLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IHRoaXMucGFyYW1zLmNvdW50Lm1kLFxyXG4gICAgICAgICAgICAgICAgcm93czogdGhpcy5wYXJhbXMucm93cy5tZCxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogYnJlYWtwb2ludHMubGcgLSAxLFxyXG4gICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IHRoaXMucGFyYW1zLmNvdW50LmxnLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IHRoaXMucGFyYW1zLmNvdW50LmxnLFxyXG4gICAgICAgICAgICAgICAgcm93czogdGhpcy5wYXJhbXMucm93cy5sZyxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogYnJlYWtwb2ludHMueGwgLSAxLFxyXG4gICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IHRoaXMucGFyYW1zLmNvdW50LnhsLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IHRoaXMucGFyYW1zLmNvdW50LnhsLFxyXG4gICAgICAgICAgICAgICAgcm93czogdGhpcy5wYXJhbXMucm93cy54bCxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgXSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBsZXQgdG91Y2hzdGFydFggPSAwO1xyXG4gICAgICAgIGxldCB0b3VjaGVuZFggPSAwO1xyXG5cclxuICAgICAgICAkKFwiLnNsaWRlci1jb25zdHJ1Y3RvciAucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fc2VjdG9yXCIpLm9uKFwibW91c2Vtb3ZlXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgdGFyZ2V0ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcclxuICAgICAgICAgIGNvbnN0IGlkID0gdGFyZ2V0LmF0dHIoXCJkYXRhLXNlY3RvclwiKTtcclxuICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRhcmdldC5wYXJlbnQoKS5wYXJlbnQoKTtcclxuICAgICAgICAgIHBhcmVudFxyXG4gICAgICAgICAgLmZpbmQoXCIucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpXHJcbiAgICAgICAgICAucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICAgICAgICBwYXJlbnRcclxuICAgICAgICAgIC5maW5kKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIilcclxuICAgICAgICAgIC5yZW1vdmVDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIik7XHJcbiAgICAgICAgICBwYXJlbnRcclxuICAgICAgICAgIC5maW5kKGBbZGF0YS1zZWN0b3ItaW1hZ2U9XCIke2lkfVwiXWApXHJcbiAgICAgICAgICAuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICAgICAgICBwYXJlbnQuZmluZChgW2RhdGEtc2VjdG9yLWRvdD1cIiR7aWR9XCJdYCkuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiLnNsaWRlci1jb25zdHJ1Y3RvciAucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fc2VjdG9yc1wiKS5vbihcInRvdWNoc3RhcnRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICB0b3VjaHN0YXJ0WCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnNjcmVlblg7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCIuc2xpZGVyLWNvbnN0cnVjdG9yIC5wcm9kdWN0LWNhcmQtc2xpZGVzaG93X19zZWN0b3JzXCIpLm9uKFwidG91Y2hlbmRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICB0b3VjaGVuZFggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5zY3JlZW5YO1xyXG4gICAgICAgICAgY29uc3QgcGFyZW50ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5wYXJlbnQoKTtcclxuICAgICAgICAgIGNvbnN0IGltZyA9IHBhcmVudC5maW5kKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKTtcclxuICAgICAgICAgIGNvbnN0IGlkID0gTnVtYmVyKGltZy5hdHRyKFwiZGF0YS1zZWN0b3ItaW1hZ2VcIikpO1xyXG4gICAgICAgICAgY29uc3QgbGVuZ3RoID0gcGFyZW50LmZpbmQoXCIucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VcIikubGVuZ3RoO1xyXG5cclxuICAgICAgICAgIGlmICh0b3VjaGVuZFggPCB0b3VjaHN0YXJ0WCkge1xyXG4gICAgICAgICAgICBwYXJlbnRcclxuICAgICAgICAgICAgLmZpbmQoXCIucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKTtcclxuICAgICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICAgIC5maW5kKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIilcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fZG90X2FjdGl2ZVwiKTtcclxuICAgICAgICAgICAgaWYgKGlkID49IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAgIHBhcmVudFxyXG4gICAgICAgICAgICAgIC5maW5kKGBbZGF0YS1zZWN0b3ItaW1hZ2U9XCIkezF9XCJdYClcclxuICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICAgICAgLmZpbmQoYFtkYXRhLXNlY3Rvci1kb3Q9XCIkezF9XCJdYClcclxuICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYXJlbnRcclxuICAgICAgICAgICAgLmZpbmQoYFtkYXRhLXNlY3Rvci1pbWFnZT1cIiR7aWQgKyAxfVwiXWApXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKTtcclxuICAgICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICAgIC5maW5kKGBbZGF0YS1zZWN0b3ItZG90PVwiJHtpZCArIDF9XCJdYClcclxuICAgICAgICAgICAgLmFkZENsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fZG90X2FjdGl2ZVwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICh0b3VjaGVuZFggPiB0b3VjaHN0YXJ0WCkge1xyXG4gICAgICAgICAgICBwYXJlbnRcclxuICAgICAgICAgICAgLmZpbmQoXCIucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKTtcclxuICAgICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICAgIC5maW5kKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIilcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fZG90X2FjdGl2ZVwiKTtcclxuICAgICAgICAgICAgaWYgKGlkIDw9IDEpIHtcclxuICAgICAgICAgICAgICBwYXJlbnRcclxuICAgICAgICAgICAgICAuZmluZChgW2RhdGEtc2VjdG9yLWltYWdlPVwiJHtsZW5ndGh9XCJdYClcclxuICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICAgICAgLmZpbmQoYFtkYXRhLXNlY3Rvci1kb3Q9XCIke2xlbmd0aH1cIl1gKVxyXG4gICAgICAgICAgICAgIC5hZGRDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhcmVudFxyXG4gICAgICAgICAgICAuZmluZChgW2RhdGEtc2VjdG9yLWltYWdlPVwiJHtpZCAtIDF9XCJdYClcclxuICAgICAgICAgICAgLmFkZENsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICBwYXJlbnRcclxuICAgICAgICAgICAgLmZpbmQoYFtkYXRhLXNlY3Rvci1kb3Q9XCIke2lkIC0gMX1cIl1gKVxyXG4gICAgICAgICAgICAuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm1vdW50ZWQgPSB0cnVlO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAga2V5OiBcInVubW91bnRcIixcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVubW91bnQoKSB7XHJcbiAgICAgICAgJCh0aGlzLmVsZW1lbnQpLnNsaWNrKFwidW5zbGlja1wiKTtcclxuICAgICAgICB0aGlzLm1vdW50ZWQgPSBmYWxzZTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgXSk7XHJcblxyXG4gIHJldHVybiBTbGlkZXJDb25zdHJ1Y3RvcjtcclxufSkoKTtcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAkKFwiLmNhdGFsb2ctZmlsdGVyLWFjY29yZGlvbiBhLm9wZW5lclwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoXCJ1bDpmaXJzdFwiKS5zbGlkZVRvZ2dsZSgpO1xyXG4gICAgJCh0aGlzKS5wYXJlbnQoKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9KTtcclxuXHJcbiAgJChcIltkYXRhLWV4cGFuZF1cIikub24oXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgIGNvbnN0IHRhcmdldCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XHJcbiAgICBjb25zdCBwYXJlbnQgPSB0YXJnZXQucGFyZW50KCk7XHJcbiAgICBwYXJlbnQuZmluZChcIltkYXRhLWNvbGxhcHNlLWNvbnRlbnRdXCIpLnJlbW92ZUNsYXNzKFwiZC1ub25lXCIpO1xyXG4gICAgcGFyZW50LmZpbmQoXCJbZGF0YS1jb2xsYXBzZV1cIikucmVtb3ZlQ2xhc3MoXCJkLW5vbmVcIik7XHJcbiAgICB0YXJnZXQuYWRkQ2xhc3MoXCJkLW5vbmVcIik7XHJcbiAgfSk7XHJcblxyXG4gICQoXCJbZGF0YS1jb2xsYXBzZV1cIikub24oXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgIGNvbnN0IHRhcmdldCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XHJcbiAgICBjb25zdCBwYXJlbnQgPSB0YXJnZXQucGFyZW50KCk7XHJcbiAgICBwYXJlbnQuZmluZChcIltkYXRhLWNvbGxhcHNlLWNvbnRlbnRdXCIpLmFkZENsYXNzKFwiZC1ub25lXCIpO1xyXG4gICAgcGFyZW50LmZpbmQoXCJbZGF0YS1leHBhbmRdXCIpLnJlbW92ZUNsYXNzKFwiZC1ub25lXCIpO1xyXG4gICAgdGFyZ2V0LmFkZENsYXNzKFwiZC1ub25lXCIpO1xyXG4gIH0pO1xyXG5cclxuICAkKFwiW2RhdGEtZXhwYW5kLW1lbnVdXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgJChcIi5tb2JpbGUtc2lkZS1tZW51X19iYWNrZ3JvdW5kXCIpLmFkZENsYXNzKFwiZC1ibG9ja1wiKTtcclxuICAgICQoXCIubW9iaWxlLXNpZGUtbWVudS1jb250ZW50XCIpLmFkZENsYXNzKFwibW9iaWxlLXNpZGUtbWVudS1jb250ZW50X2FjdGl2ZVwiKTtcclxuICB9KTtcclxuXHJcbiAgJChcIltkYXRhLWNvbGxhcHNlLW1lbnVdXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgJChcIi5tb2JpbGUtc2lkZS1tZW51X19iYWNrZ3JvdW5kXCIpLnJlbW92ZUNsYXNzKFwiZC1ibG9ja1wiKTtcclxuICAgICQoXCIubW9iaWxlLXNpZGUtbWVudS1jb250ZW50XCIpLnJlbW92ZUNsYXNzKFwibW9iaWxlLXNpZGUtbWVudS1jb250ZW50X2FjdGl2ZVwiKTtcclxuICAgICQoYFtkYXRhLW1lbnUtcGFnZV06bm90KDpmaXJzdC1jaGlsZClgKS5yZW1vdmVDbGFzcyhcIm1vYmlsZS1zaWRlLW1lbnUtY29udGVudF9fcGFnZV9hY3RpdmVcIik7XHJcbiAgfSk7XHJcblxyXG4gICQoXCJbZGF0YS1tZW51LXBhZ2UtZXhwYW5kXVwiKS5vbihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgY29uc3QgaWQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmF0dHIoXCJkYXRhLW1lbnUtcGFnZS1leHBhbmRcIik7XHJcbiAgICAkKGBbZGF0YS1tZW51LXBhZ2U9XCIke2lkfVwiXWApLmFkZENsYXNzKFwibW9iaWxlLXNpZGUtbWVudS1jb250ZW50X19wYWdlX2FjdGl2ZVwiKTtcclxuICB9KTtcclxuXHJcbiAgJChcIltkYXRhLW1lbnUtcGFnZS1jb2xsYXBzZV1cIikub24oXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgIGNvbnN0IGlkID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5hdHRyKFwiZGF0YS1tZW51LXBhZ2UtY29sbGFwc2VcIik7XHJcbiAgICAkKGBbZGF0YS1tZW51LXBhZ2U9XCIke2lkfVwiXWApLnJlbW92ZUNsYXNzKFwibW9iaWxlLXNpZGUtbWVudS1jb250ZW50X19wYWdlX2FjdGl2ZVwiKTtcclxuICB9KTtcclxuXHJcbiAgJChcIltkYXRhLW9wZW4tYm90dG9tLWRyb3Bkb3duXVwiKS5vbihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgJChcIi5ib3R0b20tbW9iaWxlLW1lbnUtbGlzdFwiKS50b2dnbGVDbGFzcyhcImJvdHRvbS1tb2JpbGUtbWVudS1saXN0X2FjdGl2ZVwiKTtcclxuICAgICQoZXZlbnQuY3VycmVudFRhcmdldCkudG9nZ2xlQ2xhc3MoXCJib3R0b20tbW9iaWxlLW1lbnUtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICB9KTtcclxuXHJcbiAgJChcIltkYXRhLWNsb3NlLXNlYXJjaC1tb2RhbF1cIikub24oXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAkKFwiLnNlYXJjaC1tb2RhbC13aW5kb3dcIikucmVtb3ZlQ2xhc3MoXCJkLWJsb2NrXCIpO1xyXG4gIH0pO1xyXG5cclxuICAkKFwiW2RhdGEtb3Blbi1zZWFyY2gtbW9kYWxdXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgJChcIi5zZWFyY2gtbW9kYWwtd2luZG93XCIpLmFkZENsYXNzKFwiZC1ibG9ja1wiKTtcclxuICB9KTtcclxuXHJcbiAgJChcIi5saWtlLWJ0blwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgfSk7XHJcbiAgJChcIi5jaXR5LXNlbGVjdGlvbl9fbGlua1wiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLmNpdHktc2VsZWN0aW9uX19saXN0XCIpLnRvZ2dsZSgwKTtcclxuICB9KTtcclxuICAkKHdpbmRvdykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgIGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2l0eS1zZWxlY3Rpb25fX2xpbmtcIikpIHtcclxuICAgICAgJChcIi5jaXR5LXNlbGVjdGlvbl9fbGlzdFwiKS50b2dnbGUoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gICQoXCIuYnVyZ2VyLW1lbnVcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIi5tb2JpbGUtbWVudVwiKS50b2dnbGUoMCk7XHJcbiAgfSk7XHJcbiAgJChcIi5jYXRhbG9nLWlubmVyLWJ0blwiKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcyhcIm9wZW5cIik7XHJcbiAgICAkKFwiLmNhdGFsb2ctaGVhZGVyLWNvbnRlbnRcIikudG9nZ2xlKDApO1xyXG4gIH0pO1xyXG4gICQoXCIuY2F0YWxvZy1pbm5lci1idG4sLmNhdGFsb2ctbWVudV9faGVhZCBhXCIpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKFwiLmNhdGFsb2ctbWVudVwiKS50b2dnbGUoMCk7XHJcbiAgfSk7XHJcbiAgJChcIi5idXJnZXItY2F0YWxvZ1wiKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcyhcIm9wZW5cIik7XHJcbiAgfSk7XHJcbiAgJChcIi5zaGFyZS1idG5cIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIi5zaGFyZS1ibG9ja19fc2hvd1wiKS50b2dnbGUoMCk7XHJcbiAgfSk7XHJcbiAgJChcIi5jbG9zZS1wYW5lbFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLmJvdHRvbS1wYW5lbFwiKS50b2dnbGUoMCk7XHJcbiAgfSk7XHJcbiAgJChcIi5maWx0ZXItYnRuLCAuY2xvc2UtYnRuLTJcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIi5jYXRhbG9nLWZpbHRlclwiKS50b2dnbGUoMCk7XHJcbiAgfSk7XHJcbiAgJChcIi5jYXRhbG9nLXNpZGVfX3RpdGxlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICQoXCIuY2F0YWxvZy1zaWRlX19jb250ZW50XCIpLnRvZ2dsZSgwKTtcclxuICAgICQoXCIuY2F0YWxvZy1zaWRlX19jb250ZW50LWFjY29yZGVvblwiKS50b2dnbGUoMCk7XHJcbiAgfSk7XHJcbiAgJChcIi5jYXRhbG9nLW9wZW5lZFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLmNhdGFsb2ctb3BlbmVkIC5zdWJtZW51XCIpLnRvZ2dsZSgwKTtcclxuICB9KTtcclxuICAkKFwiLmJ1cmdlci1tZW51XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoXCJtZW51LW9uXCIpO1xyXG4gIH0pO1xyXG4gICQoXCIuY2F0YWxvZy1pbm5lclwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKFwib3BlblwiKTtcclxuICAgICQoXCIuY2F0YWxvZy1pbm5lci1jb250ZW50XCIpLnRvZ2dsZSgwKTtcclxuICB9KTtcclxufSk7XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAvLyBUaGlzIHdpbGwgc2VsZWN0IGV2ZXJ5dGhpbmcgd2l0aCB0aGUgY2xhc3Mgc21vb3RoU2Nyb2xsXHJcbiAgLy8gVGhpcyBzaG91bGQgcHJldmVudCBwcm9ibGVtcyB3aXRoIGNhcm91c2VsLCBzY3JvbGxzcHksIGV0Yy4uLlxyXG4gICQoXCIuc21vb3RoU2Nyb2xsXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChcclxuICAgICAgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXlxcLy8sIFwiXCIpID09IHRoaXMucGF0aG5hbWUucmVwbGFjZSgvXlxcLy8sIFwiXCIpICYmXHJcbiAgICAgIGxvY2F0aW9uLmhvc3RuYW1lID09IHRoaXMuaG9zdG5hbWVcclxuICAgICkge1xyXG4gICAgICB2YXIgdGFyZ2V0ID0gJCh0aGlzLmhhc2gpO1xyXG4gICAgICB0YXJnZXQgPSB0YXJnZXQubGVuZ3RoID8gdGFyZ2V0IDogJChcIltuYW1lPVwiICsgdGhpcy5oYXNoLnNsaWNlKDEpICsgXCJdXCIpO1xyXG5cclxuICAgICAgaWYgKHRhcmdldC5sZW5ndGgpIHtcclxuICAgICAgICAkKFwiaHRtbCxib2R5XCIpLmFuaW1hdGUoXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIHNjcm9sbFRvcDogdGFyZ2V0Lm9mZnNldCgpLnRvcCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICAxMDAwXHJcbiAgICAgICAgKTsgLy8gVGhlIG51bWJlciBoZXJlIHJlcHJlc2VudHMgdGhlIHNwZWVkIG9mIHRoZSBzY3JvbGwgaW4gbWlsbGlzZWNvbmRzXHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxuXHJcbnZhciBiaWdTbGlkZXMgPSAkKFwiLm1haW4tc2xpZGVyIC5vd2wtY2Fyb3VzZWxcIiksXHJcbiAgYXV0b1BsYXlUaW1lb3V0U2VjID0gcGFyc2VJbnQoYmlnU2xpZGVzLmRhdGEoXCJhdXRvcGxheS10aW1lb3V0XCIpKTtcclxuYmlnU2xpZGVzLm93bENhcm91c2VsKHtcclxuICBsb29wOiB0cnVlLFxyXG4gIG1hcmdpbjogNSxcclxuICBuYXY6IHRydWUsXHJcbiAgZG90czogdHJ1ZSxcclxuICBpdGVtczogMSxcclxuICBhdXRvcGxheTogdHJ1ZSxcclxuICBhdXRvcGxheVRpbWVvdXQ6IGF1dG9QbGF5VGltZW91dFNlYyAqIDEwMDAsXHJcbiAgbmF2VGV4dDogW1xyXG4gICAgJzxzdmcgY2xhc3M9XCJpY29uXCIgdmlld0JveD1cIjAgMCAxMC41IDE4LjFcIj48cGF0aCBzdHJva2U9XCJub25lXCIgZD1cIk05LDBsMS40LDEuNEwyLjgsOWw3LjYsNy42TDksMTguMUwwLDlDMCw5LDkuMSwwLDksMHpcIj48L3BhdGg+PC9zdmc+JyxcclxuICAgICc8c3ZnIGNsYXNzPVwiaWNvblwiIHZpZXdCb3g9XCIwIDAgMTAuNSAxOC4xXCI+PHBhdGggc3Ryb2tlPVwibm9uZVwiIGQ9XCJNMS40LDE4LjFMMCwxNi43bDcuNi03LjZMMCwxLjVMMS40LDBsOSw5LjFDMTAuNCw5LjEsMS4zLDE4LjEsMS40LDE4LjF6XCI+PC9wYXRoPjwvc3ZnPicsXHJcbiAgXSxcclxufSk7XHJcbnZhciByYWRpb0J1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGVsaXZlcnktc2VsZWN0aW9uIGlucHV0W3R5cGU9XCJyYWRpb1wiXScpO1xyXG52YXIgY2hvaWNlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZGVsaXZlcnktY2hvaWNlXCIpO1xyXG5yYWRpb0J1dHRvbnMuZm9yRWFjaChmdW5jdGlvbiAoYnRuKSB7XHJcbiAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGNsaWNrZWQgPSB0aGlzO1xyXG4gICAgY2hvaWNlcy5mb3JFYWNoKGZ1bmN0aW9uIChjaG9pY2UpIHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGNob2ljZS5jbGFzc0xpc3QuY29udGFpbnMoY2xpY2tlZC5pZCkgfHxcclxuICAgICAgICBjaG9pY2UuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGVsaXZlcnktdHlwZS1cIiArIGNsaWNrZWQudmFsdWUpXHJcbiAgICAgICkge1xyXG4gICAgICAgIGNob2ljZS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNob2ljZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuJChcIi5zaG9wcGluZy1jYXJ0LWl0ZW1fX2RlbGV0ZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgJCh0aGlzKS5wYXJlbnQoXCIuc2hvcHBpbmctY2FydC1pdGVtXCIpLnJlbW92ZSgpO1xyXG59KTtcclxuJChcIi5zbGlkZXIgLm93bC1jYXJvdXNlbFwiKS5vd2xDYXJvdXNlbCh7XHJcbiAgbG9vcDogdHJ1ZSxcclxuICBtYXJnaW46IDAsXHJcbiAgaXRlbXM6IDEsXHJcbiAgbmF2OiB0cnVlLFxyXG59KTtcclxuJChcIi5uZXdzLXNsaWRlciAub3dsLWNhcm91c2VsXCIpLm93bENhcm91c2VsKHtcclxuICBsb29wOiB0cnVlLFxyXG4gIG1hcmdpbjogMCxcclxuICBpdGVtczogNCxcclxuICByZXNwb25zaXZlOiB7XHJcbiAgICAwOiB7XHJcbiAgICAgIG5hdjogZmFsc2UsXHJcbiAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgIGl0ZW1zOiAxLFxyXG4gICAgfSxcclxuICAgIDQ3OToge1xyXG4gICAgICBuYXY6IGZhbHNlLFxyXG4gICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICBpdGVtczogMixcclxuICAgIH0sXHJcbiAgICA3Njg6IHtcclxuICAgICAgbmF2OiB0cnVlLFxyXG4gICAgICBkb3RzOiBmYWxzZSxcclxuICAgICAgaXRlbXM6IDMsXHJcbiAgICB9LFxyXG4gICAgOTkyOiB7XHJcbiAgICAgIGl0ZW1zOiA0LFxyXG4gICAgfSxcclxuICB9LFxyXG59KTtcclxuJChcIi5hY3Rpb24tc2xpZGVyIC5vd2wtY2Fyb3VzZWxcIikub3dsQ2Fyb3VzZWwoe1xyXG4gIGxvb3A6IHRydWUsXHJcbiAgbWFyZ2luOiAyMCxcclxuICBuYXY6IHRydWUsXHJcbiAgZG90czogZmFsc2UsXHJcbiAgaXRlbXM6IDMsXHJcbiAgcmVzcG9uc2l2ZToge1xyXG4gICAgMDoge1xyXG4gICAgICBuYXY6IGZhbHNlLFxyXG4gICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICBpdGVtczogMSxcclxuICAgIH0sXHJcbiAgICA0Nzk6IHtcclxuICAgICAgbmF2OiBmYWxzZSxcclxuICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgaXRlbXM6IDIsXHJcbiAgICB9LFxyXG4gICAgNzY4OiB7XHJcbiAgICAgIG5hdjogdHJ1ZSxcclxuICAgICAgZG90czogZmFsc2UsXHJcbiAgICAgIGl0ZW1zOiAzLFxyXG4gICAgfSxcclxuICB9LFxyXG59KTtcclxuJChcIi5wYXJ0bmVycy1zbGlkZXIgLm93bC1jYXJvdXNlbFwiKS5vd2xDYXJvdXNlbCh7XHJcbiAgbG9vcDogdHJ1ZSxcclxuICBtYXJnaW46IDAsXHJcbiAgbmF2OiB0cnVlLFxyXG4gIGRvdHM6IGZhbHNlLFxyXG4gIGl0ZW1zOiA1LFxyXG4gIHJlc3BvbnNpdmU6IHtcclxuICAgIDA6IHtcclxuICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgbmF2OiBmYWxzZSxcclxuICAgICAgaXRlbXM6IDEsXHJcbiAgICB9LFxyXG4gICAgNTY2OiB7XHJcbiAgICAgIG5hdjogZmFsc2UsXHJcbiAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgIGl0ZW1zOiAyLFxyXG4gICAgfSxcclxuICAgIDc2ODoge1xyXG4gICAgICBuYXY6IGZhbHNlLFxyXG4gICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICBpdGVtczogMyxcclxuICAgIH0sXHJcbiAgICA5MDA6IHtcclxuICAgICAgbmF2OiBmYWxzZSxcclxuICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgaXRlbXM6IDQsXHJcbiAgICB9LFxyXG4gICAgOTUwOiB7XHJcbiAgICAgIGRvdHM6IGZhbHNlLFxyXG4gICAgfSxcclxuICB9LFxyXG59KTtcclxuXHJcbihmdW5jdGlvbiAoJCkge1xyXG4gIHZhciBjdXN0b21TZWxlY3QgPSAkKFwic2VsZWN0LmN1c3RvbS1zZWxlY3RcIik7IC8vIEZJUlNULCBjcmVhdGUgdGhlIGN1c3RvbSBzZWxlY3QgbWVudXMgZnJvbSB0aGUgZXhpc3Rpbmcgc2VsZWN0XHJcblxyXG4gIGN1c3RvbVNlbGVjdC5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB0aGF0ID0gJCh0aGlzKTtcclxuICAgIHZhciBsaXN0SUQgPSB0aGF0LmF0dHIoXCJpZFwiKSxcclxuICAgICAgZ3JvdXBzID0gdGhhdC5jaGlsZHJlbihcIm9wdGdyb3VwXCIpLFxyXG4gICAgICB0aGVPcHRpb25zID0gXCJcIixcclxuICAgICAgc3RhcnRpbmdPcHRpb24gPSBcIlwiLFxyXG4gICAgICBjdXN0b21TZWxlY3QgPSBcIlwiOyAvL2NoZWNrIGlmIHRoZXJlIGFyZSBvcHRpb24gZ3JvdXBzXHJcblxyXG4gICAgaWYgKGdyb3Vwcy5sZW5ndGgpIHtcclxuICAgICAgZ3JvdXBzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjdXJHcm91cCA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIGN1ck5hbWUgPSBjdXJHcm91cC5hdHRyKFwibGFiZWxcIik7IC8vT3BlbiB0aGUgb3B0aW9uIGdyb3VwXHJcblxyXG4gICAgICAgIHRoZU9wdGlvbnMgKz0gJzxsaSBjbGFzcz1cIm9wdGdyb3VwXCI+JyArIGN1ck5hbWUgKyBcIjwvbGk+XCI7IC8vZ2V0IHRoZSBvcHRpb25zXHJcblxyXG4gICAgICAgIGN1ckdyb3VwLmNoaWxkcmVuKFwib3B0aW9uXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgdmFyIGN1ck9wdCA9ICQodGhpcyk7XHJcbiAgICAgICAgICB2YXIgY3VyVmFsID0gY3VyT3B0LmF0dHIoXCJ2YWx1ZVwiKSxcclxuICAgICAgICAgICAgY3VySHRtbCA9IGN1ck9wdC5odG1sKCksXHJcbiAgICAgICAgICAgIGlzU2VsZWN0ZWQgPSBjdXJPcHQuYXR0cihcInNlbGVjdGVkXCIpO1xyXG5cclxuICAgICAgICAgIGlmIChpc1NlbGVjdGVkID09PSBcInNlbGVjdGVkXCIpIHtcclxuICAgICAgICAgICAgc3RhcnRpbmdPcHRpb24gPSBjdXJIdG1sO1xyXG4gICAgICAgICAgICB0aGVPcHRpb25zICs9ICc8bGkgY2xhc3M9XCJzZWxlY3RlZFwiIGRhdGEtdmFsdWU9XCInICsgY3VyVmFsICsgJ1wiPicgKyBjdXJIdG1sICsgXCI8L2xpPlwiO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhlT3B0aW9ucyArPSAnPGxpIGRhdGEtdmFsdWU9XCInICsgY3VyVmFsICsgJ1wiPicgKyBjdXJIdG1sICsgXCI8L2xpPlwiO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pOyAvL0Nsb3NlIHRoZSBvcHRpb24gZ3JvdXBcclxuICAgICAgICAvL3RoZU9wdGlvbnMgKz0gJzxsaSBjbGFzcz1cIm9wdGdyb3VwLWNsb3NlXCI+PC9saT4nO1xyXG4gICAgICB9KTsgLy9hZGQgb3B0aW9ucyBub3QgaW4gYSBncm91cCB0byB0aGUgdG9wIG9mIHRoZSBsaXN0XHJcblxyXG4gICAgICB0aGF0LmNoaWxkcmVuKFwib3B0aW9uXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjdXJPcHQgPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciBjdXJWYWwgPSBjdXJPcHQuYXR0cihcInZhbHVlXCIpLFxyXG4gICAgICAgICAgY3VySHRtbCA9IGN1ck9wdC5odG1sKCksXHJcbiAgICAgICAgICBpc1NlbGVjdGVkID0gY3VyT3B0LmF0dHIoXCJzZWxlY3RlZFwiKTtcclxuXHJcbiAgICAgICAgaWYgKGlzU2VsZWN0ZWQgPT09IFwic2VsZWN0ZWRcIikge1xyXG4gICAgICAgICAgc3RhcnRpbmdPcHRpb24gPSBjdXJIdG1sO1xyXG4gICAgICAgICAgdGhlT3B0aW9ucyA9XHJcbiAgICAgICAgICAgICc8bGkgY2xhc3M9XCJzZWxlY3RlZFwiIGRhdGEtdmFsdWU9XCInICsgY3VyVmFsICsgJ1wiPicgKyBjdXJIdG1sICsgXCI8L2xpPlwiICsgdGhlT3B0aW9ucztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhlT3B0aW9ucyA9ICc8bGkgZGF0YS12YWx1ZT1cIicgKyBjdXJWYWwgKyAnXCI+JyArIGN1ckh0bWwgKyBcIjwvbGk+XCIgKyB0aGVPcHRpb25zO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGF0LmNoaWxkcmVuKFwib3B0aW9uXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjdXJPcHQgPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciBjdXJWYWwgPSBjdXJPcHQuYXR0cihcInZhbHVlXCIpLFxyXG4gICAgICAgICAgY3VySHRtbCA9IGN1ck9wdC5odG1sKCksXHJcbiAgICAgICAgICBpc1NlbGVjdGVkID0gY3VyT3B0LmF0dHIoXCJzZWxlY3RlZFwiKTtcclxuXHJcbiAgICAgICAgaWYgKGlzU2VsZWN0ZWQgPT09IFwic2VsZWN0ZWRcIikge1xyXG4gICAgICAgICAgc3RhcnRpbmdPcHRpb24gPSBjdXJIdG1sO1xyXG4gICAgICAgICAgdGhlT3B0aW9ucyArPSAnPGxpIGNsYXNzPVwic2VsZWN0ZWRcIiBkYXRhLXZhbHVlPVwiJyArIGN1clZhbCArICdcIj4nICsgY3VySHRtbCArIFwiPC9saT5cIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhlT3B0aW9ucyArPSAnPGxpIGRhdGEtdmFsdWU9XCInICsgY3VyVmFsICsgJ1wiPicgKyBjdXJIdG1sICsgXCI8L2xpPlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IC8vYnVpbGQgdGhlIGN1c3RvbSBzZWxlY3RcclxuXHJcbiAgICBjdXN0b21TZWxlY3QgPVxyXG4gICAgICAnPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRhaW5lclwiPjxkaXYgY2xhc3M9XCJkcm9wZG93bi1zZWxlY3QgZW50eXBvLWRvd24tb3Blbi1iaWdcIj48c3ZnIGNsYXNzPVwiaWNvblwiPjx1c2UgeGxpbms6aHJlZj1cIiN0YWItYXJyb3dcIj48L3VzZT48L3N2Zz48c3Bhbj4nICtcclxuICAgICAgc3RhcnRpbmdPcHRpb24gK1xyXG4gICAgICAnPC9zcGFuPjwvZGl2Pjx1bCBjbGFzcz1cImRyb3Bkb3duLXNlbGVjdC11bFwiIGRhdGEtcm9sZT1cIicgK1xyXG4gICAgICBsaXN0SUQgK1xyXG4gICAgICAnXCI+JyArXHJcbiAgICAgIHRoZU9wdGlvbnMgK1xyXG4gICAgICBcIjwvdWw+PC9kaXY+IDwhLS0gLmN1c3RvbS1zZWxlY3Qtd3JhcHBlciAtLT5cIjsgLy9hcHBlbmQgaXQgYWZ0ZXIgdGhlIGFjdHVhbCBzZWxlY3RcclxuXHJcbiAgICAkKGN1c3RvbVNlbGVjdCkuaW5zZXJ0QWZ0ZXIodGhhdCk7XHJcbiAgfSk7XHJcbiAgdmFyIHNlbGVjdGRkID0gJChcIi5kcm9wZG93bi1zZWxlY3RcIiksXHJcbiAgICBzZWxlY3R1bCA9ICQoXCIuZHJvcGRvd24tc2VsZWN0LXVsXCIpLFxyXG4gICAgc2VsZWN0bGkgPSAkKFwiLmRyb3Bkb3duLXNlbGVjdC11bCBsaVwiKTsgLy9USEVOIG1ha2UgdGhlbSB3b3JrXHJcblxyXG4gIHNlbGVjdGRkLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgJCh0aGlzKS5wYXJlbnQoXCIuZHJvcGRvd24tY29udGFpbmVyXCIpLnRvZ2dsZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gIH0pOyAvL0hpZGUgaXQgb24gbW91c2VsZWF2ZVxyXG5cclxuICBzZWxlY3R1bC5vbihcIm1vdXNlbGVhdmVcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgJCh0aGlzKS5wYXJlbnQoXCIuZHJvcGRvd24tY29udGFpbmVyXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gIH0pOyAvL3NlbGVjdCB0aGUgb3B0aW9uXHJcblxyXG4gIHNlbGVjdGxpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHRoYXQgPSAkKHRoaXMpOyAvL2Vuc3VyZSBjbGlja2luZyBncm91cCBsYWJlbHMgZG9lcyBub3QgY2F1c2UgY2hhbmdlXHJcblxyXG4gICAgaWYgKCF0aGF0Lmhhc0NsYXNzKFwib3B0Z3JvdXBcIikpIHtcclxuICAgICAgdmFyIHBhcmVudFVsID0gdGhhdC5wYXJlbnQoXCJ1bFwiKSxcclxuICAgICAgICB0aGlzZGQgPSBwYXJlbnRVbC5zaWJsaW5ncyhcIi5kcm9wZG93bi1zZWxlY3RcIiksXHJcbiAgICAgICAgbGlodG1sID0gdGhhdC5odG1sKCksXHJcbiAgICAgICAgbGl2YWx1ZSA9IHRoYXQuYXR0cihcImRhdGEtdmFsdWVcIiksXHJcbiAgICAgICAgb3JpZ2luYWxTZWxlY3QgPSBcIiNcIiArIHBhcmVudFVsLmF0dHIoXCJkYXRhLXJvbGVcIik7IC8vY2xvc2UgdGhlIGRyb3Bkb3duXHJcblxyXG4gICAgICBwYXJlbnRVbC5wYXJlbnQoXCIuZHJvcGRvd24tY29udGFpbmVyXCIpLnRvZ2dsZUNsYXNzKFwiYWN0aXZlXCIpOyAvL3JlbW92ZSBzZWxlY3RlZCBjbGFzcyBmcm9tIGFsbCBsaXN0IGl0ZW1zXHJcblxyXG4gICAgICB0aGF0LnNpYmxpbmdzKFwibGlcIikucmVtb3ZlQ2xhc3MoXCJzZWxlY3RlZFwiKTsgLy9hZGQgLnNlbGVjdGVkIHRvIGNsaWNrZWQgbGlcclxuXHJcbiAgICAgIHRoYXQuYWRkQ2xhc3MoXCJzZWxlY3RlZFwiKTsgLy9zZXQgdGhlIHZhbHVlIG9mIHRoZSBoaWRkZW4gaW5wdXRcclxuXHJcbiAgICAgICQob3JpZ2luYWxTZWxlY3QpLnZhbChsaXZhbHVlKTsgLy9jaGFuZ2UgdGhlIGRyb3Bkb3duIHRleHRcclxuXHJcbiAgICAgIHRoaXNkZC5jaGlsZHJlbihcInNwYW5cIikuaHRtbChsaWh0bWwpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KShqUXVlcnkpO1xyXG5cclxuJChcIi50YWItY29udGVudFwiKS5oaWRlKCk7XHJcbiQoXCIudGFiLWNvbnRlbnQ6Zmlyc3RcIikuc2hvdygpO1xyXG4vKiBpZiBpbiB0YWIgbW9kZSAqL1xyXG5cclxuJChcInVsLnRhYnMgbGksLnByb2R1Y3QtY2FyZF9fcmV2aWV3LWxpbmsgYSwuc2NoZWR1bGUtYnRuIGFcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICQoXCIudGFiLWNvbnRlbnRcIikuaGlkZSgpO1xyXG4gIHZhciBhY3RpdmVUYWIgPSAkKHRoaXMpLmF0dHIoXCJyZWxcIik7XHJcbiAgJChcIiNcIiArIGFjdGl2ZVRhYikuZmFkZUluKCk7XHJcbiAgJChcInVsLnRhYnMgbGlcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgJCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAkKFwiLnRhYl9kcmF3ZXJfaGVhZGluZ1wiKS5yZW1vdmVDbGFzcyhcImRfYWN0aXZlXCIpO1xyXG4gICQoXCIudGFiX2RyYXdlcl9oZWFkaW5nW3JlbF49J1wiICsgYWN0aXZlVGFiICsgXCInXVwiKS5hZGRDbGFzcyhcImRfYWN0aXZlXCIpO1xyXG59KTtcclxuLyogaWYgaW4gZHJhd2VyIG1vZGUgKi9cclxuXHJcbiQoXCIudGFiX2RyYXdlcl9oZWFkaW5nXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICB2YXIgZF9hY3RpdmVUYWIgPSAkKHRoaXMpLmF0dHIoXCJyZWxcIiksXHJcbiAgICBhY3RpdmVUYWJCbG9jayA9ICQoXCIjXCIgKyBkX2FjdGl2ZVRhYiArIFwiOmhpZGRlblwiKSxcclxuICAgICR0aGlzQWN0aXZlID0gJCh0aGlzKS5ub3QoXCIuZF9hY3RpdmVcIik7XHJcbiAgJChcIi50YWItY29udGVudFwiKS5oaWRlKCk7XHJcbiAgYWN0aXZlVGFiQmxvY2suZmFkZUluKCk7XHJcbiAgJChcIi50YWJfZHJhd2VyX2hlYWRpbmdcIikucmVtb3ZlQ2xhc3MoXCJkX2FjdGl2ZVwiKTtcclxuICAkdGhpc0FjdGl2ZS5hZGRDbGFzcyhcImRfYWN0aXZlXCIpO1xyXG4gICQoXCJ1bC50YWJzIGxpXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICQoXCJ1bC50YWJzIGxpW3JlbF49J1wiICsgZF9hY3RpdmVUYWIgKyBcIiddXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG59KTtcclxuLyogRXh0cmEgY2xhc3MgXCJ0YWJfbGFzdFwiXHJcbiB0byBhZGQgYm9yZGVyIHRvIHJpZ2h0IHNpZGVcclxuIG9mIGxhc3QgdGFiICovXHJcblxyXG4kKFwidWwudGFicyBsaVwiKS5sYXN0KCkuYWRkQ2xhc3MoXCJ0YWJfbGFzdFwiKTtcclxualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgalF1ZXJ5KFwiLnNjaGVkdWxlLWJ0biBhXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIGpRdWVyeShcIi5zY2hlZHVsZS1saW5rXCIpLnRvZ2dsZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gIH0pO1xyXG59KTtcclxualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgalF1ZXJ5KFwiLnByb2R1Y3QtY2FyZF9fcmV2aWV3LWxpbmsgYVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBqUXVlcnkoXCIucmV2aWV3LXRhYi1saW5rXCIpLnRvZ2dsZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gIH0pO1xyXG59KTsgLy9zbGlkZXNob3dcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICB2YXIgc3luYzEgPSAkKFwiI3N5bmMxXCIpO1xyXG4gIHZhciBzeW5jMiA9ICQoXCIjc3luYzJcIik7XHJcbiAgdmFyIHNsaWRlc1BlclBhZ2UgPSAzOyAvL2dsb2JhbHkgZGVmaW5lIG51bWJlciBvZiBlbGVtZW50cyBwZXIgcGFnZVxyXG5cclxuICB2YXIgc3luY2VkU2Vjb25kYXJ5ID0gdHJ1ZTtcclxuICBzeW5jMVxyXG4gIC5vd2xDYXJvdXNlbCh7XHJcbiAgICBpdGVtczogMSxcclxuICAgIHNsaWRlU3BlZWQ6IDIwMDAsXHJcbiAgICBuYXY6IHRydWUsXHJcbiAgICBhdXRvcGxheTogZmFsc2UsXHJcbiAgICBkb3RzOiB0cnVlLFxyXG4gICAgbG9vcDogdHJ1ZSxcclxuICAgIHJlc3BvbnNpdmVSZWZyZXNoUmF0ZTogMjAwLFxyXG4gICAgbWFyZ2luOiAxMCxcclxuICB9KVxyXG4gIC5vbihcImNoYW5nZWQub3dsLmNhcm91c2VsXCIsIHN5bmNQb3NpdGlvbik7XHJcbiAgc3luYzJcclxuICAub24oXCJpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWxcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgc3luYzIuZmluZChcIi5vd2wtaXRlbVwiKS5lcSgwKS5hZGRDbGFzcyhcImN1cnJlbnRcIik7XHJcbiAgfSlcclxuICAub3dsQ2Fyb3VzZWwoe1xyXG4gICAgaXRlbXM6IHNsaWRlc1BlclBhZ2UsXHJcbiAgICBkb3RzOiB0cnVlLFxyXG4gICAgbmF2OiB0cnVlLFxyXG4gICAgbWFyZ2luOiAxMCxcclxuICAgIHNtYXJ0U3BlZWQ6IDIwMCxcclxuICAgIHNsaWRlU3BlZWQ6IDUwMCxcclxuICAgIHNsaWRlQnk6IHNsaWRlc1BlclBhZ2UsXHJcbiAgICAvL2FsdGVybmF0aXZlbHkgeW91IGNhbiBzbGlkZSBieSAxLCB0aGlzIHdheSB0aGUgYWN0aXZlIHNsaWRlIHdpbGwgc3RpY2sgdG8gdGhlIGZpcnN0IGl0ZW0gaW4gdGhlIHNlY29uZCBjYXJvdXNlbFxyXG4gICAgcmVzcG9uc2l2ZVJlZnJlc2hSYXRlOiAxMDAsXHJcbiAgfSlcclxuICAub24oXCJjaGFuZ2VkLm93bC5jYXJvdXNlbFwiLCBzeW5jUG9zaXRpb24yKTtcclxuXHJcbiAgZnVuY3Rpb24gc3luY1Bvc2l0aW9uKGVsKSB7XHJcbiAgICAvL2lmIHlvdSBzZXQgbG9vcCB0byBmYWxzZSwgeW91IGhhdmUgdG8gcmVzdG9yZSB0aGlzIG5leHQgbGluZVxyXG4gICAgLy92YXIgY3VycmVudCA9IGVsLml0ZW0uaW5kZXg7XHJcbiAgICAvL2lmIHlvdSBkaXNhYmxlIGxvb3AgeW91IGhhdmUgdG8gY29tbWVudCB0aGlzIGJsb2NrXHJcbiAgICB2YXIgY291bnQgPSBlbC5pdGVtLmNvdW50IC0gMTtcclxuICAgIHZhciBjdXJyZW50ID0gTWF0aC5yb3VuZChlbC5pdGVtLmluZGV4IC0gZWwuaXRlbS5jb3VudCAvIDIgLSAwLjUpO1xyXG5cclxuICAgIGlmIChjdXJyZW50IDwgMCkge1xyXG4gICAgICBjdXJyZW50ID0gY291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGN1cnJlbnQgPiBjb3VudCkge1xyXG4gICAgICBjdXJyZW50ID0gMDtcclxuICAgIH0gLy9lbmQgYmxvY2tcclxuXHJcbiAgICBzeW5jMi5maW5kKFwiLm93bC1pdGVtXCIpLnJlbW92ZUNsYXNzKFwiY3VycmVudFwiKS5lcShjdXJyZW50KS5hZGRDbGFzcyhcImN1cnJlbnRcIik7XHJcbiAgICB2YXIgb25zY3JlZW4gPSBzeW5jMi5maW5kKFwiLm93bC1pdGVtLmFjdGl2ZVwiKS5sZW5ndGggLSAxO1xyXG4gICAgdmFyIHN0YXJ0ID0gc3luYzIuZmluZChcIi5vd2wtaXRlbS5hY3RpdmVcIikuZmlyc3QoKS5pbmRleCgpO1xyXG4gICAgdmFyIGVuZCA9IHN5bmMyLmZpbmQoXCIub3dsLWl0ZW0uYWN0aXZlXCIpLmxhc3QoKS5pbmRleCgpO1xyXG5cclxuICAgIGlmIChjdXJyZW50ID4gZW5kKSB7XHJcbiAgICAgIHN5bmMyLmRhdGEoXCJvd2wuY2Fyb3VzZWxcIikudG8oY3VycmVudCwgMTAwLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VycmVudCA8IHN0YXJ0KSB7XHJcbiAgICAgIHN5bmMyLmRhdGEoXCJvd2wuY2Fyb3VzZWxcIikudG8oY3VycmVudCAtIG9uc2NyZWVuLCAxMDAsIHRydWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc3luY1Bvc2l0aW9uMihlbCkge1xyXG4gICAgaWYgKHN5bmNlZFNlY29uZGFyeSkge1xyXG4gICAgICB2YXIgbnVtYmVyID0gZWwuaXRlbS5pbmRleDtcclxuICAgICAgc3luYzEuZGF0YShcIm93bC5jYXJvdXNlbFwiKS50byhudW1iZXIsIDEwMCwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzeW5jMi5vbihcImNsaWNrXCIsIFwiLm93bC1pdGVtXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB2YXIgbnVtYmVyID0gJCh0aGlzKS5pbmRleCgpO1xyXG4gICAgc3luYzEuZGF0YShcIm93bC5jYXJvdXNlbFwiKS50byhudW1iZXIsIDMwMCwgdHJ1ZSk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuKCgpID0+IHtcclxuICBjb25zdCBidXR0b25EZWZhdWx0VmlldyA9ICQoXCIuYnV0dG9uMVwiKTtcclxuICBjb25zdCBidXR0b25XaWRlVmlldyA9ICQoXCIuYnV0dG9uMlwiKTtcclxuICBjb25zdCBidXR0b25MaW5lVmlldyA9ICQoXCIuYnV0dG9uM1wiKTtcclxuICBjb25zdCBpdGVtcyA9ICQoXCIucHJvZHVjdC1pdGVtXCIpO1xyXG5cclxuICBidXR0b25XaWRlVmlldy5jbGljaygoZXZlbnQpID0+IHtcclxuICAgIGJ1dHRvbkRlZmF1bHRWaWV3LnJlbW92ZUNsYXNzKFwiY3VycmVudFwiKTtcclxuICAgIGJ1dHRvbkxpbmVWaWV3LnJlbW92ZUNsYXNzKFwiY3VycmVudFwiKTtcclxuICAgICQoZXZlbnQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoXCJjdXJyZW50XCIpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjYXRhbG9nR3JpZFwiLCBcIndpZGVcIik7XHJcbiAgICBpdGVtcy5yZW1vdmVDbGFzcyhcInByb2R1Y3QtaXRlbS0tbGluZVwiKTtcclxuICAgIGl0ZW1zLmFkZENsYXNzKFwicHJvZHVjdC1pdGVtLS13aWRlXCIpO1xyXG4gIH0pO1xyXG5cclxuICBidXR0b25MaW5lVmlldy5jbGljaygoZXZlbnQpID0+IHtcclxuICAgIGJ1dHRvbldpZGVWaWV3LnJlbW92ZUNsYXNzKFwiY3VycmVudFwiKTtcclxuICAgIGJ1dHRvbkRlZmF1bHRWaWV3LnJlbW92ZUNsYXNzKFwiY3VycmVudFwiKTtcclxuICAgICQoZXZlbnQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoXCJjdXJyZW50XCIpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjYXRhbG9nR3JpZFwiLCBcIndpZGVcIik7XHJcbiAgICBpdGVtcy5yZW1vdmVDbGFzcyhcInByb2R1Y3QtaXRlbS0td2lkZVwiKTtcclxuICAgIGl0ZW1zLmFkZENsYXNzKFwicHJvZHVjdC1pdGVtLS1saW5lXCIpO1xyXG4gIH0pO1xyXG5cclxuICBidXR0b25EZWZhdWx0Vmlldy5jbGljaygoZXZlbnQpID0+IHtcclxuICAgIGJ1dHRvbldpZGVWaWV3LnJlbW92ZUNsYXNzKFwiY3VycmVudFwiKTtcclxuICAgIGJ1dHRvbkxpbmVWaWV3LnJlbW92ZUNsYXNzKFwiY3VycmVudFwiKTtcclxuICAgICQoZXZlbnQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoXCJjdXJyZW50XCIpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjYXRhbG9nR3JpZFwiLCBcImRlZmF1bHRcIik7XHJcbiAgICBpdGVtcy5yZW1vdmVDbGFzcyhcInByb2R1Y3QtaXRlbS0td2lkZVwiKTtcclxuICAgIGl0ZW1zLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1pdGVtLS1saW5lXCIpO1xyXG4gIH0pO1xyXG59KSgpO1xyXG5cclxudmFyIGtleXByZXNzU2xpZGVycyA9ICQoXCIucmFuZ2Utc2xpZGVyXCIpO1xyXG4kKGtleXByZXNzU2xpZGVycykuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGtleXByZXNzU2xpZGVyKSB7XHJcbiAgdmFyIGZpZWxkX25hbWUgPSAkKGtleXByZXNzU2xpZGVyKS5kYXRhKFwibmFtZVwiKTtcclxuICB2YXIgaW5wdXQwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpZF9cIiArIGZpZWxkX25hbWUgKyBcIl8wXCIpO1xyXG4gIHZhciBpbnB1dDEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlkX1wiICsgZmllbGRfbmFtZSArIFwiXzFcIik7XHJcbiAgdmFyIGlucHV0cyA9IFtpbnB1dDAsIGlucHV0MV07XHJcblxyXG4gIGlmIChpbnB1dDAgJiYgaW5wdXQxKSB7XHJcbiAgICB2YXIgc3RhcnRWYWwgPSBwYXJzZUludChpbnB1dDAuZGF0YXNldC5jdXJyZW50VmFsdWUpLFxyXG4gICAgICBlbmRWYWwgPSBwYXJzZUludChpbnB1dDEuZGF0YXNldC5jdXJyZW50VmFsdWUpO1xyXG4gICAgdmFyIG1pblZhbCA9IHBhcnNlSW50KGlucHV0MC5kYXRhc2V0Lm1pblZhbHVlKSxcclxuICAgICAgbWF4VmFsID0gcGFyc2VJbnQoaW5wdXQxLmRhdGFzZXQubWF4VmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgdmFyIHBvc3RmaXggPSBcIlwiO1xyXG5cclxuICBpZiAoZmllbGRfbmFtZSA9PSBcInByaWNlX3JhbmdlXCIpIHtcclxuICAgIHBvc3RmaXggPSBcIiDigr1cIjtcclxuICB9XHJcblxyXG4gIGlmICh0eXBlb2Ygbm9VaVNsaWRlciAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgbm9VaVNsaWRlci5jcmVhdGUoa2V5cHJlc3NTbGlkZXIsIHtcclxuICAgICAgc3RhcnQ6IFtzdGFydFZhbCwgZW5kVmFsXSxcclxuICAgICAgY29ubmVjdDogdHJ1ZSxcclxuICAgICAgcmFuZ2U6IHtcclxuICAgICAgICBtaW46IG1pblZhbCxcclxuICAgICAgICBtYXg6IG1heFZhbCxcclxuICAgICAgfSxcclxuICAgICAgZm9ybWF0OiB3TnVtYih7XHJcbiAgICAgICAgZGVjaW1hbHM6IDAsXHJcbiAgICAgICAgdGhvdXNhbmQ6IFwiIFwiLFxyXG4gICAgICAgIHBvc3RmaXg6IHBvc3RmaXgsXHJcbiAgICAgIH0pLFxyXG4gICAgICBzdGVwOiAxLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBpZiAoa2V5cHJlc3NTbGlkZXIgIT09IG51bGwgJiYga2V5cHJlc3NTbGlkZXIubm9VaVNsaWRlcikge1xyXG4gICAga2V5cHJlc3NTbGlkZXIubm9VaVNsaWRlci5vbihcInVwZGF0ZVwiLCBmdW5jdGlvbiAodmFsdWVzLCBoYW5kbGUpIHtcclxuICAgICAgaW5wdXRzW2hhbmRsZV0udmFsdWUgPSB2YWx1ZXNbaGFuZGxlXTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2V0U2xpZGVySGFuZGxlKGksIHZhbHVlKSB7XHJcbiAgICB2YXIgciA9IFtudWxsLCBudWxsXTtcclxuICAgIHJbaV0gPSB2YWx1ZTtcclxuICAgIGtleXByZXNzU2xpZGVyLm5vVWlTbGlkZXIuc2V0KHIpO1xyXG4gIH0gLy8gTGlzdGVuIHRvIGtleWRvd24gZXZlbnRzIG9uIHRoZSBpbnB1dCBmaWVsZC5cclxuXHJcbiAgaW5wdXRzLmZvckVhY2goZnVuY3Rpb24gKGlucHV0LCBoYW5kbGUpIHtcclxuICAgIGlmIChpbnB1dCA9PT0gbnVsbCkgcmV0dXJuO1xyXG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHNldFNsaWRlckhhbmRsZShoYW5kbGUsIHRoaXMudmFsdWUpO1xyXG4gICAgfSk7XHJcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICB2YXIgdmFsdWVzID0ga2V5cHJlc3NTbGlkZXIubm9VaVNsaWRlci5nZXQoKTtcclxuICAgICAgdmFyIHZhbHVlID0gTnVtYmVyKHZhbHVlc1toYW5kbGVdKTsgLy8gW1toYW5kbGUwX2Rvd24sIGhhbmRsZTBfdXBdLCBbaGFuZGxlMV9kb3duLCBoYW5kbGUxX3VwXV1cclxuXHJcbiAgICAgIHZhciBzdGVwcyA9IGtleXByZXNzU2xpZGVyLm5vVWlTbGlkZXIuc3RlcHMoKTsgLy8gW2Rvd24sIHVwXVxyXG5cclxuICAgICAgdmFyIHN0ZXAgPSBzdGVwc1toYW5kbGVdO1xyXG4gICAgICB2YXIgcG9zaXRpb247IC8vIDEzIGlzIGVudGVyLFxyXG4gICAgICAvLyAzOCBpcyBrZXkgdXAsXHJcbiAgICAgIC8vIDQwIGlzIGtleSBkb3duLlxyXG5cclxuICAgICAgc3dpdGNoIChlLndoaWNoKSB7XHJcbiAgICAgICAgY2FzZSAxMzpcclxuICAgICAgICAgIHNldFNsaWRlckhhbmRsZShoYW5kbGUsIHRoaXMudmFsdWUpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgMzg6XHJcbiAgICAgICAgICAvLyBHZXQgc3RlcCB0byBnbyBpbmNyZWFzZSBzbGlkZXIgdmFsdWUgKHVwKVxyXG4gICAgICAgICAgcG9zaXRpb24gPSBzdGVwWzFdOyAvLyBmYWxzZSA9IG5vIHN0ZXAgaXMgc2V0XHJcblxyXG4gICAgICAgICAgaWYgKHBvc2l0aW9uID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IDE7XHJcbiAgICAgICAgICB9IC8vIG51bGwgPSBlZGdlIG9mIHNsaWRlclxyXG5cclxuICAgICAgICAgIGlmIChwb3NpdGlvbiAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBzZXRTbGlkZXJIYW5kbGUoaGFuZGxlLCB2YWx1ZSArIHBvc2l0aW9uKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSA0MDpcclxuICAgICAgICAgIHBvc2l0aW9uID0gc3RlcFswXTtcclxuXHJcbiAgICAgICAgICBpZiAocG9zaXRpb24gPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gMTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAocG9zaXRpb24gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgc2V0U2xpZGVySGFuZGxlKGhhbmRsZSwgdmFsdWUgLSBwb3NpdGlvbik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGdhbGxlcnkoKSB7XHJcbiAgaWYgKCQuZmFuY3lib3gpIHtcclxuICAgICQoXCIub3dsLWl0ZW0gW2RhdGEtZmFuY3lib3hdXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgJHNlbGVjdG9yID0gJCh0aGlzKVxyXG4gICAgICAucGFyZW50cyhcIi5vd2wtY2Fyb3VzZWxcIilcclxuICAgICAgLmZpbmQoXCIub3dsLWl0ZW06bm90KC5jbG9uZWQpIFtkYXRhLWZhbmN5Ym94XVwiKTtcclxuICAgICAgJC5mYW5jeWJveC5vcGVuKFxyXG4gICAgICAgICRzZWxlY3RvcixcclxuICAgICAgICB7XHJcbiAgICAgICAgICBzZWxlY3RvcjogJHNlbGVjdG9yLFxyXG4gICAgICAgICAgYmFja0ZvY3VzOiBmYWxzZSxcclxuICAgICAgICB9LFxyXG4gICAgICAgICRzZWxlY3Rvci5pbmRleCh0aGlzKVxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhlYWRlcigpIHtcclxuICB2YXIgJGhlYWRlciA9ICQoXCJoZWFkZXJcIiksXHJcbiAgICBoZWlnaHQsXHJcbiAgICBzY3JvbGw7XHJcbiAgbGV0IGlzVGhyb3R0bGVkID0gZmFsc2U7XHJcbiAgY2hlY2soKTtcclxuICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChpc1Rocm90dGxlZCkgcmV0dXJuO1xyXG4gICAgaXNUaHJvdHRsZWQgPSB0cnVlO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGNoZWNrKCk7XHJcbiAgICAgIGlzVGhyb3R0bGVkID0gZmFsc2U7XHJcbiAgICB9LCAxMDApO1xyXG4gIH0pO1xyXG5cclxuICBmdW5jdGlvbiBjaGVjaygpIHtcclxuICAgIGlmICghJGhlYWRlci5oYXNDbGFzcyhcImhlYWRlcl9sYW5kaW5nXCIpKSB7XHJcbiAgICAgIHNjcm9sbCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuICAgICAgaGVpZ2h0ID0gJGhlYWRlci5oZWlnaHQoKTtcclxuXHJcbiAgICAgIGlmIChzY3JvbGwgPiBoZWlnaHQpIHtcclxuICAgICAgICAkaGVhZGVyLmFkZENsYXNzKFwiZml4ZWRcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJGhlYWRlci5yZW1vdmVDbGFzcyhcImZpeGVkXCIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59IC8vZ2FsbGVyeVxyXG5cclxuZnVuY3Rpb24gaG9tZUJhbm5lcigpIHtcclxuICB2YXIgJHNsaWRlciA9ICQoXCIuaG9tZS1iYW5uZXIgLm93bC1jYXJvdXNlbFwiKSxcclxuICAgIGFycm93UHJldiA9XHJcbiAgICAgICc8c3ZnIGNsYXNzPVwiaWNvblwiIHZpZXdCb3g9XCIwIDAgMTAuNSAxOC4xXCI+PHBhdGggc3Ryb2tlPVwibm9uZVwiIGQ9XCJNOSwwbDEuNCwxLjRMMi44LDlsNy42LDcuNkw5LDE4LjFMMCw5QzAsOSw5LjEsMCw5LDB6XCI+PC9wYXRoPjwvc3ZnPicsXHJcbiAgICBhcnJvd05leHQgPVxyXG4gICAgICAnPHN2ZyBjbGFzcz1cImljb25cIiB2aWV3Qm94PVwiMCAwIDEwLjUgMTguMVwiPjxwYXRoIHN0cm9rZT1cIm5vbmVcIiBkPVwiTTEuNCwxOC4xTDAsMTYuN2w3LjYtNy42TDAsMS41TDEuNCwwbDksOS4xQzEwLjQsOS4xLDEuMywxOC4xLDEuNCwxOC4xelwiPjwvcGF0aD48L3N2Zz4nO1xyXG5cclxuICBpZiAoJHNsaWRlci5sZW5ndGgpIHtcclxuICAgICRzbGlkZXIub3dsQ2Fyb3VzZWwoe1xyXG4gICAgICBsb29wOiB0cnVlLFxyXG4gICAgICBuYXY6IHRydWUsXHJcbiAgICAgIHNtYXJ0U3BlZWQ6IDUwMCxcclxuICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgaXRlbXM6IDEsXHJcbiAgICAgIGxhenlMb2FkOiB0cnVlLFxyXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgYXV0b3BsYXlUaW1lb3V0OiAoKyRzbGlkZXIuZGF0YShcImF1dG9wbGF5LXRpbWVvdXRcIikgfHwgNSkgKiAxMDAwLFxyXG4gICAgICBuYXZUZXh0OiBbYXJyb3dQcmV2LCBhcnJvd05leHRdLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG4kKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX3NlY3RvclwiKS5vbihcIm1vdXNlbW92ZVwiLCAoZXZlbnQpID0+IHtcclxuICBjb25zdCB0YXJnZXQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xyXG4gIGNvbnN0IGlkID0gdGFyZ2V0LmF0dHIoXCJkYXRhLXNlY3RvclwiKTtcclxuICBjb25zdCBwYXJlbnQgPSB0YXJnZXQucGFyZW50KCkucGFyZW50KCk7XHJcbiAgcGFyZW50XHJcbiAgLmZpbmQoXCIucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpXHJcbiAgLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpO1xyXG4gIHBhcmVudFxyXG4gIC5maW5kKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIilcclxuICAucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpO1xyXG4gIHBhcmVudC5maW5kKGBbZGF0YS1zZWN0b3ItaW1hZ2U9XCIke2lkfVwiXWApLmFkZENsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpO1xyXG4gIHBhcmVudC5maW5kKGBbZGF0YS1zZWN0b3ItZG90PVwiJHtpZH1cIl1gKS5hZGRDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2RvdF9hY3RpdmVcIik7XHJcbn0pO1xyXG5cclxuJChcIi5wcm9kdWN0LWNhcmQtc2xpZGVzaG93X19zZWN0b3JzXCIpLm9uKFwidG91Y2hzdGFydFwiLCAoZXZlbnQpID0+IHtcclxuICB0b3VjaHN0YXJ0WCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnNjcmVlblg7XHJcbn0pO1xyXG5cclxuJChcIi5wcm9kdWN0LWNhcmQtc2xpZGVzaG93X19zZWN0b3JzXCIpLm9uKFwidG91Y2hlbmRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgdG91Y2hlbmRYID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uc2NyZWVuWDtcclxuICBjb25zdCBwYXJlbnQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnBhcmVudCgpO1xyXG4gIGNvbnN0IGltZyA9IHBhcmVudC5maW5kKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKTtcclxuICBjb25zdCBpZCA9IE51bWJlcihpbWcuYXR0cihcImRhdGEtc2VjdG9yLWltYWdlXCIpKTtcclxuICBjb25zdCBsZW5ndGggPSBwYXJlbnQuZmluZChcIi5wcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZVwiKS5sZW5ndGg7XHJcblxyXG4gIGlmICh0b3VjaGVuZFggPCB0b3VjaHN0YXJ0WCkge1xyXG4gICAgcGFyZW50XHJcbiAgICAuZmluZChcIi5wcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIilcclxuICAgIC5yZW1vdmVDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKTtcclxuICAgIHBhcmVudFxyXG4gICAgLmZpbmQoXCIucHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fZG90X2FjdGl2ZVwiKVxyXG4gICAgLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fZG90X2FjdGl2ZVwiKTtcclxuICAgIGlmIChpZCA+PSBsZW5ndGgpIHtcclxuICAgICAgcGFyZW50LmZpbmQoYFtkYXRhLXNlY3Rvci1pbWFnZT1cIiR7MX1cIl1gKS5hZGRDbGFzcyhcInByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKTtcclxuICAgICAgcGFyZW50LmZpbmQoYFtkYXRhLXNlY3Rvci1kb3Q9XCIkezF9XCJdYCkuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBwYXJlbnQuZmluZChgW2RhdGEtc2VjdG9yLWltYWdlPVwiJHtpZCArIDF9XCJdYCkuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICBwYXJlbnQuZmluZChgW2RhdGEtc2VjdG9yLWRvdD1cIiR7aWQgKyAxfVwiXWApLmFkZENsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fZG90X2FjdGl2ZVwiKTtcclxuICB9XHJcbiAgaWYgKHRvdWNoZW5kWCA+IHRvdWNoc3RhcnRYKSB7XHJcbiAgICBwYXJlbnRcclxuICAgIC5maW5kKFwiLnByb2R1Y3QtY2FyZC1zbGlkZXNob3dfX2ltYWdlX2FjdGl2ZVwiKVxyXG4gICAgLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19faW1hZ2VfYWN0aXZlXCIpO1xyXG4gICAgcGFyZW50XHJcbiAgICAuZmluZChcIi5wcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpXHJcbiAgICAucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpO1xyXG4gICAgaWYgKGlkIDw9IDEpIHtcclxuICAgICAgcGFyZW50XHJcbiAgICAgIC5maW5kKGBbZGF0YS1zZWN0b3ItaW1hZ2U9XCIke2xlbmd0aH1cIl1gKVxyXG4gICAgICAuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICAgIHBhcmVudC5maW5kKGBbZGF0YS1zZWN0b3ItZG90PVwiJHtsZW5ndGh9XCJdYCkuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19kb3RfYWN0aXZlXCIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBwYXJlbnQuZmluZChgW2RhdGEtc2VjdG9yLWltYWdlPVwiJHtpZCAtIDF9XCJdYCkuYWRkQ2xhc3MoXCJwcm9kdWN0LWNhcmQtc2xpZGVzaG93X19pbWFnZV9hY3RpdmVcIik7XHJcbiAgICBwYXJlbnQuZmluZChgW2RhdGEtc2VjdG9yLWRvdD1cIiR7aWQgLSAxfVwiXWApLmFkZENsYXNzKFwicHJvZHVjdC1jYXJkLXNsaWRlc2hvd19fZG90X2FjdGl2ZVwiKTtcclxuICB9XHJcbn0pO1xyXG5cclxuXHJcbihmdW5jdGlvbiAoJCkge1xyXG4gIHZhciBwbHVnaW5OYW1lID0gXCJjc2NybGJcIjtcclxuXHJcbiAgZnVuY3Rpb24gUGx1Z2luKGVsZW1lbnQsIG9wdGlvbnMpIHtcclxuICAgIHZhciBlbCA9IGVsZW1lbnQ7XHJcbiAgICB2YXIgJGVsID0gJChlbGVtZW50KTtcclxuICAgIHZhciAkc2Nyb2xsQ29udGVudEVsO1xyXG4gICAgdmFyICRjb250ZW50RWwgPSAkZWwuZmluZChcIi5jc2NybGItY29udGVudFwiKTtcclxuICAgIHZhciAkc2Nyb2xsYmFyRWw7XHJcbiAgICB2YXIgJGRyYWdIYW5kbGVFbDtcclxuICAgIHZhciBkcmFnT2Zmc2V0O1xyXG4gICAgdmFyIGZsYXNoVGltZW91dDtcclxuICAgIHZhciBwYWdlSnVtcE11bHRwID0gNyAvIDg7XHJcbiAgICB2YXIgc2Nyb2xsRGlyZWN0aW9uID0gXCJ2ZXJ0XCI7XHJcbiAgICB2YXIgc2Nyb2xsT2Zmc2V0QXR0ciA9IFwic2Nyb2xsVG9wXCI7XHJcbiAgICB2YXIgc2l6ZUF0dHIgPSBcImhlaWdodFwiO1xyXG4gICAgdmFyIG9mZnNldEF0dHIgPSBcInRvcFwiO1xyXG4gICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCAkLmZuW3BsdWdpbk5hbWVdLmRlZmF1bHRzLCBvcHRpb25zKTtcclxuXHJcbiAgICB3aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAkY29udGVudEVsLmZvY3VzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAgIGlmICgkZWwuaGFzQ2xhc3MoXCJob3Jpem9udGFsXCIpKSB7XHJcbiAgICAgICAgc2Nyb2xsRGlyZWN0aW9uID0gXCJob3JpelwiO1xyXG4gICAgICAgIHNjcm9sbE9mZnNldEF0dHIgPSBcInNjcm9sbExlZnRcIjtcclxuICAgICAgICBzaXplQXR0ciA9IFwid2lkdGhcIjtcclxuICAgICAgICBvZmZzZXRBdHRyID0gXCJsZWZ0XCI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRlbC5wcmVwZW5kKCc8ZGl2IGNsYXNzPVwiY3NjcmxiLXNjcm9sbGJhclwiPjxkaXYgY2xhc3M9XCJkcmFnLWhhbmRsZVwiPjwvZGl2PjwvZGl2PicpO1xyXG4gICAgICAkc2Nyb2xsYmFyRWwgPSAkZWwuZmluZChcIi5jc2NybGItc2Nyb2xsYmFyXCIpO1xyXG4gICAgICAkZHJhZ0hhbmRsZUVsID0gJGVsLmZpbmQoXCIuZHJhZy1oYW5kbGVcIik7XHJcblxyXG4gICAgICBpZiAob3B0aW9ucy53cmFwQ29udGVudCkge1xyXG4gICAgICAgICRjb250ZW50RWwud3JhcCgnPGRpdiBjbGFzcz1cImNzY3JsYi1zY3JvbGwtY29udGVudFwiIC8+Jyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRzY3JvbGxDb250ZW50RWwgPSAkZWwuZmluZChcIi5jc2NybGItc2Nyb2xsLWNvbnRlbnRcIik7XHJcbiAgICAgIHJlc2l6ZVNjcm9sbENvbnRlbnQoKTtcclxuXHJcbiAgICAgIGlmIChvcHRpb25zLmF1dG9IaWRlKSB7XHJcbiAgICAgICAgJGVsLm9uKFwibW91c2VlbnRlclwiLCBmbGFzaFNjcm9sbGJhcik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRkcmFnSGFuZGxlRWwub24oXCJtb3VzZWRvd25cIiwgc3RhcnREcmFnKTtcclxuICAgICAgJHNjcm9sbGJhckVsLm9uKFwibW91c2Vkb3duXCIsIGp1bXBTY3JvbGwpO1xyXG4gICAgICAkc2Nyb2xsQ29udGVudEVsLm9uKFwic2Nyb2xsXCIsIG9uU2Nyb2xsZWQpO1xyXG4gICAgICByZXNpemVTY3JvbGxiYXIoKTtcclxuICAgICAgJCh3aW5kb3cpLm9uKFwicmVzaXplXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZWNhbGN1bGF0ZSgpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICghb3B0aW9ucy5hdXRvSGlkZSkge1xyXG4gICAgICAgIHNob3dTY3JvbGxiYXIoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHN0YXJ0RHJhZyhlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdmFyIGV2ZW50T2Zmc2V0ID0gZS5wYWdlWTtcclxuXHJcbiAgICAgIGlmIChzY3JvbGxEaXJlY3Rpb24gPT09IFwiaG9yaXpcIikge1xyXG4gICAgICAgIGV2ZW50T2Zmc2V0ID0gZS5wYWdlWDtcclxuICAgICAgfVxyXG5cclxuICAgICAgZHJhZ09mZnNldCA9IGV2ZW50T2Zmc2V0IC0gJGRyYWdIYW5kbGVFbC5vZmZzZXQoKVtvZmZzZXRBdHRyXTtcclxuICAgICAgJChkb2N1bWVudCkub24oXCJtb3VzZW1vdmVcIiwgZHJhZyk7XHJcbiAgICAgICQoZG9jdW1lbnQpLm9uKFwibW91c2V1cFwiLCBlbmREcmFnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkcmFnKGUpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB2YXIgZXZlbnRPZmZzZXQgPSBlLnBhZ2VZO1xyXG5cclxuICAgICAgaWYgKHNjcm9sbERpcmVjdGlvbiA9PT0gXCJob3JpelwiKSB7XHJcbiAgICAgICAgZXZlbnRPZmZzZXQgPSBlLnBhZ2VYO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgZHJhZ1BvcyA9IGV2ZW50T2Zmc2V0IC0gJHNjcm9sbGJhckVsLm9mZnNldCgpW29mZnNldEF0dHJdIC0gZHJhZ09mZnNldDtcclxuICAgICAgdmFyIGRyYWdQZXJjID0gZHJhZ1BvcyAvICRzY3JvbGxiYXJFbFtzaXplQXR0cl0oKTtcclxuICAgICAgdmFyIHNjcm9sbFBvcyA9IGRyYWdQZXJjICogJGNvbnRlbnRFbFtzaXplQXR0cl0oKTtcclxuICAgICAgJHNjcm9sbENvbnRlbnRFbFtzY3JvbGxPZmZzZXRBdHRyXShzY3JvbGxQb3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGVuZERyYWcoKSB7XHJcbiAgICAgICQoZG9jdW1lbnQpLm9mZihcIm1vdXNlbW92ZVwiLCBkcmFnKTtcclxuICAgICAgJChkb2N1bWVudCkub2ZmKFwibW91c2V1cFwiLCBlbmREcmFnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBqdW1wU2Nyb2xsKGUpIHtcclxuICAgICAgaWYgKGUudGFyZ2V0ID09PSAkZHJhZ0hhbmRsZUVsWzBdKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIganVtcEFtdCA9IHBhZ2VKdW1wTXVsdHAgKiAkc2Nyb2xsQ29udGVudEVsW3NpemVBdHRyXSgpO1xyXG4gICAgICB2YXIgZXZlbnRPZmZzZXQgPVxyXG4gICAgICAgIHNjcm9sbERpcmVjdGlvbiA9PT0gXCJ2ZXJ0XCIgPyBlLm9yaWdpbmFsRXZlbnQubGF5ZXJZIDogZS5vcmlnaW5hbEV2ZW50LmxheWVyWDtcclxuICAgICAgdmFyIGRyYWdIYW5kbGVPZmZzZXQgPSAkZHJhZ0hhbmRsZUVsLnBvc2l0aW9uKClbb2Zmc2V0QXR0cl07XHJcbiAgICAgIHZhciBzY3JvbGxQb3MgPVxyXG4gICAgICAgIGV2ZW50T2Zmc2V0IDwgZHJhZ0hhbmRsZU9mZnNldFxyXG4gICAgICAgICAgPyAkc2Nyb2xsQ29udGVudEVsW3Njcm9sbE9mZnNldEF0dHJdKCkgLSBqdW1wQW10XHJcbiAgICAgICAgICA6ICRzY3JvbGxDb250ZW50RWxbc2Nyb2xsT2Zmc2V0QXR0cl0oKSArIGp1bXBBbXQ7XHJcbiAgICAgICRzY3JvbGxDb250ZW50RWxbc2Nyb2xsT2Zmc2V0QXR0cl0oc2Nyb2xsUG9zKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvblNjcm9sbGVkKGUpIHtcclxuICAgICAgZmxhc2hTY3JvbGxiYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXNpemVTY3JvbGxiYXIoKSB7XHJcbiAgICAgIHZhciBjb250ZW50U2l6ZSA9ICRjb250ZW50RWxbc2l6ZUF0dHJdKCk7XHJcbiAgICAgIHZhciBzY3JvbGxPZmZzZXQgPSAkc2Nyb2xsQ29udGVudEVsW3Njcm9sbE9mZnNldEF0dHJdKCk7IC8vIHNjcm9sbFRvcCgpIOOBiyBzY3JvbGxMZWZ0KClcclxuXHJcbiAgICAgIHZhciBzY3JvbGxiYXJTaXplID0gJHNjcm9sbGJhckVsW3NpemVBdHRyXSgpO1xyXG4gICAgICB2YXIgc2Nyb2xsYmFyUmF0aW8gPSBzY3JvbGxiYXJTaXplIC8gY29udGVudFNpemU7XHJcbiAgICAgIHZhciBoYW5kbGVPZmZzZXQgPSBNYXRoLnJvdW5kKHNjcm9sbGJhclJhdGlvICogc2Nyb2xsT2Zmc2V0KTtcclxuICAgICAgLyogKyAyOyAqL1xyXG5cclxuICAgICAgdmFyIGhhbmRsZVNpemUgPSBNYXRoLmZsb29yKHNjcm9sbGJhclJhdGlvICogKHNjcm9sbGJhclNpemUgKyAyKSk7XHJcbiAgICAgIC8qICAtIDIpKSAtIDI7ICovXHJcblxyXG4gICAgICBpZiAoc2Nyb2xsYmFyU2l6ZSA8IGNvbnRlbnRTaXplKSB7XHJcbiAgICAgICAgaWYgKHNjcm9sbERpcmVjdGlvbiA9PT0gXCJ2ZXJ0XCIpIHtcclxuICAgICAgICAgICRkcmFnSGFuZGxlRWwuY3NzKHtcclxuICAgICAgICAgICAgdG9wOiBoYW5kbGVPZmZzZXQsXHJcbiAgICAgICAgICAgIGhlaWdodDogaGFuZGxlU2l6ZSxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkZHJhZ0hhbmRsZUVsLmNzcyh7XHJcbiAgICAgICAgICAgIGxlZnQ6IGhhbmRsZU9mZnNldCxcclxuICAgICAgICAgICAgd2lkdGg6IGhhbmRsZVNpemUsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRzY3JvbGxiYXJFbC5zaG93KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJHNjcm9sbGJhckVsLmhpZGUoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZsYXNoU2Nyb2xsYmFyKCkge1xyXG4gICAgICByZXNpemVTY3JvbGxiYXIoKTtcclxuICAgICAgc2hvd1Njcm9sbGJhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNob3dTY3JvbGxiYXIoKSB7XHJcbiAgICAgICRkcmFnSGFuZGxlRWwuYWRkQ2xhc3MoXCJ2aXNpYmxlXCIpO1xyXG5cclxuICAgICAgaWYgKCFvcHRpb25zLmF1dG9IaWRlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodHlwZW9mIGZsYXNoVGltZW91dCA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoZmxhc2hUaW1lb3V0KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZmxhc2hUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGhpZGVTY3JvbGxiYXIoKTtcclxuICAgICAgfSwgMTAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaGlkZVNjcm9sbGJhcigpIHtcclxuICAgICAgJGRyYWdIYW5kbGVFbC5yZW1vdmVDbGFzcyhcInZpc2libGVcIik7XHJcblxyXG4gICAgICBpZiAodHlwZW9mIGZsYXNoVGltZW91dCA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoZmxhc2hUaW1lb3V0KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc2l6ZVNjcm9sbENvbnRlbnQoKSB7XHJcbiAgICAgIGlmIChzY3JvbGxEaXJlY3Rpb24gPT09IFwidmVydFwiKSB7XHJcbiAgICAgICAgJHNjcm9sbENvbnRlbnRFbC53aWR0aCgkZWwud2lkdGgoKSArIHNjcm9sbGJhcldpZHRoKCkpO1xyXG4gICAgICAgICRzY3JvbGxDb250ZW50RWwuaGVpZ2h0KCRlbC5oZWlnaHQoKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJHNjcm9sbENvbnRlbnRFbC53aWR0aCgkZWwud2lkdGgoKSk7XHJcbiAgICAgICAgJHNjcm9sbENvbnRlbnRFbC5oZWlnaHQoJGVsLmhlaWdodCgpICsgc2Nyb2xsYmFyV2lkdGgoKSk7XHJcbiAgICAgICAgJGNvbnRlbnRFbC5oZWlnaHQoJGVsLmhlaWdodCgpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNjcm9sbGJhcldpZHRoKCkge1xyXG4gICAgICB2YXIgdGVtcEVsID0gJChcclxuICAgICAgICAnPGRpdiBjbGFzcz1cInNjcm9sbGJhci13aWR0aC10ZXN0ZXJcIiBzdHlsZT1cIndpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7b3ZlcmZsb3cteTpzY3JvbGw7cG9zaXRpb246YWJzb2x1dGU7dG9wOi0yMDBweDtsZWZ0Oi0yMDBweDtcIj48ZGl2IHN0eWxlPVwiaGVpZ2h0OjEwMHB4O1wiPjwvZGl2PidcclxuICAgICAgKTtcclxuICAgICAgJChcImJvZHlcIikuYXBwZW5kKHRlbXBFbCk7XHJcbiAgICAgIHZhciB3aWR0aCA9ICQodGVtcEVsKS5pbm5lcldpZHRoKCk7XHJcbiAgICAgIHZhciB3aWR0aE1pbnVzU2Nyb2xsYmFycyA9ICQoXCJkaXZcIiwgdGVtcEVsKS5pbm5lcldpZHRoKCk7XHJcbiAgICAgIHRlbXBFbC5yZW1vdmUoKTtcclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICB3aWR0aCA9PT0gd2lkdGhNaW51c1Njcm9sbGJhcnMgJiZcclxuICAgICAgICBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImZpcmVmb3hcIikgPiAtMVxyXG4gICAgICApIHtcclxuICAgICAgICByZXR1cm4gMTc7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB3aWR0aCAtIHdpZHRoTWludXNTY3JvbGxiYXJzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlY2FsY3VsYXRlKCkge1xyXG4gICAgICByZXNpemVTY3JvbGxDb250ZW50KCk7XHJcbiAgICAgIHJlc2l6ZVNjcm9sbGJhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9wdGlvbihrZXksIHZhbCkge1xyXG4gICAgICBpZiAodmFsKSB7XHJcbiAgICAgICAgb3B0aW9uc1trZXldID0gdmFsO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBvcHRpb25zW2tleV07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkZXN0cm95KCkge1xyXG4gICAgICAkY29udGVudEVsLmluc2VydEJlZm9yZSgkc2Nyb2xsYmFyRWwpO1xyXG4gICAgICAkc2Nyb2xsYmFyRWwucmVtb3ZlKCk7XHJcbiAgICAgICRzY3JvbGxDb250ZW50RWwucmVtb3ZlKCk7XHJcbiAgICAgICRjb250ZW50RWwuY3NzKHtcclxuICAgICAgICBoZWlnaHQ6ICRlbC5oZWlnaHQoKSArIFwicHhcIixcclxuICAgICAgICBcIm92ZXJmbG93LXlcIjogXCJzY3JvbGxcIixcclxuICAgICAgfSk7XHJcbiAgICAgIGhvb2soXCJvbkRlc3Ryb3lcIik7XHJcbiAgICAgICRlbC5yZW1vdmVEYXRhKFwicGx1Z2luX1wiICsgcGx1Z2luTmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaG9vayhob29rTmFtZSkge1xyXG4gICAgICBpZiAob3B0aW9uc1tob29rTmFtZV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIG9wdGlvbnNbaG9va05hbWVdLmNhbGwoZWwpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgb3B0aW9uOiBvcHRpb24sXHJcbiAgICAgIGRlc3Ryb3k6IGRlc3Ryb3ksXHJcbiAgICAgIHJlY2FsY3VsYXRlOiByZWNhbGN1bGF0ZSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAkLmZuW3BsdWdpbk5hbWVdID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgIHZhciBtZXRob2ROYW1lID0gYXJndW1lbnRzWzBdO1xyXG4gICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XHJcbiAgICAgIHZhciByZXR1cm5WYWw7XHJcbiAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgcGx1Z2luTmFtZSkgJiZcclxuICAgICAgICAgIHR5cGVvZiAkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBwbHVnaW5OYW1lKVttZXRob2ROYW1lXSA9PT0gXCJmdW5jdGlvblwiXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICByZXR1cm5WYWwgPSAkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBwbHVnaW5OYW1lKVttZXRob2ROYW1lXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiIFwiICsgbWV0aG9kTmFtZSArIFwiIFwiICsgcGx1Z2luTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChyZXR1cm5WYWwgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiByZXR1cm5WYWw7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoX3R5cGVvZihvcHRpb25zKSA9PT0gXCJvYmplY3RcIiB8fCAhb3B0aW9ucykge1xyXG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoISQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUpKSB7XHJcbiAgICAgICAgICAkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBwbHVnaW5OYW1lLCBuZXcgUGx1Z2luKHRoaXMsIG9wdGlvbnMpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gICQuZm5bcGx1Z2luTmFtZV0uZGVmYXVsdHMgPSB7XHJcbiAgICBvbkluaXQ6IGZ1bmN0aW9uIG9uSW5pdCgpIHt9LFxyXG4gICAgb25EZXN0cm95OiBmdW5jdGlvbiBvbkRlc3Ryb3koKSB7fSxcclxuICAgIHdyYXBDb250ZW50OiB0cnVlLFxyXG4gICAgYXV0b0hpZGU6IGZhbHNlLFxyXG4gIH07XHJcbn0pKGpRdWVyeSk7XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAkKFwiLmNzY3JsYi1zY3JvbGxhYmxlXCIpLmNzY3JsYigpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xyXG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xyXG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xyXG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcclxuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcclxuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XHJcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkge1xyXG4gIHZhciBpdDtcclxuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBvW1N5bWJvbC5pdGVyYXRvcl0gPT0gbnVsbCkge1xyXG4gICAgaWYgKFxyXG4gICAgICBBcnJheS5pc0FycmF5KG8pIHx8XHJcbiAgICAgIChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHxcclxuICAgICAgKGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKVxyXG4gICAgKSB7XHJcbiAgICAgIGlmIChpdCkgbyA9IGl0O1xyXG4gICAgICB2YXIgaSA9IDA7XHJcbiAgICAgIHZhciBGID0gZnVuY3Rpb24gRigpIHt9O1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHM6IEYsXHJcbiAgICAgICAgbjogZnVuY3Rpb24gbigpIHtcclxuICAgICAgICAgIGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07XHJcbiAgICAgICAgICByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZTogZnVuY3Rpb24gZShfZSkge1xyXG4gICAgICAgICAgdGhyb3cgX2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmOiBGLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcclxuICAgICAgXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiXHJcbiAgICApO1xyXG4gIH1cclxuICB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsXHJcbiAgICBkaWRFcnIgPSBmYWxzZSxcclxuICAgIGVycjtcclxuICByZXR1cm4ge1xyXG4gICAgczogZnVuY3Rpb24gcygpIHtcclxuICAgICAgaXQgPSBvW1N5bWJvbC5pdGVyYXRvcl0oKTtcclxuICAgIH0sXHJcbiAgICBuOiBmdW5jdGlvbiBuKCkge1xyXG4gICAgICB2YXIgc3RlcCA9IGl0Lm5leHQoKTtcclxuICAgICAgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTtcclxuICAgICAgcmV0dXJuIHN0ZXA7XHJcbiAgICB9LFxyXG4gICAgZTogZnVuY3Rpb24gZShfZTIpIHtcclxuICAgICAgZGlkRXJyID0gdHJ1ZTtcclxuICAgICAgZXJyID0gX2UyO1xyXG4gICAgfSxcclxuICAgIGY6IGZ1bmN0aW9uIGYoKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTtcclxuICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xyXG4gIGlmICghbykgcmV0dXJuO1xyXG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XHJcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xyXG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XHJcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XHJcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpXHJcbiAgICByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcclxufVxyXG5cclxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcclxuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcclxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHtcclxuICAgIGFycjJbaV0gPSBhcnJbaV07XHJcbiAgfVxyXG4gIHJldHVybiBhcnIyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XHJcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XHJcbiAgfVxyXG59XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgaG9tZUJhbm5lcigpO1xyXG4gIGhlYWRlcigpO1xyXG4gIGdhbGxlcnkoKTtcclxuICBsYW5kaW5nX3NsaWRlcnMoKTtcclxuICB1cCgpO1xyXG4gIGNoYXRCbG9jaygpO1xyXG4gIHRvZ2dsZSgpOyAvL2ludGVyYWN0aW9uXHJcblxyXG4gIG5ldyDQoXVzdG9tSW50ZXJhY3Rpb24oe1xyXG4gICAgdGFyZ2V0czogXCJhLCBidXR0b24sIFtkYXRhLWN1c3RvbS1pbnRlcmFjdGlvbl0sIC5pbWFnZS16b29tXCIsXHJcbiAgfSk7IC8vc2xpZGVyIGNvbnN0cnVjdG9yXHJcblxyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2xpZGVyLWNvbnN0cnVjdG9yXCIpLmZvckVhY2goZnVuY3Rpb24gKCR0aGlzKSB7XHJcbiAgICBuZXcgU2xpZGVyQ29uc3RydWN0b3IoJHRoaXMpLmluaXQoKTtcclxuICB9KTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBsYW5kaW5nX3NsaWRlcnMoKSB7XHJcbiAgdmFyICRzbGlkZXJzID0gJChcIi5sYW5kaW5nLXNsaWRlciAub3dsLWNhcm91c2VsXCIpO1xyXG5cclxuICBpZiAoJHNsaWRlcnMubGVuZ3RoKSB7XHJcbiAgICAkc2xpZGVycy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcclxuICAgICAgdmFyIGNvdW50MSwgY291bnQyLCBjb3VudDMsIGNvdW50NDtcclxuXHJcbiAgICAgIGlmICgkdGhpcy5pcyhcIi5sYW5kaW5nLXNsaWRlcl8xIC5vd2wtY2Fyb3VzZWxcIikpIHtcclxuICAgICAgICBjb3VudDEgPSAyO1xyXG4gICAgICAgIGNvdW50MiA9IDI7XHJcbiAgICAgICAgY291bnQzID0gMztcclxuICAgICAgICBjb3VudDQgPSA0O1xyXG4gICAgICB9IGVsc2UgaWYgKCR0aGlzLmlzKFwiLmxhbmRpbmctc2xpZGVyXzIgLm93bC1jYXJvdXNlbFwiKSkge1xyXG4gICAgICAgIGNvdW50MSA9IDE7XHJcbiAgICAgICAgY291bnQyID0gMjtcclxuICAgICAgICBjb3VudDMgPSAzO1xyXG4gICAgICAgIGNvdW50NCA9IDQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICR0aGlzLm93bENhcm91c2VsKHtcclxuICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgIG1hcmdpbjogMjAsXHJcbiAgICAgICAgcmVzcG9uc2l2ZToge1xyXG4gICAgICAgICAgMDoge1xyXG4gICAgICAgICAgICBpdGVtczogY291bnQxLFxyXG4gICAgICAgICAgICBtYXJnaW46IDE2LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIDU3Njoge1xyXG4gICAgICAgICAgICBpdGVtczogY291bnQyLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIDc2ODoge1xyXG4gICAgICAgICAgICBpdGVtczogY291bnQzLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIDk5Mjoge1xyXG4gICAgICAgICAgICBpdGVtczogY291bnQ0LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlKCkge1xyXG4gIHZhciAkc2VjdGlvbiA9ICQoXCIudG9nZ2xlLXNlY3Rpb25cIiksXHJcbiAgICBzcGVlZCA9IDI1MDtcclxuICAkc2VjdGlvbi5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICR0b2dnbGUgPSAkdGhpcy5jaGlsZHJlbihcIi50b2dnbGUtc2VjdGlvbl9fdHJpZ2dlclwiKSxcclxuICAgICAgJGNvbnRlbnQgPSAkdGhpcy5jaGlsZHJlbihcIi50b2dnbGUtc2VjdGlvbl9fY29udGVudFwiKSxcclxuICAgICAgJGNsb3NlID0gJGNvbnRlbnQuZmluZChcIi50b2dnbGUtc2VjdGlvbl9fY2xvc2VcIiksXHJcbiAgICAgIHN0YXRlID0gJHRoaXMuaGFzQ2xhc3MoXCJhY3RpdmVcIikgPyB0cnVlIDogZmFsc2UsXHJcbiAgICAgIGluaXRpYWxpemVkO1xyXG4gICAgJHRvZ2dsZS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgc3RhdGUgPSAhc3RhdGUgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgIGNoZWNrKCk7XHJcbiAgICB9KTtcclxuICAgICRjbG9zZS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgc3RhdGUgPSBmYWxzZTtcclxuICAgICAgY2hlY2soKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICgkdGhpcy5pcyhcIltkYXRhLWhvdmVyXVwiKSkge1xyXG4gICAgICB2YXIgdGltZW91dDtcclxuICAgICAgJHRvZ2dsZS5hZGQoJGNvbnRlbnQpLm9uKFwibW91c2VlbnRlclwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBpZiAoIWlzVG91Y2gpIHtcclxuICAgICAgICAgIGlmICh0aW1lb3V0KSBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICAgICAgICBzdGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICBjaGVjaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgICR0b2dnbGUuYWRkKCRjb250ZW50KS5vbihcIm1vdXNlbGVhdmVcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKCFpc1RvdWNoKSB7XHJcbiAgICAgICAgICB2YXIgZGVsYXk7XHJcblxyXG4gICAgICAgICAgaWYgKCQodGhpcykuaXMoJHRvZ2dsZSkpIHtcclxuICAgICAgICAgICAgZGVsYXkgPSA1MDA7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkZWxheSA9IDEwMDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNoZWNrKCk7XHJcbiAgICAgICAgICB9LCBkZWxheSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoJHRoaXMuaXMoXCJbZGF0YS1vdXQtaGlkZV1cIikgfHwgJHRoaXMuaXMoXCJbZGF0YS1ob3Zlcl1cIikpIHtcclxuICAgICAgJChkb2N1bWVudCkub24oXCJjbGljayB0b3VjaHN0YXJ0XCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciAkdGFyZ2V0ID0gJChldmVudC50YXJnZXQpO1xyXG5cclxuICAgICAgICBpZiAoISR0YXJnZXQuY2xvc2VzdCgkY29udGVudCkubGVuZ3RoICYmICEkdGFyZ2V0LmNsb3Nlc3QoJHRvZ2dsZSkubGVuZ3RoICYmIHN0YXRlKSB7XHJcbiAgICAgICAgICBzdGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgY2hlY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNoZWNrKCkge1xyXG4gICAgICBpZiAoc3RhdGUpIHtcclxuICAgICAgICAkdGhpcy5hZGQoJGNvbnRlbnQpLmFkZCgkdG9nZ2xlKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHJcbiAgICAgICAgaWYgKCR0aGlzLmlzKFwiW2RhdGEtc2xpZGVdXCIpKSB7XHJcbiAgICAgICAgICAkY29udGVudC5zbGlkZURvd24oc3BlZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkdGhpcy5hZGQoJHRvZ2dsZSkuYWRkKCRjb250ZW50KS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHJcbiAgICAgICAgaWYgKCR0aGlzLmlzKFwiW2RhdGEtc2xpZGVdXCIpKSB7XHJcbiAgICAgICAgICBpZiAoaW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgJGNvbnRlbnQuc3RvcCgpLnNsaWRlVXAoc3BlZWQpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJGNvbnRlbnQuaGlkZSgwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjaGVjaygpO1xyXG4gICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cCgpIHtcclxuICB2YXIgJGJ0biA9ICQoXCIuanMtdXBcIik7XHJcblxyXG4gIGZ1bmN0aW9uIGNoZWNrKCkge1xyXG4gICAgdmFyIHNjcm9sbCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuXHJcbiAgICBpZiAoc2Nyb2xsID4gNTApIHtcclxuICAgICAgJGJ0bi5hZGRDbGFzcyhcInZpc2libGVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAkYnRuLnJlbW92ZUNsYXNzKFwidmlzaWJsZVwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGxldCBpc1Rocm90dGxlZCA9IGZhbHNlO1xyXG4gICQod2luZG93KS5vbihcInNjcm9sbFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoaXNUaHJvdHRsZWQpIHJldHVybjtcclxuICAgIGlzVGhyb3R0bGVkID0gdHJ1ZTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBjaGVjaygpO1xyXG4gICAgICBpc1Rocm90dGxlZCA9IGZhbHNlO1xyXG4gICAgfSwgMTAwKTtcclxuICB9KTtcclxuICBjaGVjaygpO1xyXG4gICRidG4ub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKFxyXG4gICAgICB7XHJcbiAgICAgICAgc2Nyb2xsVG9wOiAwLFxyXG4gICAgICB9LFxyXG4gICAgICA1MDBcclxuICAgICk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoYXRCbG9jaygpIHtcclxuICB2YXIgJGJsb2NrID0gJChcIi5jaGF0LWJsb2NrXCIpLFxyXG4gICAgJG9wZW4gPSAkKFwiW2RhdGEtY2hhdC1vcGVuXVwiKSxcclxuICAgICRjbG9zZSA9ICQoXCJbZGF0YS1jaGF0LWNsb3NlXVwiKTtcclxuICAkb3Blbi5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICRibG9jay5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICB9KTtcclxuICAkY2xvc2Uub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkYmxvY2sucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgfSk7XHJcbn1cclxuXHJcbnZhciDQoXVzdG9tSW50ZXJhY3Rpb24gPSBmdW5jdGlvbiDQoXVzdG9tSW50ZXJhY3Rpb24oKSB7XHJcbiAgdmFyIF90aGlzMiA9IHRoaXM7XHJcblxyXG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcclxuXHJcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsINChdXN0b21JbnRlcmFjdGlvbik7XHJcblxyXG4gIHRoaXMudGFyZ2V0cyA9IG9wdGlvbnMudGFyZ2V0cztcclxuICB0aGlzLnRvdWNoZW5kRGVsYXkgPSBvcHRpb25zLnRvdWNoZW5kRGVsYXkgfHwgMTAwOyAvL21zXHJcblxyXG4gIHZhciBldmVudHMgPSBmdW5jdGlvbiBldmVudHMoZXZlbnQpIHtcclxuICAgIHZhciAkdGFyZ2V0cyA9IFtdO1xyXG4gICAgJHRhcmdldHNbMF0gPSBldmVudC50YXJnZXQgIT09IGRvY3VtZW50ID8gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoX3RoaXMyLnRhcmdldHMpIDogbnVsbDtcclxuICAgIHZhciAkZWxlbWVudCA9ICR0YXJnZXRzWzBdLFxyXG4gICAgICBpID0gMDtcclxuXHJcbiAgICB3aGlsZSAoJHRhcmdldHNbMF0pIHtcclxuICAgICAgJGVsZW1lbnQgPSAkZWxlbWVudC5wYXJlbnROb2RlO1xyXG5cclxuICAgICAgaWYgKCRlbGVtZW50ICE9PSBkb2N1bWVudCkge1xyXG4gICAgICAgIGlmICgkZWxlbWVudC5tYXRjaGVzKCR0YXJnZXRzLnZhbHVlKSkge1xyXG4gICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgJHRhcmdldHNbaV0gPSAkZWxlbWVudDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH0gLy90b3VjaHN0YXJ0XHJcblxyXG4gICAgaWYgKGV2ZW50LnR5cGUgPT0gXCJ0b3VjaHN0YXJ0XCIpIHtcclxuICAgICAgX3RoaXMyLnRvdWNoZWQgPSB0cnVlO1xyXG4gICAgICBpZiAoX3RoaXMyLnRpbWVvdXQpIGNsZWFyVGltZW91dChfdGhpczIudGltZW91dCk7XHJcblxyXG4gICAgICBpZiAoJHRhcmdldHNbMF0pIHtcclxuICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoJHRhcmdldHMpLFxyXG4gICAgICAgICAgX3N0ZXA7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOyApIHtcclxuICAgICAgICAgICAgdmFyICR0YXJnZXQgPSBfc3RlcC52YWx1ZTtcclxuICAgICAgICAgICAgJHRhcmdldC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRvdWNoXCIsIFwiXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgX2l0ZXJhdG9yLmYoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vdG91Y2hlbmRcclxuICAgIGVsc2UgaWYgKGV2ZW50LnR5cGUgPT0gXCJ0b3VjaGVuZFwiIHx8IChldmVudC50eXBlID09IFwiY29udGV4dG1lbnVcIiAmJiBfdGhpczIudG91Y2hlZCkpIHtcclxuICAgICAgX3RoaXMyLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfdGhpczIudG91Y2hlZCA9IGZhbHNlO1xyXG4gICAgICB9LCBfdGhpczIudG91Y2hlbmREZWxheSk7XHJcblxyXG4gICAgICBpZiAoJHRhcmdldHNbMF0pIHtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoJHRhcmdldHMpLFxyXG4gICAgICAgICAgICBfc3RlcDI7XHJcblxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTsgKSB7XHJcbiAgICAgICAgICAgICAgdmFyIF8kdGFyZ2V0ID0gX3N0ZXAyLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICBfJHRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLXRvdWNoXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7XHJcbiAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICBfaXRlcmF0b3IyLmYoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCBfdGhpczIudG91Y2hlbmREZWxheSk7XHJcbiAgICAgIH1cclxuICAgIH0gLy9tb3VzZWVudGVyXHJcblxyXG4gICAgaWYgKFxyXG4gICAgICBldmVudC50eXBlID09IFwibW91c2VlbnRlclwiICYmXHJcbiAgICAgICFfdGhpczIudG91Y2hlZCAmJlxyXG4gICAgICAkdGFyZ2V0c1swXSAmJlxyXG4gICAgICAkdGFyZ2V0c1swXSA9PSBldmVudC50YXJnZXRcclxuICAgICkge1xyXG4gICAgICAkdGFyZ2V0c1swXS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWhvdmVyXCIsIFwiXCIpO1xyXG4gICAgfVxyXG4gICAgLy9tb3VzZWxlYXZlXHJcbiAgICBlbHNlIGlmIChcclxuICAgICAgZXZlbnQudHlwZSA9PSBcIm1vdXNlbGVhdmVcIiAmJlxyXG4gICAgICAhX3RoaXMyLnRvdWNoZWQgJiZcclxuICAgICAgJHRhcmdldHNbMF0gJiZcclxuICAgICAgJHRhcmdldHNbMF0gPT0gZXZlbnQudGFyZ2V0XHJcbiAgICApIHtcclxuICAgICAgJHRhcmdldHNbMF0ucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1jbGlja1wiKTtcclxuICAgICAgJHRhcmdldHNbMF0ucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1ob3ZlclwiKTtcclxuICAgIH0gLy9tb3VzZWRvd25cclxuXHJcbiAgICBpZiAoZXZlbnQudHlwZSA9PSBcIm1vdXNlZG93blwiICYmICFfdGhpczIudG91Y2hlZCAmJiAkdGFyZ2V0c1swXSkge1xyXG4gICAgICAkdGFyZ2V0c1swXS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNsaWNrXCIsIFwiXCIpO1xyXG4gICAgfVxyXG4gICAgLy9tb3VzZXVwXHJcbiAgICBlbHNlIGlmIChldmVudC50eXBlID09IFwibW91c2V1cFwiICYmICFfdGhpczIudG91Y2hlZCAmJiAkdGFyZ2V0c1swXSkge1xyXG4gICAgICAkdGFyZ2V0c1swXS5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWNsaWNrXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIGV2ZW50cyk7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIGV2ZW50cyk7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgZXZlbnRzLCB0cnVlKTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCBldmVudHMsIHRydWUpO1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgZXZlbnRzKTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBldmVudHMpO1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLCBldmVudHMpO1xyXG59O1xyXG4iXX0=

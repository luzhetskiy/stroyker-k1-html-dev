"use strict";function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}$(document).ready((function(){$(".catalog-filter-accordion a.opener").click((function(){return $(this).parent().find("ul:first").slideToggle(),$(this).parent().toggleClass("active"),!1})),$(".product-item__image-sector").on("mousemove",(function(t){var e=$(t.currentTarget),a=e.attr("data-sector"),o=e.parent().parent();o.find(".product-item__image-img_active").removeClass("product-item__image-img_active"),o.find(".product-item__image-dot_active").removeClass("product-item__image-dot_active"),o.find('[data-sector-image="'.concat(a,'"]')).addClass("product-item__image-img_active"),o.find('[data-sector-dot="'.concat(a,'"]')).addClass("product-item__image-dot_active")}));var t=0,e=0;$(".product-item__image-sectors").on("touchstart",(function(e){t=e.changedTouches[0].screenX})),$(".product-item__image-sectors").on("touchend",(function(a){e=a.changedTouches[0].screenX;var o=$(a.currentTarget).parent(),i=o.find(".product-item__image-img_active"),n=Number(i.attr("data-sector-image")),s=o.find(".product-item__image-img").length;if(e<t){if(o.find(".product-item__image-img_active").removeClass("product-item__image-img_active"),o.find(".product-item__image-dot_active").removeClass("product-item__image-dot_active"),n>=s)return o.find('[data-sector-image="'.concat(1,'"]')).addClass("product-item__image-img_active"),void o.find('[data-sector-dot="'.concat(1,'"]')).addClass("product-item__image-dot_active");o.find('[data-sector-image="'.concat(n+1,'"]')).addClass("product-item__image-img_active"),o.find('[data-sector-dot="'.concat(n+1,'"]')).addClass("product-item__image-dot_active")}if(e>t){if(o.find(".product-item__image-img_active").removeClass("product-item__image-img_active"),o.find(".product-item__image-dot_active").removeClass("product-item__image-dot_active"),n<=1)return o.find('[data-sector-image="'.concat(s,'"]')).addClass("product-item__image-img_active"),void o.find('[data-sector-dot="'.concat(s,'"]')).addClass("product-item__image-dot_active");o.find('[data-sector-image="'.concat(n-1,'"]')).addClass("product-item__image-img_active"),o.find('[data-sector-dot="'.concat(n-1,'"]')).addClass("product-item__image-dot_active")}}))})),$(".like-btn").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active")})),$(".city-selection__link").click((function(){$(".city-selection__list").toggle(0)})),$(window).click((function(t){t.target.classList.contains("city-selection__link")||$(".city-selection__list").toggle(!1)})),$(".burger-menu").click((function(){$(".mobile-menu").toggle(0)})),$(".catalog-inner-btn").click((function(t){t.preventDefault(),$(this).toggleClass("open"),$(".catalog-header-content").toggle(0)})),$(".catalog-inner-btn,.catalog-menu__head a").click((function(t){t.preventDefault(),$(".catalog-menu").toggle(0)})),$(".burger-catalog").click((function(t){t.preventDefault(),$(this).toggleClass("open")})),$(".share-btn").click((function(){$(".share-block__show").toggle(0)})),$(".close-panel").click((function(){$(".bottom-panel").toggle(0)})),$(".filter-btn, .close-btn-2").click((function(){$(".catalog-filter").toggle(0)})),$(".catalog-side__title").click((function(){$(".catalog-side__content").toggle(0),$(".catalog-side__content-accordeon").toggle(0)})),$(".catalog-opened").click((function(){$(".catalog-opened .submenu").toggle(0)})),$(".burger-menu").click((function(){$(this).toggleClass("menu-on")})),$(".catalog-inner").click((function(){$(this).toggleClass("open"),$(".catalog-inner-content").toggle(0)})),$((function(){$(".smoothScroll").click((function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if((t=t.length?t:$("[name="+this.hash.slice(1)+"]")).length)return $("html,body").animate({scrollTop:t.offset().top},1e3),!1}}))}));var bigSlides=$(".main-slider .owl-carousel"),autoPlayTimeoutSec=parseInt(bigSlides.data("autoplay-timeout"));bigSlides.owlCarousel({loop:!0,margin:5,nav:!0,dots:!0,items:1,autoplay:!0,autoplayTimeout:1e3*autoPlayTimeoutSec,navText:['<svg class="icon" viewBox="0 0 10.5 18.1"><path stroke="none" d="M9,0l1.4,1.4L2.8,9l7.6,7.6L9,18.1L0,9C0,9,9.1,0,9,0z"></path></svg>','<svg class="icon" viewBox="0 0 10.5 18.1"><path stroke="none" d="M1.4,18.1L0,16.7l7.6-7.6L0,1.5L1.4,0l9,9.1C10.4,9.1,1.3,18.1,1.4,18.1z"></path></svg>']});var radioButtons=document.querySelectorAll('.delivery-selection input[type="radio"]'),choices=document.querySelectorAll(".delivery-choice");radioButtons.forEach((function(t){t.addEventListener("change",(function(){var t=this;choices.forEach((function(e){e.classList.contains(t.id)||e.classList.contains("delivery-type-"+t.value)?e.style.display="block":e.style.display="none"}))}))})),$(".shopping-cart-item__delete").click((function(){$(this).parent(".shopping-cart-item").remove()})),$(".slider .owl-carousel").owlCarousel({loop:!0,margin:0,items:1,nav:!0}),$(".news-slider .owl-carousel").owlCarousel({loop:!0,margin:0,items:4,responsive:{0:{nav:!1,dots:!0,items:1},479:{nav:!1,dots:!0,items:2},768:{nav:!0,dots:!1,items:3},992:{items:4}}}),$(".action-slider .owl-carousel").owlCarousel({loop:!0,margin:20,nav:!0,dots:!1,items:3,responsive:{0:{nav:!1,dots:!0,items:1},479:{nav:!1,dots:!0,items:2},768:{nav:!0,dots:!1,items:3}}}),$(".partners-slider .owl-carousel").owlCarousel({loop:!0,margin:0,nav:!0,dots:!1,items:5,responsive:{0:{dots:!0,nav:!1,items:1},566:{nav:!1,dots:!0,items:2},768:{nav:!1,dots:!0,items:3},900:{nav:!1,dots:!0,items:4},950:{dots:!1}}}),function(t){t("select.custom-select").each((function(){var e=t(this),a=e.attr("id"),o=e.children("optgroup"),i="",n="";o.length?(o.each((function(){var e=t(this),a=e.attr("label");i+='<li class="optgroup">'+a+"</li>",e.children("option").each((function(){var e=t(this),a=e.attr("value"),o=e.html();"selected"===e.attr("selected")?(n=o,i+='<li class="selected" data-value="'+a+'">'+o+"</li>"):i+='<li data-value="'+a+'">'+o+"</li>"}))})),e.children("option").each((function(){var e=t(this),a=e.attr("value"),o=e.html();"selected"===e.attr("selected")?(n=o,i='<li class="selected" data-value="'+a+'">'+o+"</li>"+i):i='<li data-value="'+a+'">'+o+"</li>"+i}))):e.children("option").each((function(){var e=t(this),a=e.attr("value"),o=e.html();"selected"===e.attr("selected")?(n=o,i+='<li class="selected" data-value="'+a+'">'+o+"</li>"):i+='<li data-value="'+a+'">'+o+"</li>"})),t('<div class="dropdown-container"><div class="dropdown-select entypo-down-open-big"><svg class="icon"><use xlink:href="#tab-arrow"></use></svg><span>'+n+'</span></div><ul class="dropdown-select-ul" data-role="'+a+'">'+i+"</ul></div> \x3c!-- .custom-select-wrapper --\x3e").insertAfter(e)}));var e=t(".dropdown-select"),a=t(".dropdown-select-ul"),o=t(".dropdown-select-ul li");e.on("click",(function(){t(this).parent(".dropdown-container").toggleClass("active")})),a.on("mouseleave",(function(){t(this).parent(".dropdown-container").removeClass("active")})),o.on("click",(function(){var e=t(this);if(!e.hasClass("optgroup")){var a=e.parent("ul"),o=a.siblings(".dropdown-select"),i=e.html(),n=e.attr("data-value"),s="#"+a.attr("data-role");a.parent(".dropdown-container").toggleClass("active"),e.siblings("li").removeClass("selected"),e.addClass("selected"),t(s).val(n),o.children("span").html(i)}}))}(jQuery),$(".tab-content").hide(),$(".tab-content:first").show(),$("ul.tabs li,.product-card__review-link a,.schedule-btn a").click((function(){$(".tab-content").hide();var t=$(this).attr("rel");$("#"+t).fadeIn(),$("ul.tabs li").removeClass("active"),$(this).addClass("active"),$(".tab_drawer_heading").removeClass("d_active"),$(".tab_drawer_heading[rel^='"+t+"']").addClass("d_active")})),$(".tab_drawer_heading").click((function(){var t=$(this).attr("rel"),e=$("#"+t+":hidden"),a=$(this).not(".d_active");$(".tab-content").hide(),e.fadeIn(),$(".tab_drawer_heading").removeClass("d_active"),a.addClass("d_active"),$("ul.tabs li").removeClass("active"),$("ul.tabs li[rel^='"+t+"']").addClass("active")})),$("ul.tabs li").last().addClass("tab_last"),jQuery(document).ready((function(){jQuery(".schedule-btn a").click((function(){jQuery(".schedule-link").toggleClass("active")}))})),jQuery(document).ready((function(){jQuery(".product-card__review-link a").click((function(){jQuery(".review-tab-link").toggleClass("active")}))})),$(document).ready((function(){var t=$("#sync1"),e=$("#sync2");t.owlCarousel({items:1,slideSpeed:2e3,nav:!0,autoplay:!1,dots:!0,loop:!0,responsiveRefreshRate:200,margin:10}).on("changed.owl.carousel",(function(t){var a=t.item.count-1,o=Math.round(t.item.index-t.item.count/2-.5);o<0&&(o=a);o>a&&(o=0);e.find(".owl-item").removeClass("current").eq(o).addClass("current");var i=e.find(".owl-item.active").length-1,n=e.find(".owl-item.active").first().index(),s=e.find(".owl-item.active").last().index();o>s&&e.data("owl.carousel").to(o,100,!0);o<n&&e.data("owl.carousel").to(o-i,100,!0)})),e.on("initialized.owl.carousel",(function(){e.find(".owl-item").eq(0).addClass("current")})).owlCarousel({items:3,dots:!0,nav:!0,margin:10,smartSpeed:200,slideSpeed:500,slideBy:3,responsiveRefreshRate:100}).on("changed.owl.carousel",(function(e){var a=e.item.index;t.data("owl.carousel").to(a,100,!0)})),e.on("click",".owl-item",(function(e){e.preventDefault();var a=$(this).index();t.data("owl.carousel").to(a,300,!0)}))})),function(t){var e="cscrlb";function a(a,o){var i,n,s,r,l,c=a,d=t(a),u=d.find(".cscrlb-content"),m=7/8,h="vert",p="scrollTop",v="height",f="top";function g(e){e.preventDefault();var a=e.pageY;"horiz"===h&&(a=e.pageX),r=a-s.offset()[f],t(document).on("mousemove",w),t(document).on("mouseup",b)}function w(t){t.preventDefault();var e=t.pageY;"horiz"===h&&(e=t.pageX);var a=(e-n.offset()[f]-r)/n[v]()*u[v]();i[p](a)}function b(){t(document).off("mousemove",w),t(document).off("mouseup",b)}function _(t){if(t.target!==s[0]){var e=m*i[v](),a=("vert"===h?t.originalEvent.layerY:t.originalEvent.layerX)<s.position()[f]?i[p]()-e:i[p]()+e;i[p](a)}}function y(t){C()}function $(){var t=u[v](),e=i[p](),a=n[v](),o=a/t,r=Math.round(o*e),l=Math.floor(o*(a+2));a<t?("vert"===h?s.css({top:r,height:l}):s.css({left:r,width:l}),n.show()):n.hide()}function C(){$(),k()}function k(){s.addClass("visible"),o.autoHide&&("number"==typeof l&&window.clearTimeout(l),l=window.setTimeout((function(){s.removeClass("visible"),"number"==typeof l&&window.clearTimeout(l)}),1e3))}function x(){"vert"===h?(i.width(d.width()+S()),i.height(d.height())):(i.width(d.width()),i.height(d.height()+S()),u.height(d.height()))}function S(){var e=t('<div class="scrollbar-width-tester" style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>');t("body").append(e);var a=t(e).innerWidth(),o=t("div",e).innerWidth();return e.remove(),a===o&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1?17:a-o}function T(){x(),$()}return o=t.extend({},t.fn[e].defaults,o),window.onload=function(){u.focus()},d.hasClass("horizontal")&&(h="horiz",p="scrollLeft",v="width",f="left"),d.prepend('<div class="cscrlb-scrollbar"><div class="drag-handle"></div></div>'),n=d.find(".cscrlb-scrollbar"),s=d.find(".drag-handle"),o.wrapContent&&u.wrap('<div class="cscrlb-scroll-content" />'),i=d.find(".cscrlb-scroll-content"),x(),o.autoHide&&d.on("mouseenter",C),s.on("mousedown",g),n.on("mousedown",_),i.on("scroll",y),$(),t(window).on("resize",(function(){T()})),o.autoHide||k(),{option:function(t,e){if(!e)return o[t];o[t]=e},destroy:function(){var t;u.insertBefore(n),n.remove(),i.remove(),u.css({height:d.height()+"px","overflow-y":"scroll"}),void 0!==o[t="onDestroy"]&&o[t].call(c),d.removeData("plugin_"+e)},recalculate:T}}t.fn[e]=function(o){if("string"==typeof arguments[0]){var i,n=arguments[0],s=Array.prototype.slice.call(arguments,1);return this.each((function(){if(!t.data(this,"plugin_"+e)||"function"!=typeof t.data(this,"plugin_"+e)[n])throw new Error(" "+n+" "+e);i=t.data(this,"plugin_"+e)[n].apply(this,s)})),void 0!==i?i:this}if("object"===_typeof(o)||!o)return this.each((function(){t.data(this,"plugin_"+e)||t.data(this,"plugin_"+e,new a(this,o))}))},t.fn[e].defaults={onInit:function(){},onDestroy:function(){},wrapContent:!0,autoHide:!1}}(jQuery),$((function(){$(".cscrlb-scrollable").cscrlb()})),function(){var t=$(".button1"),e=$(".button2"),a=$(".button3"),o=$(".product-item");e.click((function(e){t.removeClass("current"),a.removeClass("current"),$(e.currentTarget).addClass("current"),localStorage.setItem("catalogGrid","wide"),o.removeClass("product-item--line"),o.addClass("product-item--wide")})),a.click((function(a){e.removeClass("current"),t.removeClass("current"),$(a.currentTarget).addClass("current"),localStorage.setItem("catalogGrid","wide"),o.removeClass("product-item--wide"),o.addClass("product-item--line")})),t.click((function(t){e.removeClass("current"),a.removeClass("current"),$(t.currentTarget).addClass("current"),localStorage.setItem("catalogGrid","default"),o.removeClass("product-item--wide"),o.removeClass("product-item--line")}))}();var keypressSliders=$(".range-slider");function _defineProperties(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}function _createForOfIteratorHelper(t,e){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,r=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return s=t.done,t},e:function(t){r=!0,n=t},f:function(){try{s||null==a.return||a.return()}finally{if(r)throw n}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,o=new Array(e);a<e;a++)o[a]=t[a];return o}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}$(keypressSliders).each((function(t,e){var a=$(e).data("name"),o=document.getElementById("id_"+a+"_0"),i=document.getElementById("id_"+a+"_1"),n=[o,i];if(o&&i)var s=parseInt(o.dataset.currentValue),r=parseInt(i.dataset.currentValue),l=parseInt(o.dataset.minValue),c=parseInt(i.dataset.maxValue);var d="";function u(t,a){var o=[null,null];o[t]=a,e.noUiSlider.set(o)}"price_range"==a&&(d=" ₽"),"undefined"!=typeof noUiSlider&&noUiSlider.create(e,{start:[s,r],connect:!0,range:{min:l,max:c},format:wNumb({decimals:0,thousand:" ",postfix:d}),step:1}),null!==e&&e.noUiSlider&&e.noUiSlider.on("update",(function(t,e){n[e].value=t[e]})),n.forEach((function(t,a){null!==t&&(t.addEventListener("change",(function(){u(a,this.value)})),t.addEventListener("keydown",(function(t){var o,i=e.noUiSlider.get(),n=Number(i[a]),s=e.noUiSlider.steps()[a];switch(t.which){case 13:u(a,this.value);break;case 38:!1===(o=s[1])&&(o=1),null!==o&&u(a,n+o);break;case 40:!1===(o=s[0])&&(o=1),null!==o&&u(a,n-o)}})))}))})),$(".acc__toggle:not(.not_toggle)").click((function(t){var e=$(this);e.next().hasClass("show")?(e.next().removeClass("show"),e.removeClass("active"),e.next().slideUp(200)):(e.parent().parent().find("li .inner").removeClass("show"),e.parent().parent().find("li .acc__toggle").removeClass("active"),e.parent().parent().find("li .inner").slideUp(200),e.next().toggleClass("show"),e.toggleClass("active"),e.next().slideToggle(200))}));var breakpoints={xs:0,sm:576,md:768,lg:1024,xl:1280};function throttle(t,e,a){var o=!1;return function(){o||(t.apply(a||this,arguments),o=!0,setTimeout((function(){return o=!1}),e))}}function debounce(t,e,a){var o=!1;return function(){var i=arguments,n=this;o&&clearTimeout(o),o=setTimeout((function(){t.apply(a||n,i)}),e)}}function homeBanner(){var t=$(".home-banner .owl-carousel");t.length&&t.owlCarousel({loop:!0,nav:!0,smartSpeed:500,dots:!0,items:1,lazyLoad:!0,autoplay:!0,autoplayTimeout:1e3*(+t.data("autoplay-timeout")||5),navText:['<svg class="icon" viewBox="0 0 10.5 18.1"><path stroke="none" d="M9,0l1.4,1.4L2.8,9l7.6,7.6L9,18.1L0,9C0,9,9.1,0,9,0z"></path></svg>','<svg class="icon" viewBox="0 0 10.5 18.1"><path stroke="none" d="M1.4,18.1L0,16.7l7.6-7.6L0,1.5L1.4,0l9,9.1C10.4,9.1,1.3,18.1,1.4,18.1z"></path></svg>']})}function header(){var t,e,a=$("header"),o=!1;function i(){a.hasClass("header_landing")||(e=$(window).scrollTop(),t=a.height(),e>t?a.addClass("fixed"):a.removeClass("fixed"))}i(),$(window).scroll((function(){o||(o=!0,setTimeout((function(){i(),o=!1}),100))}))}function gallery(){$.fancybox&&$(".owl-item [data-fancybox]").on("click",(function(){var t=$(this).parents(".owl-carousel").find(".owl-item:not(.cloned) [data-fancybox]");return $.fancybox.open(t,{selector:t,backFocus:!1},t.index(this)),!1}))}function landing_sliders(){var t=$(".landing-slider .owl-carousel");t.length&&t.each((function(){var t,e,a,o,i=$(this);i.is(".landing-slider_1 .owl-carousel")?(t=2,e=2,a=3,o=4):i.is(".landing-slider_2 .owl-carousel")&&(t=1,e=2,a=3,o=4),i.owlCarousel({loop:!0,margin:20,responsive:{0:{items:t,margin:16},576:{items:e},768:{items:a},992:{items:o}}})}))}function toggle(){var t=$(".toggle-section");t.each((function(){var t,e,a=$(this),o=a.children(".toggle-section__trigger"),i=a.children(".toggle-section__content"),n=i.find(".toggle-section__close"),s=!!a.hasClass("active");(o.on("click",(function(){s=!s,r()})),n.on("click",(function(){s=!1,r()})),a.is("[data-hover]"))&&(o.add(i).on("mouseenter",(function(t){isTouch||(e&&clearTimeout(e),s=!0,r())})),o.add(i).on("mouseleave",(function(t){var a;isTouch||(a=$(this).is(o)?500:100,e=setTimeout((function(){s=!1,r()}),a))})));function r(){s?(a.add(i).add(o).addClass("active"),a.is("[data-slide]")&&i.slideDown(250)):(a.add(o).add(i).removeClass("active"),a.is("[data-slide]")&&(t?i.stop().slideUp(250):i.hide(0)))}(a.is("[data-out-hide]")||a.is("[data-hover]"))&&$(document).on("click touchstart",(function(t){var e=$(t.target);e.closest(i).length||e.closest(o).length||!s||(s=!1,r())})),r(),t=!0}))}function up(){var t=$(".js-up");function e(){$(window).scrollTop()>50?t.addClass("visible"):t.removeClass("visible")}var a=!1;$(window).on("scroll",(function(){a||(a=!0,setTimeout((function(){e(),a=!1}),100))})),e(),t.on("click",(function(t){t.preventDefault(),$("html, body").animate({scrollTop:0},500)}))}function chatBlock(){var t=$(".chat-block"),e=$("[data-chat-open]"),a=$("[data-chat-close]");e.on("click",(function(){t.addClass("active")})),a.on("click",(function(){t.removeClass("active")}))}$(document).ready((function(){homeBanner(),header(),gallery(),landing_sliders(),up(),chatBlock(),toggle(),new СustomInteraction({targets:"a, button, [data-custom-interaction], .image-zoom"}),document.querySelectorAll(".slider-constructor").forEach((function(t){new SliderConstructor(t).init()}))}));var СustomInteraction=function t(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.targets=a.targets,this.touchendDelay=a.touchendDelay||100;var o=function(t){var a=[];a[0]=t.target!==document?t.target.closest(e.targets):null;for(var o=a[0],i=0;a[0]&&(o=o.parentNode)!==document;)o.matches(a.value)&&(i++,a[i]=o);if("touchstart"==t.type){if(e.touched=!0,e.timeout&&clearTimeout(e.timeout),a[0]){var n,s=_createForOfIteratorHelper(a);try{for(s.s();!(n=s.n()).done;){n.value.setAttribute("data-touch","")}}catch(t){s.e(t)}finally{s.f()}}}else("touchend"==t.type||"contextmenu"==t.type&&e.touched)&&(e.timeout=setTimeout((function(){e.touched=!1}),e.touchendDelay),a[0]&&setTimeout((function(){var t,e=_createForOfIteratorHelper(a);try{for(e.s();!(t=e.n()).done;){t.value.removeAttribute("data-touch")}}catch(t){e.e(t)}finally{e.f()}}),e.touchendDelay));"mouseenter"==t.type&&!e.touched&&a[0]&&a[0]==t.target?a[0].setAttribute("data-hover",""):"mouseleave"==t.type&&!e.touched&&a[0]&&a[0]==t.target&&(a[0].removeAttribute("data-click"),a[0].removeAttribute("data-hover")),"mousedown"==t.type&&!e.touched&&a[0]?a[0].setAttribute("data-click",""):"mouseup"==t.type&&!e.touched&&a[0]&&a[0].removeAttribute("data-click")};document.addEventListener("touchstart",o),document.addEventListener("touchend",o),document.addEventListener("mouseenter",o,!0),document.addEventListener("mouseleave",o,!0),document.addEventListener("mousedown",o),document.addEventListener("mouseup",o),document.addEventListener("contextmenu",o)},SliderConstructor=function(){function t(e){_classCallCheck(this,t),this.element=e}return _createClass(t,[{key:"init",value:function(){var t=this;this.params={},this.params.autoplay=null!==this.element.getAttribute("data-autoplay-timeout"),this.params.autoplayTimeout=+this.element.getAttribute("data-autoplay-timeout")||5e3,this.params.arrows=null===this.element.getAttribute("data-no-arrows"),window.matchMedia("(min-width: 575.98px)").matches?this.params.dots=null===this.element.getAttribute("data-no-dots"):this.params.dots=!0,this.params.adaptiveHeight=null!==this.element.getAttribute("data-adaptive-height"),this.params.centerMode=null!==this.element.getAttribute("data-center"),this.params.count={},this.params.count.xs=+this.element.getAttribute("data-slides")||1,this.params.count.sm=+this.element.getAttribute("data-sm-slides")||this.params.count.xs,this.params.count.md=+this.element.getAttribute("data-md-slides")||this.params.count.sm,this.params.count.lg=+this.element.getAttribute("data-lg-slides")||this.params.count.md,this.params.count.xl=+this.element.getAttribute("data-xl-slides")||this.params.count.lg,this.params.rows={},this.params.rows.xs=+this.element.getAttribute("data-rows")||1,this.params.rows.sm=+this.element.getAttribute("data-sm-rows")||this.params.rows.xs,this.params.rows.md=+this.element.getAttribute("data-md-rows")||this.params.rows.sm,this.params.rows.lg=+this.element.getAttribute("data-lg-rows")||this.params.rows.md,this.params.rows.xl=+this.element.getAttribute("data-xl-rows")||this.params.rows.lg,this.params.state={},Object.keys(breakpoints).forEach((function(e,a){var o=0!==a?"-"+e+"-":"-",i=t.element.getAttribute("data".concat(o,"mounted"));if(null===i&&0!==a){var n=Object.keys(breakpoints)[a-1];t.params.state[e]=t.params.state[n]}else t.params.state[e]="true"===i||0===a&&"false"!==i})),this.slides=[],this.containsMobileHiddenSlides=!1,this.element.childNodes.forEach((function(e){e.tagName&&(null!==e.getAttribute("data-slide-mobile-hidden")&&(t.containsMobileHiddenSlides=!0),t.slides.push(e))})),this.createIcons(),this.checkSliderState(),this.checkSliderStateDebounced=debounce(this.checkSliderState,500,this),window.addEventListener("resize",this.checkSliderStateDebounced)}},{key:"createIcons",value:function(){var t='\n      <svg viewBox="0 0 11 19" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n        <path d="M1.4 18.1L0 16.7L7.6 9.10001L0 1.5L1.4 0L10.4 9.10001C10.4 9.10001 1.3 18.1 1.4 18.1Z"/>\n      </svg>\n    ',e='\n      <svg viewBox="0 0 11 19" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n        <path d="M9.00039 7.24792e-05L10.4004 1.40007L2.80039 9.00009L10.4004 16.6001L9.00039 18.1001L0.000391006 9.00009C0.000391006 9.00009 9.10039 7.24792e-05 9.00039 7.24792e-05Z"/>\n      </svg>\n    ',a="custom-icon-left",o="custom-icon-right";this.element.querySelectorAll(".".concat(a,", .").concat(o)).forEach((function(i){var n=i.classList.contains(a),s=i.classList.contains(o);n?(i.classList.remove(a),t=i.outerHTML):s&&(i.classList.remove(o),e=i.outerHTML),i.remove()})),this.nextArrow='<button type="button" class="button button_style-1 slick-next">'.concat(t,"</button>"),this.prevArrow='<button type="button" class="button button_style-1 slick-prev">'.concat(e,"</button>")}},{key:"checkSliderState",value:function(){if(!this.mounted||this.savedWindowWidth!==window.innerWidth){var t;for(var e in this.savedWindowWidth=window.innerWidth,this.mounted&&this.unmount(),breakpoints)window.innerWidth>=breakpoints[e]&&(t=this.params.state[e]);t?(this.element.classList.remove("visible"),this.containsMobileHiddenSlides&&this.checkSlidesVisibility(),this.mount()):this.element.classList.add("visible")}}},{key:"checkSlidesVisibility",value:function(){var t=this;this.slides.forEach((function(t){t.remove()})),this.slides.forEach((function(e){var a=null!==e.getAttribute("data-slide-mobile-hidden"),o=window.innerWidth<breakpoints.sm;a&&o||t.element.insertAdjacentElement("beforeend",e)}))}},{key:"mount",value:function(){$(this.element).slick({autoplay:this.params.autoplay,autoplaySpeed:this.params.autoplayTimeout,mobileFirst:!0,slidesToShow:this.params.count.xs,slidesToScroll:this.params.count.xs,rows:this.params.rows.xs,prevArrow:this.prevArrow,nextArrow:this.nextArrow,arrows:this.params.arrows,adaptiveHeight:this.params.adaptiveHeight,dots:this.params.dots,centerMode:this.params.centerMode,accessibility:!1,responsive:[{breakpoint:breakpoints.sm-1,settings:{slidesToShow:this.params.count.sm,slidesToScroll:this.params.count.sm,rows:this.params.rows.sm}},{breakpoint:breakpoints.md-1,settings:{slidesToShow:this.params.count.md,slidesToScroll:this.params.count.md,rows:this.params.rows.md}},{breakpoint:breakpoints.lg-1,settings:{slidesToShow:this.params.count.lg,slidesToScroll:this.params.count.lg,rows:this.params.rows.lg}},{breakpoint:breakpoints.xl-1,settings:{slidesToShow:this.params.count.xl,slidesToScroll:this.params.count.xl,rows:this.params.rows.xl}}]}),this.mounted=!0}},{key:"unmount",value:function(){$(this.element).slick("unslick"),this.mounted=!1}}]),t}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiX3R5cGVvZiIsIm9iaiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsImNsaWNrIiwidGhpcyIsInBhcmVudCIsImZpbmQiLCJzbGlkZVRvZ2dsZSIsInRvZ2dsZUNsYXNzIiwib24iLCJldmVudCIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJpZCIsImF0dHIiLCJyZW1vdmVDbGFzcyIsImNvbmNhdCIsImFkZENsYXNzIiwidG91Y2hzdGFydFgiLCJ0b3VjaGVuZFgiLCJjaGFuZ2VkVG91Y2hlcyIsInNjcmVlblgiLCJpbWciLCJOdW1iZXIiLCJsZW5ndGgiLCJwcmV2ZW50RGVmYXVsdCIsInRvZ2dsZSIsIndpbmRvdyIsImUiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiaG9zdG5hbWUiLCJoYXNoIiwic2xpY2UiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwib2Zmc2V0IiwidG9wIiwiYmlnU2xpZGVzIiwiYXV0b1BsYXlUaW1lb3V0U2VjIiwicGFyc2VJbnQiLCJkYXRhIiwib3dsQ2Fyb3VzZWwiLCJsb29wIiwibWFyZ2luIiwibmF2IiwiZG90cyIsIml0ZW1zIiwiYXV0b3BsYXkiLCJhdXRvcGxheVRpbWVvdXQiLCJuYXZUZXh0IiwicmFkaW9CdXR0b25zIiwicXVlcnlTZWxlY3RvckFsbCIsImNob2ljZXMiLCJmb3JFYWNoIiwiYnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsaWNrZWQiLCJjaG9pY2UiLCJ2YWx1ZSIsInN0eWxlIiwiZGlzcGxheSIsInJlbW92ZSIsInJlc3BvbnNpdmUiLCJlYWNoIiwidGhhdCIsImxpc3RJRCIsImdyb3VwcyIsImNoaWxkcmVuIiwidGhlT3B0aW9ucyIsInN0YXJ0aW5nT3B0aW9uIiwiY3VyR3JvdXAiLCJjdXJOYW1lIiwiY3VyT3B0IiwiY3VyVmFsIiwiY3VySHRtbCIsImh0bWwiLCJpbnNlcnRBZnRlciIsInNlbGVjdGRkIiwic2VsZWN0dWwiLCJzZWxlY3RsaSIsImhhc0NsYXNzIiwicGFyZW50VWwiLCJ0aGlzZGQiLCJzaWJsaW5ncyIsImxpaHRtbCIsImxpdmFsdWUiLCJvcmlnaW5hbFNlbGVjdCIsInZhbCIsImpRdWVyeSIsImhpZGUiLCJzaG93IiwiYWN0aXZlVGFiIiwiZmFkZUluIiwiZF9hY3RpdmVUYWIiLCJhY3RpdmVUYWJCbG9jayIsIiR0aGlzQWN0aXZlIiwibm90IiwibGFzdCIsInN5bmMxIiwic3luYzIiLCJzbGlkZVNwZWVkIiwicmVzcG9uc2l2ZVJlZnJlc2hSYXRlIiwiZWwiLCJjb3VudCIsIml0ZW0iLCJjdXJyZW50IiwiTWF0aCIsInJvdW5kIiwiaW5kZXgiLCJlcSIsIm9uc2NyZWVuIiwic3RhcnQiLCJmaXJzdCIsImVuZCIsInRvIiwic21hcnRTcGVlZCIsInNsaWRlQnkiLCJudW1iZXIiLCJwbHVnaW5OYW1lIiwiUGx1Z2luIiwiZWxlbWVudCIsIm9wdGlvbnMiLCIkc2Nyb2xsQ29udGVudEVsIiwiJHNjcm9sbGJhckVsIiwiJGRyYWdIYW5kbGVFbCIsImRyYWdPZmZzZXQiLCJmbGFzaFRpbWVvdXQiLCIkZWwiLCIkY29udGVudEVsIiwicGFnZUp1bXBNdWx0cCIsInNjcm9sbERpcmVjdGlvbiIsInNjcm9sbE9mZnNldEF0dHIiLCJzaXplQXR0ciIsIm9mZnNldEF0dHIiLCJzdGFydERyYWciLCJldmVudE9mZnNldCIsInBhZ2VZIiwicGFnZVgiLCJkcmFnIiwiZW5kRHJhZyIsInNjcm9sbFBvcyIsIm9mZiIsImp1bXBTY3JvbGwiLCJqdW1wQW10Iiwib3JpZ2luYWxFdmVudCIsImxheWVyWSIsImxheWVyWCIsInBvc2l0aW9uIiwib25TY3JvbGxlZCIsImZsYXNoU2Nyb2xsYmFyIiwicmVzaXplU2Nyb2xsYmFyIiwiY29udGVudFNpemUiLCJzY3JvbGxPZmZzZXQiLCJzY3JvbGxiYXJTaXplIiwic2Nyb2xsYmFyUmF0aW8iLCJoYW5kbGVPZmZzZXQiLCJoYW5kbGVTaXplIiwiZmxvb3IiLCJjc3MiLCJoZWlnaHQiLCJsZWZ0Iiwid2lkdGgiLCJzaG93U2Nyb2xsYmFyIiwiYXV0b0hpZGUiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwicmVzaXplU2Nyb2xsQ29udGVudCIsInNjcm9sbGJhcldpZHRoIiwidGVtcEVsIiwiYXBwZW5kIiwiaW5uZXJXaWR0aCIsIndpZHRoTWludXNTY3JvbGxiYXJzIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidG9Mb3dlckNhc2UiLCJpbmRleE9mIiwicmVjYWxjdWxhdGUiLCJleHRlbmQiLCJmbiIsImRlZmF1bHRzIiwib25sb2FkIiwiZm9jdXMiLCJwcmVwZW5kIiwid3JhcENvbnRlbnQiLCJ3cmFwIiwib3B0aW9uIiwia2V5IiwiZGVzdHJveSIsImhvb2tOYW1lIiwiaW5zZXJ0QmVmb3JlIiwidW5kZWZpbmVkIiwiY2FsbCIsInJlbW92ZURhdGEiLCJhcmd1bWVudHMiLCJyZXR1cm5WYWwiLCJtZXRob2ROYW1lIiwiYXJncyIsIkFycmF5IiwiRXJyb3IiLCJhcHBseSIsIm9uSW5pdCIsIm9uRGVzdHJveSIsImNzY3JsYiIsImJ1dHRvbkRlZmF1bHRWaWV3IiwiYnV0dG9uV2lkZVZpZXciLCJidXR0b25MaW5lVmlldyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJrZXlwcmVzc1NsaWRlcnMiLCJfZGVmaW5lUHJvcGVydGllcyIsInByb3BzIiwiaSIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9jcmVhdGVDbGFzcyIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJvIiwiYWxsb3dBcnJheUxpa2UiLCJpdCIsImlzQXJyYXkiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJGIiwicyIsIm4iLCJkb25lIiwiX2UiLCJmIiwiVHlwZUVycm9yIiwiZXJyIiwibm9ybWFsQ29tcGxldGlvbiIsImRpZEVyciIsInN0ZXAiLCJuZXh0IiwiX2UyIiwicmV0dXJuIiwibWluTGVuIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJ0b1N0cmluZyIsIm5hbWUiLCJmcm9tIiwidGVzdCIsImFyciIsImxlbiIsImFycjIiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsImtleXByZXNzU2xpZGVyIiwiZmllbGRfbmFtZSIsImlucHV0MCIsImdldEVsZW1lbnRCeUlkIiwiaW5wdXQxIiwiaW5wdXRzIiwic3RhcnRWYWwiLCJkYXRhc2V0IiwiY3VycmVudFZhbHVlIiwiZW5kVmFsIiwibWluVmFsIiwibWluVmFsdWUiLCJtYXhWYWwiLCJtYXhWYWx1ZSIsInBvc3RmaXgiLCJzZXRTbGlkZXJIYW5kbGUiLCJyIiwibm9VaVNsaWRlciIsInNldCIsImNyZWF0ZSIsImNvbm5lY3QiLCJyYW5nZSIsIm1pbiIsIm1heCIsImZvcm1hdCIsIndOdW1iIiwiZGVjaW1hbHMiLCJ0aG91c2FuZCIsInZhbHVlcyIsImhhbmRsZSIsImlucHV0IiwiZ2V0Iiwic3RlcHMiLCJ3aGljaCIsIiR0aGlzIiwic2xpZGVVcCIsImJyZWFrcG9pbnRzIiwieHMiLCJzbSIsIm1kIiwibGciLCJ4bCIsInRocm90dGxlIiwiZnVuYyIsImludGVydmFsIiwiY29udGV4dCIsImlzQ29vbGRvd24iLCJkZWJvdW5jZSIsInRpbWVvdXQiLCJfYXJndW1lbnRzIiwiX3RoaXMiLCJob21lQmFubmVyIiwiJHNsaWRlciIsImxhenlMb2FkIiwiaGVhZGVyIiwic2Nyb2xsIiwiJGhlYWRlciIsImlzVGhyb3R0bGVkIiwiY2hlY2siLCJnYWxsZXJ5IiwiZmFuY3lib3giLCIkc2VsZWN0b3IiLCJwYXJlbnRzIiwib3BlbiIsInNlbGVjdG9yIiwiYmFja0ZvY3VzIiwibGFuZGluZ19zbGlkZXJzIiwiJHNsaWRlcnMiLCJjb3VudDEiLCJjb3VudDIiLCJjb3VudDMiLCJjb3VudDQiLCJpcyIsIiRzZWN0aW9uIiwiaW5pdGlhbGl6ZWQiLCIkdG9nZ2xlIiwiJGNvbnRlbnQiLCIkY2xvc2UiLCJzdGF0ZSIsImFkZCIsImlzVG91Y2giLCJkZWxheSIsInNsaWRlRG93biIsInN0b3AiLCIkdGFyZ2V0IiwiY2xvc2VzdCIsInVwIiwiJGJ0biIsImNoYXRCbG9jayIsIiRibG9jayIsIiRvcGVuIiwi0KF1c3RvbUludGVyYWN0aW9uIiwidGFyZ2V0cyIsIlNsaWRlckNvbnN0cnVjdG9yIiwiaW5pdCIsIl90aGlzMiIsInRvdWNoZW5kRGVsYXkiLCJldmVudHMiLCIkdGFyZ2V0cyIsIiRlbGVtZW50IiwicGFyZW50Tm9kZSIsIm1hdGNoZXMiLCJ0eXBlIiwidG91Y2hlZCIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwic2V0QXR0cmlidXRlIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsInJlbW92ZUF0dHJpYnV0ZSIsIl90aGlzMyIsInBhcmFtcyIsImdldEF0dHJpYnV0ZSIsImFycm93cyIsIm1hdGNoTWVkaWEiLCJhZGFwdGl2ZUhlaWdodCIsImNlbnRlck1vZGUiLCJyb3dzIiwia2V5cyIsImJyZWFrcG9pbnQiLCJwcmV2S2V5Iiwic2xpZGVzIiwiY29udGFpbnNNb2JpbGVIaWRkZW5TbGlkZXMiLCJjaGlsZE5vZGVzIiwic2xpZGUiLCJ0YWdOYW1lIiwicHVzaCIsImNyZWF0ZUljb25zIiwiY2hlY2tTbGlkZXJTdGF0ZSIsImNoZWNrU2xpZGVyU3RhdGVEZWJvdW5jZWQiLCJsZWZ0SWNvbiIsInJpZ2h0SWNvbiIsImxlZnRJY29uQ2xhc3MiLCJyaWdodEljb25DbGFzcyIsImljb24iLCJpc0xlZnRJY29uIiwiaXNSaWdodEljb24iLCJvdXRlckhUTUwiLCJuZXh0QXJyb3ciLCJwcmV2QXJyb3ciLCJtb3VudGVkIiwic2F2ZWRXaW5kb3dXaWR0aCIsInVubW91bnQiLCJjaGVja1NsaWRlc1Zpc2liaWxpdHkiLCJtb3VudCIsIl90aGlzNCIsInNob3VsZEJlSGlkZGVuIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50Iiwic2xpY2siLCJhdXRvcGxheVNwZWVkIiwibW9iaWxlRmlyc3QiLCJzbGlkZXNUb1Nob3ciLCJzbGlkZXNUb1Njcm9sbCIsImFjY2Vzc2liaWxpdHkiLCJzZXR0aW5ncyJdLCJtYXBwaW5ncyI6IkFBQUEsYUFFQSxTQUFTQSxRQUFRQyxHQWdCZixPQWJFRCxRQURvQixtQkFBWEUsUUFBb0QsaUJBQXBCQSxPQUFPQyxTQUN0QyxTQUFpQkYsR0FDekIsY0FBY0EsQ0FDaEIsRUFFVSxTQUFpQkEsR0FDekIsT0FBT0EsR0FDYSxtQkFBWEMsUUFDUEQsRUFBSUcsY0FBZ0JGLFFBQ3BCRCxJQUFRQyxPQUFPRyxVQUNiLGdCQUNPSixDQUNiLEVBRUtELFFBQVFDLEVBQ2pCLENBRUFLLEVBQUVDLFVBQVVDLE9BQU0sV0FDaEJGLEVBQUUsc0NBQXNDRyxPQUFNLFdBRzVDLE9BRkFILEVBQUVJLE1BQU1DLFNBQVNDLEtBQUssWUFBWUMsY0FDbENQLEVBQUVJLE1BQU1DLFNBQVNHLFlBQVksV0FDdEIsQ0FDVCxJQUVBUixFQUFFLCtCQUErQlMsR0FBRyxhQUFhLFNBQUNDLEdBQ2hELElBQU1DLEVBQVNYLEVBQUVVLEVBQU1FLGVBQ2pCQyxFQUFLRixFQUFPRyxLQUFLLGVBQ2pCVCxFQUFTTSxFQUFPTixTQUFTQSxTQUMvQkEsRUFBT0MsS0FBSyxtQ0FBbUNTLFlBQVksa0NBQzNEVixFQUFPQyxLQUFLLG1DQUFtQ1MsWUFBWSxrQ0FDM0RWLEVBQU9DLEtBQUksdUJBQUFVLE9BQXdCSCxFQUFFLE9BQU1JLFNBQVMsa0NBQ3BEWixFQUFPQyxLQUFJLHFCQUFBVSxPQUFzQkgsRUFBRSxPQUFNSSxTQUFTLGlDQUNwRCxJQUVBLElBQUlDLEVBQWMsRUFDZEMsRUFBWSxFQUVoQm5CLEVBQUUsZ0NBQWdDUyxHQUFHLGNBQWMsU0FBQ0MsR0FDbERRLEVBQWNSLEVBQU1VLGVBQWUsR0FBR0MsT0FDeEMsSUFFQXJCLEVBQUUsZ0NBQWdDUyxHQUFHLFlBQVksU0FBQ0MsR0FDaERTLEVB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QWdCclosS0FBSzRXLE9BQU9yUSxNQUFNK0wsR0FDbEM0RSxLQUFNbFgsS0FBSzRXLE9BQU9NLEtBQUs1RSxRQUsvQnRTLEtBQUt5WSxTQUFVLENBQ2pCLEdBRUYsQ0FDRS9NLElBQUssVUFDTGhJLE1BQU8sV0FDTDlELEVBQUVJLEtBQUt3SCxTQUFTeVIsTUFBTSxXQUN0QmpaLEtBQUt5WSxTQUFVLENBQ2pCLEtBSUcvQyxDQUNULENBOU51QyIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikge1xyXG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcclxuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHtcclxuICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xyXG4gICAgICByZXR1cm4gdHlwZW9mIG9iajtcclxuICAgIH07XHJcbiAgfSBlbHNlIHtcclxuICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xyXG4gICAgICByZXR1cm4gb2JqICYmXHJcbiAgICAgICAgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmXHJcbiAgICAgICAgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiZcclxuICAgICAgICBvYmogIT09IFN5bWJvbC5wcm90b3R5cGVcclxuICAgICAgICA/IFwic3ltYm9sXCJcclxuICAgICAgICA6IHR5cGVvZiBvYmo7XHJcbiAgICB9O1xyXG4gIH1cclxuICByZXR1cm4gX3R5cGVvZihvYmopO1xyXG59XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgJChcIi5jYXRhbG9nLWZpbHRlci1hY2NvcmRpb24gYS5vcGVuZXJcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgJCh0aGlzKS5wYXJlbnQoKS5maW5kKFwidWw6Zmlyc3RcIikuc2xpZGVUb2dnbGUoKTtcclxuICAgICQodGhpcykucGFyZW50KCkudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfSk7XHJcblxyXG4gICQoXCIucHJvZHVjdC1pdGVtX19pbWFnZS1zZWN0b3JcIikub24oXCJtb3VzZW1vdmVcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xyXG4gICAgY29uc3QgaWQgPSB0YXJnZXQuYXR0cihcImRhdGEtc2VjdG9yXCIpO1xyXG4gICAgY29uc3QgcGFyZW50ID0gdGFyZ2V0LnBhcmVudCgpLnBhcmVudCgpO1xyXG4gICAgcGFyZW50LmZpbmQoXCIucHJvZHVjdC1pdGVtX19pbWFnZS1pbWdfYWN0aXZlXCIpLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1pdGVtX19pbWFnZS1pbWdfYWN0aXZlXCIpO1xyXG4gICAgcGFyZW50LmZpbmQoXCIucHJvZHVjdC1pdGVtX19pbWFnZS1kb3RfYWN0aXZlXCIpLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1pdGVtX19pbWFnZS1kb3RfYWN0aXZlXCIpO1xyXG4gICAgcGFyZW50LmZpbmQoYFtkYXRhLXNlY3Rvci1pbWFnZT1cIiR7aWR9XCJdYCkuYWRkQ2xhc3MoXCJwcm9kdWN0LWl0ZW1fX2ltYWdlLWltZ19hY3RpdmVcIik7XHJcbiAgICBwYXJlbnQuZmluZChgW2RhdGEtc2VjdG9yLWRvdD1cIiR7aWR9XCJdYCkuYWRkQ2xhc3MoXCJwcm9kdWN0LWl0ZW1fX2ltYWdlLWRvdF9hY3RpdmVcIik7XHJcbiAgfSk7XHJcblxyXG4gIGxldCB0b3VjaHN0YXJ0WCA9IDA7XHJcbiAgbGV0IHRvdWNoZW5kWCA9IDA7XHJcblxyXG4gICQoXCIucHJvZHVjdC1pdGVtX19pbWFnZS1zZWN0b3JzXCIpLm9uKFwidG91Y2hzdGFydFwiLCAoZXZlbnQpID0+IHtcclxuICAgIHRvdWNoc3RhcnRYID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uc2NyZWVuWDtcclxuICB9KTtcclxuXHJcbiAgJChcIi5wcm9kdWN0LWl0ZW1fX2ltYWdlLXNlY3RvcnNcIikub24oXCJ0b3VjaGVuZFwiLCAoZXZlbnQpID0+IHtcclxuICAgIHRvdWNoZW5kWCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnNjcmVlblg7XHJcbiAgICBjb25zdCBwYXJlbnQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnBhcmVudCgpO1xyXG4gICAgY29uc3QgaW1nID0gcGFyZW50LmZpbmQoXCIucHJvZHVjdC1pdGVtX19pbWFnZS1pbWdfYWN0aXZlXCIpO1xyXG4gICAgY29uc3QgaWQgPSBOdW1iZXIoaW1nLmF0dHIoXCJkYXRhLXNlY3Rvci1pbWFnZVwiKSk7XHJcbiAgICBjb25zdCBsZW5ndGggPSBwYXJlbnQuZmluZChcIi5wcm9kdWN0LWl0ZW1fX2ltYWdlLWltZ1wiKS5sZW5ndGg7XHJcblxyXG4gICAgaWYgKHRvdWNoZW5kWCA8IHRvdWNoc3RhcnRYKSB7XHJcbiAgICAgIHBhcmVudC5maW5kKFwiLnByb2R1Y3QtaXRlbV9faW1hZ2UtaW1nX2FjdGl2ZVwiKS5yZW1vdmVDbGFzcyhcInByb2R1Y3QtaXRlbV9faW1hZ2UtaW1nX2FjdGl2ZVwiKTtcclxuICAgICAgcGFyZW50LmZpbmQoXCIucHJvZHVjdC1pdGVtX19pbWFnZS1kb3RfYWN0aXZlXCIpLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1pdGVtX19pbWFnZS1kb3RfYWN0aXZlXCIpO1xyXG4gICAgICBpZiAoaWQgPj0gbGVuZ3RoKSB7XHJcbiAgICAgICAgcGFyZW50LmZpbmQoYFtkYXRhLXNlY3Rvci1pbWFnZT1cIiR7MX1cIl1gKS5hZGRDbGFzcyhcInByb2R1Y3QtaXRlbV9faW1hZ2UtaW1nX2FjdGl2ZVwiKTtcclxuICAgICAgICBwYXJlbnQuZmluZChgW2RhdGEtc2VjdG9yLWRvdD1cIiR7MX1cIl1gKS5hZGRDbGFzcyhcInByb2R1Y3QtaXRlbV9faW1hZ2UtZG90X2FjdGl2ZVwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgcGFyZW50LmZpbmQoYFtkYXRhLXNlY3Rvci1pbWFnZT1cIiR7aWQgKyAxfVwiXWApLmFkZENsYXNzKFwicHJvZHVjdC1pdGVtX19pbWFnZS1pbWdfYWN0aXZlXCIpO1xyXG4gICAgICBwYXJlbnQuZmluZChgW2RhdGEtc2VjdG9yLWRvdD1cIiR7aWQgKyAxfVwiXWApLmFkZENsYXNzKFwicHJvZHVjdC1pdGVtX19pbWFnZS1kb3RfYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRvdWNoZW5kWCA+IHRvdWNoc3RhcnRYKSB7XHJcbiAgICAgIHBhcmVudC5maW5kKFwiLnByb2R1Y3QtaXRlbV9faW1hZ2UtaW1nX2FjdGl2ZVwiKS5yZW1vdmVDbGFzcyhcInByb2R1Y3QtaXRlbV9faW1hZ2UtaW1nX2FjdGl2ZVwiKTtcclxuICAgICAgcGFyZW50LmZpbmQoXCIucHJvZHVjdC1pdGVtX19pbWFnZS1kb3RfYWN0aXZlXCIpLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1pdGVtX19pbWFnZS1kb3RfYWN0aXZlXCIpO1xyXG4gICAgICBpZiAoaWQgPD0gMSkge1xyXG4gICAgICAgIHBhcmVudC5maW5kKGBbZGF0YS1zZWN0b3ItaW1hZ2U9XCIke2xlbmd0aH1cIl1gKS5hZGRDbGFzcyhcInByb2R1Y3QtaXRlbV9faW1hZ2UtaW1nX2FjdGl2ZVwiKTtcclxuICAgICAgICBwYXJlbnQuZmluZChgW2RhdGEtc2VjdG9yLWRvdD1cIiR7bGVuZ3RofVwiXWApLmFkZENsYXNzKFwicHJvZHVjdC1pdGVtX19pbWFnZS1kb3RfYWN0aXZlXCIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBwYXJlbnQuZmluZChgW2RhdGEtc2VjdG9yLWltYWdlPVwiJHtpZCAtIDF9XCJdYCkuYWRkQ2xhc3MoXCJwcm9kdWN0LWl0ZW1fX2ltYWdlLWltZ19hY3RpdmVcIik7XHJcbiAgICAgIHBhcmVudC5maW5kKGBbZGF0YS1zZWN0b3ItZG90PVwiJHtpZCAtIDF9XCJdYCkuYWRkQ2xhc3MoXCJwcm9kdWN0LWl0ZW1fX2ltYWdlLWRvdF9hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG4kKFwiLmxpa2UtYnRuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAkKHRoaXMpLnRvZ2dsZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG59KTtcclxuJChcIi5jaXR5LXNlbGVjdGlvbl9fbGlua1wiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgJChcIi5jaXR5LXNlbGVjdGlvbl9fbGlzdFwiKS50b2dnbGUoMCk7XHJcbn0pO1xyXG4kKHdpbmRvdykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICBpZiAoIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImNpdHktc2VsZWN0aW9uX19saW5rXCIpKSB7XHJcbiAgICAkKFwiLmNpdHktc2VsZWN0aW9uX19saXN0XCIpLnRvZ2dsZShmYWxzZSk7XHJcbiAgfVxyXG59KTtcclxuJChcIi5idXJnZXItbWVudVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgJChcIi5tb2JpbGUtbWVudVwiKS50b2dnbGUoMCk7XHJcbn0pO1xyXG4kKFwiLmNhdGFsb2ctaW5uZXItYnRuXCIpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICQodGhpcykudG9nZ2xlQ2xhc3MoXCJvcGVuXCIpO1xyXG4gICQoXCIuY2F0YWxvZy1oZWFkZXItY29udGVudFwiKS50b2dnbGUoMCk7XHJcbn0pO1xyXG4kKFwiLmNhdGFsb2ctaW5uZXItYnRuLC5jYXRhbG9nLW1lbnVfX2hlYWQgYVwiKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuICAkKFwiLmNhdGFsb2ctbWVudVwiKS50b2dnbGUoMCk7XHJcbn0pO1xyXG4kKFwiLmJ1cmdlci1jYXRhbG9nXCIpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICQodGhpcykudG9nZ2xlQ2xhc3MoXCJvcGVuXCIpO1xyXG59KTtcclxuJChcIi5zaGFyZS1idG5cIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICQoXCIuc2hhcmUtYmxvY2tfX3Nob3dcIikudG9nZ2xlKDApO1xyXG59KTtcclxuJChcIi5jbG9zZS1wYW5lbFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgJChcIi5ib3R0b20tcGFuZWxcIikudG9nZ2xlKDApO1xyXG59KTtcclxuJChcIi5maWx0ZXItYnRuLCAuY2xvc2UtYnRuLTJcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICQoXCIuY2F0YWxvZy1maWx0ZXJcIikudG9nZ2xlKDApO1xyXG59KTtcclxuJChcIi5jYXRhbG9nLXNpZGVfX3RpdGxlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAkKFwiLmNhdGFsb2ctc2lkZV9fY29udGVudFwiKS50b2dnbGUoMCk7XHJcbiAgJChcIi5jYXRhbG9nLXNpZGVfX2NvbnRlbnQtYWNjb3JkZW9uXCIpLnRvZ2dsZSgwKTtcclxufSk7XHJcbiQoXCIuY2F0YWxvZy1vcGVuZWRcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICQoXCIuY2F0YWxvZy1vcGVuZWQgLnN1Ym1lbnVcIikudG9nZ2xlKDApO1xyXG59KTtcclxuJChcIi5idXJnZXItbWVudVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgJCh0aGlzKS50b2dnbGVDbGFzcyhcIm1lbnUtb25cIik7XHJcbn0pO1xyXG4kKFwiLmNhdGFsb2ctaW5uZXJcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICQodGhpcykudG9nZ2xlQ2xhc3MoXCJvcGVuXCIpO1xyXG4gICQoXCIuY2F0YWxvZy1pbm5lci1jb250ZW50XCIpLnRvZ2dsZSgwKTtcclxufSk7XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAvLyBUaGlzIHdpbGwgc2VsZWN0IGV2ZXJ5dGhpbmcgd2l0aCB0aGUgY2xhc3Mgc21vb3RoU2Nyb2xsXHJcbiAgLy8gVGhpcyBzaG91bGQgcHJldmVudCBwcm9ibGVtcyB3aXRoIGNhcm91c2VsLCBzY3JvbGxzcHksIGV0Yy4uLlxyXG4gICQoXCIuc21vb3RoU2Nyb2xsXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChcclxuICAgICAgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXlxcLy8sIFwiXCIpID09IHRoaXMucGF0aG5hbWUucmVwbGFjZSgvXlxcLy8sIFwiXCIpICYmXHJcbiAgICAgIGxvY2F0aW9uLmhvc3RuYW1lID09IHRoaXMuaG9zdG5hbWVcclxuICAgICkge1xyXG4gICAgICB2YXIgdGFyZ2V0ID0gJCh0aGlzLmhhc2gpO1xyXG4gICAgICB0YXJnZXQgPSB0YXJnZXQubGVuZ3RoID8gdGFyZ2V0IDogJChcIltuYW1lPVwiICsgdGhpcy5oYXNoLnNsaWNlKDEpICsgXCJdXCIpO1xyXG5cclxuICAgICAgaWYgKHRhcmdldC5sZW5ndGgpIHtcclxuICAgICAgICAkKFwiaHRtbCxib2R5XCIpLmFuaW1hdGUoXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIHNjcm9sbFRvcDogdGFyZ2V0Lm9mZnNldCgpLnRvcCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICAxMDAwXHJcbiAgICAgICAgKTsgLy8gVGhlIG51bWJlciBoZXJlIHJlcHJlc2VudHMgdGhlIHNwZWVkIG9mIHRoZSBzY3JvbGwgaW4gbWlsbGlzZWNvbmRzXHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxudmFyIGJpZ1NsaWRlcyA9ICQoXCIubWFpbi1zbGlkZXIgLm93bC1jYXJvdXNlbFwiKSxcclxuICBhdXRvUGxheVRpbWVvdXRTZWMgPSBwYXJzZUludChiaWdTbGlkZXMuZGF0YShcImF1dG9wbGF5LXRpbWVvdXRcIikpO1xyXG5iaWdTbGlkZXMub3dsQ2Fyb3VzZWwoe1xyXG4gIGxvb3A6IHRydWUsXHJcbiAgbWFyZ2luOiA1LFxyXG4gIG5hdjogdHJ1ZSxcclxuICBkb3RzOiB0cnVlLFxyXG4gIGl0ZW1zOiAxLFxyXG4gIGF1dG9wbGF5OiB0cnVlLFxyXG4gIGF1dG9wbGF5VGltZW91dDogYXV0b1BsYXlUaW1lb3V0U2VjICogMTAwMCxcclxuICBuYXZUZXh0OiBbXHJcbiAgICAnPHN2ZyBjbGFzcz1cImljb25cIiB2aWV3Qm94PVwiMCAwIDEwLjUgMTguMVwiPjxwYXRoIHN0cm9rZT1cIm5vbmVcIiBkPVwiTTksMGwxLjQsMS40TDIuOCw5bDcuNiw3LjZMOSwxOC4xTDAsOUMwLDksOS4xLDAsOSwwelwiPjwvcGF0aD48L3N2Zz4nLFxyXG4gICAgJzxzdmcgY2xhc3M9XCJpY29uXCIgdmlld0JveD1cIjAgMCAxMC41IDE4LjFcIj48cGF0aCBzdHJva2U9XCJub25lXCIgZD1cIk0xLjQsMTguMUwwLDE2LjdsNy42LTcuNkwwLDEuNUwxLjQsMGw5LDkuMUMxMC40LDkuMSwxLjMsMTguMSwxLjQsMTguMXpcIj48L3BhdGg+PC9zdmc+JyxcclxuICBdLFxyXG59KTtcclxudmFyIHJhZGlvQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kZWxpdmVyeS1zZWxlY3Rpb24gaW5wdXRbdHlwZT1cInJhZGlvXCJdJyk7XHJcbnZhciBjaG9pY2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kZWxpdmVyeS1jaG9pY2VcIik7XHJcbnJhZGlvQnV0dG9ucy5mb3JFYWNoKGZ1bmN0aW9uIChidG4pIHtcclxuICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY2xpY2tlZCA9IHRoaXM7XHJcbiAgICBjaG9pY2VzLmZvckVhY2goZnVuY3Rpb24gKGNob2ljZSkge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgY2hvaWNlLmNsYXNzTGlzdC5jb250YWlucyhjbGlja2VkLmlkKSB8fFxyXG4gICAgICAgIGNob2ljZS5jbGFzc0xpc3QuY29udGFpbnMoXCJkZWxpdmVyeS10eXBlLVwiICsgY2xpY2tlZC52YWx1ZSlcclxuICAgICAgKSB7XHJcbiAgICAgICAgY2hvaWNlLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hvaWNlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4kKFwiLnNob3BwaW5nLWNhcnQtaXRlbV9fZGVsZXRlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAkKHRoaXMpLnBhcmVudChcIi5zaG9wcGluZy1jYXJ0LWl0ZW1cIikucmVtb3ZlKCk7XHJcbn0pO1xyXG4kKFwiLnNsaWRlciAub3dsLWNhcm91c2VsXCIpLm93bENhcm91c2VsKHtcclxuICBsb29wOiB0cnVlLFxyXG4gIG1hcmdpbjogMCxcclxuICBpdGVtczogMSxcclxuICBuYXY6IHRydWUsXHJcbn0pO1xyXG4kKFwiLm5ld3Mtc2xpZGVyIC5vd2wtY2Fyb3VzZWxcIikub3dsQ2Fyb3VzZWwoe1xyXG4gIGxvb3A6IHRydWUsXHJcbiAgbWFyZ2luOiAwLFxyXG4gIGl0ZW1zOiA0LFxyXG4gIHJlc3BvbnNpdmU6IHtcclxuICAgIDA6IHtcclxuICAgICAgbmF2OiBmYWxzZSxcclxuICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgaXRlbXM6IDEsXHJcbiAgICB9LFxyXG4gICAgNDc5OiB7XHJcbiAgICAgIG5hdjogZmFsc2UsXHJcbiAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgIGl0ZW1zOiAyLFxyXG4gICAgfSxcclxuICAgIDc2ODoge1xyXG4gICAgICBuYXY6IHRydWUsXHJcbiAgICAgIGRvdHM6IGZhbHNlLFxyXG4gICAgICBpdGVtczogMyxcclxuICAgIH0sXHJcbiAgICA5OTI6IHtcclxuICAgICAgaXRlbXM6IDQsXHJcbiAgICB9LFxyXG4gIH0sXHJcbn0pO1xyXG4kKFwiLmFjdGlvbi1zbGlkZXIgLm93bC1jYXJvdXNlbFwiKS5vd2xDYXJvdXNlbCh7XHJcbiAgbG9vcDogdHJ1ZSxcclxuICBtYXJnaW46IDIwLFxyXG4gIG5hdjogdHJ1ZSxcclxuICBkb3RzOiBmYWxzZSxcclxuICBpdGVtczogMyxcclxuICByZXNwb25zaXZlOiB7XHJcbiAgICAwOiB7XHJcbiAgICAgIG5hdjogZmFsc2UsXHJcbiAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgIGl0ZW1zOiAxLFxyXG4gICAgfSxcclxuICAgIDQ3OToge1xyXG4gICAgICBuYXY6IGZhbHNlLFxyXG4gICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICBpdGVtczogMixcclxuICAgIH0sXHJcbiAgICA3Njg6IHtcclxuICAgICAgbmF2OiB0cnVlLFxyXG4gICAgICBkb3RzOiBmYWxzZSxcclxuICAgICAgaXRlbXM6IDMsXHJcbiAgICB9LFxyXG4gIH0sXHJcbn0pO1xyXG4kKFwiLnBhcnRuZXJzLXNsaWRlciAub3dsLWNhcm91c2VsXCIpLm93bENhcm91c2VsKHtcclxuICBsb29wOiB0cnVlLFxyXG4gIG1hcmdpbjogMCxcclxuICBuYXY6IHRydWUsXHJcbiAgZG90czogZmFsc2UsXHJcbiAgaXRlbXM6IDUsXHJcbiAgcmVzcG9uc2l2ZToge1xyXG4gICAgMDoge1xyXG4gICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICBuYXY6IGZhbHNlLFxyXG4gICAgICBpdGVtczogMSxcclxuICAgIH0sXHJcbiAgICA1NjY6IHtcclxuICAgICAgbmF2OiBmYWxzZSxcclxuICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgaXRlbXM6IDIsXHJcbiAgICB9LFxyXG4gICAgNzY4OiB7XHJcbiAgICAgIG5hdjogZmFsc2UsXHJcbiAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgIGl0ZW1zOiAzLFxyXG4gICAgfSxcclxuICAgIDkwMDoge1xyXG4gICAgICBuYXY6IGZhbHNlLFxyXG4gICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICBpdGVtczogNCxcclxuICAgIH0sXHJcbiAgICA5NTA6IHtcclxuICAgICAgZG90czogZmFsc2UsXHJcbiAgICB9LFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuLyogc2VsZWN0ICovXHJcblxyXG4oZnVuY3Rpb24gKCQpIHtcclxuICB2YXIgY3VzdG9tU2VsZWN0ID0gJChcInNlbGVjdC5jdXN0b20tc2VsZWN0XCIpOyAvLyBGSVJTVCwgY3JlYXRlIHRoZSBjdXN0b20gc2VsZWN0IG1lbnVzIGZyb20gdGhlIGV4aXN0aW5nIHNlbGVjdFxyXG5cclxuICBjdXN0b21TZWxlY3QuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdGhhdCA9ICQodGhpcyk7XHJcbiAgICB2YXIgbGlzdElEID0gdGhhdC5hdHRyKFwiaWRcIiksXHJcbiAgICAgIGdyb3VwcyA9IHRoYXQuY2hpbGRyZW4oXCJvcHRncm91cFwiKSxcclxuICAgICAgdGhlT3B0aW9ucyA9IFwiXCIsXHJcbiAgICAgIHN0YXJ0aW5nT3B0aW9uID0gXCJcIixcclxuICAgICAgY3VzdG9tU2VsZWN0ID0gXCJcIjsgLy9jaGVjayBpZiB0aGVyZSBhcmUgb3B0aW9uIGdyb3Vwc1xyXG5cclxuICAgIGlmIChncm91cHMubGVuZ3RoKSB7XHJcbiAgICAgIGdyb3Vwcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY3VyR3JvdXAgPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciBjdXJOYW1lID0gY3VyR3JvdXAuYXR0cihcImxhYmVsXCIpOyAvL09wZW4gdGhlIG9wdGlvbiBncm91cFxyXG5cclxuICAgICAgICB0aGVPcHRpb25zICs9ICc8bGkgY2xhc3M9XCJvcHRncm91cFwiPicgKyBjdXJOYW1lICsgXCI8L2xpPlwiOyAvL2dldCB0aGUgb3B0aW9uc1xyXG5cclxuICAgICAgICBjdXJHcm91cC5jaGlsZHJlbihcIm9wdGlvblwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHZhciBjdXJPcHQgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgdmFyIGN1clZhbCA9IGN1ck9wdC5hdHRyKFwidmFsdWVcIiksXHJcbiAgICAgICAgICAgIGN1ckh0bWwgPSBjdXJPcHQuaHRtbCgpLFxyXG4gICAgICAgICAgICBpc1NlbGVjdGVkID0gY3VyT3B0LmF0dHIoXCJzZWxlY3RlZFwiKTtcclxuXHJcbiAgICAgICAgICBpZiAoaXNTZWxlY3RlZCA9PT0gXCJzZWxlY3RlZFwiKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0aW5nT3B0aW9uID0gY3VySHRtbDtcclxuICAgICAgICAgICAgdGhlT3B0aW9ucyArPSAnPGxpIGNsYXNzPVwic2VsZWN0ZWRcIiBkYXRhLXZhbHVlPVwiJyArIGN1clZhbCArICdcIj4nICsgY3VySHRtbCArIFwiPC9saT5cIjtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoZU9wdGlvbnMgKz0gJzxsaSBkYXRhLXZhbHVlPVwiJyArIGN1clZhbCArICdcIj4nICsgY3VySHRtbCArIFwiPC9saT5cIjtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTsgLy9DbG9zZSB0aGUgb3B0aW9uIGdyb3VwXHJcbiAgICAgICAgLy90aGVPcHRpb25zICs9ICc8bGkgY2xhc3M9XCJvcHRncm91cC1jbG9zZVwiPjwvbGk+JztcclxuICAgICAgfSk7IC8vYWRkIG9wdGlvbnMgbm90IGluIGEgZ3JvdXAgdG8gdGhlIHRvcCBvZiB0aGUgbGlzdFxyXG5cclxuICAgICAgdGhhdC5jaGlsZHJlbihcIm9wdGlvblwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY3VyT3B0ID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgY3VyVmFsID0gY3VyT3B0LmF0dHIoXCJ2YWx1ZVwiKSxcclxuICAgICAgICAgIGN1ckh0bWwgPSBjdXJPcHQuaHRtbCgpLFxyXG4gICAgICAgICAgaXNTZWxlY3RlZCA9IGN1ck9wdC5hdHRyKFwic2VsZWN0ZWRcIik7XHJcblxyXG4gICAgICAgIGlmIChpc1NlbGVjdGVkID09PSBcInNlbGVjdGVkXCIpIHtcclxuICAgICAgICAgIHN0YXJ0aW5nT3B0aW9uID0gY3VySHRtbDtcclxuICAgICAgICAgIHRoZU9wdGlvbnMgPVxyXG4gICAgICAgICAgICAnPGxpIGNsYXNzPVwic2VsZWN0ZWRcIiBkYXRhLXZhbHVlPVwiJyArIGN1clZhbCArICdcIj4nICsgY3VySHRtbCArIFwiPC9saT5cIiArIHRoZU9wdGlvbnM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoZU9wdGlvbnMgPSAnPGxpIGRhdGEtdmFsdWU9XCInICsgY3VyVmFsICsgJ1wiPicgKyBjdXJIdG1sICsgXCI8L2xpPlwiICsgdGhlT3B0aW9ucztcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhhdC5jaGlsZHJlbihcIm9wdGlvblwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY3VyT3B0ID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgY3VyVmFsID0gY3VyT3B0LmF0dHIoXCJ2YWx1ZVwiKSxcclxuICAgICAgICAgIGN1ckh0bWwgPSBjdXJPcHQuaHRtbCgpLFxyXG4gICAgICAgICAgaXNTZWxlY3RlZCA9IGN1ck9wdC5hdHRyKFwic2VsZWN0ZWRcIik7XHJcblxyXG4gICAgICAgIGlmIChpc1NlbGVjdGVkID09PSBcInNlbGVjdGVkXCIpIHtcclxuICAgICAgICAgIHN0YXJ0aW5nT3B0aW9uID0gY3VySHRtbDtcclxuICAgICAgICAgIHRoZU9wdGlvbnMgKz0gJzxsaSBjbGFzcz1cInNlbGVjdGVkXCIgZGF0YS12YWx1ZT1cIicgKyBjdXJWYWwgKyAnXCI+JyArIGN1ckh0bWwgKyBcIjwvbGk+XCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoZU9wdGlvbnMgKz0gJzxsaSBkYXRhLXZhbHVlPVwiJyArIGN1clZhbCArICdcIj4nICsgY3VySHRtbCArIFwiPC9saT5cIjtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSAvL2J1aWxkIHRoZSBjdXN0b20gc2VsZWN0XHJcblxyXG4gICAgY3VzdG9tU2VsZWN0ID1cclxuICAgICAgJzxkaXYgY2xhc3M9XCJkcm9wZG93bi1jb250YWluZXJcIj48ZGl2IGNsYXNzPVwiZHJvcGRvd24tc2VsZWN0IGVudHlwby1kb3duLW9wZW4tYmlnXCI+PHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIjdGFiLWFycm93XCI+PC91c2U+PC9zdmc+PHNwYW4+JyArXHJcbiAgICAgIHN0YXJ0aW5nT3B0aW9uICtcclxuICAgICAgJzwvc3Bhbj48L2Rpdj48dWwgY2xhc3M9XCJkcm9wZG93bi1zZWxlY3QtdWxcIiBkYXRhLXJvbGU9XCInICtcclxuICAgICAgbGlzdElEICtcclxuICAgICAgJ1wiPicgK1xyXG4gICAgICB0aGVPcHRpb25zICtcclxuICAgICAgXCI8L3VsPjwvZGl2PiA8IS0tIC5jdXN0b20tc2VsZWN0LXdyYXBwZXIgLS0+XCI7IC8vYXBwZW5kIGl0IGFmdGVyIHRoZSBhY3R1YWwgc2VsZWN0XHJcblxyXG4gICAgJChjdXN0b21TZWxlY3QpLmluc2VydEFmdGVyKHRoYXQpO1xyXG4gIH0pO1xyXG4gIHZhciBzZWxlY3RkZCA9ICQoXCIuZHJvcGRvd24tc2VsZWN0XCIpLFxyXG4gICAgc2VsZWN0dWwgPSAkKFwiLmRyb3Bkb3duLXNlbGVjdC11bFwiKSxcclxuICAgIHNlbGVjdGxpID0gJChcIi5kcm9wZG93bi1zZWxlY3QtdWwgbGlcIik7IC8vVEhFTiBtYWtlIHRoZW0gd29ya1xyXG5cclxuICBzZWxlY3RkZC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICQodGhpcykucGFyZW50KFwiLmRyb3Bkb3duLWNvbnRhaW5lclwiKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICB9KTsgLy9IaWRlIGl0IG9uIG1vdXNlbGVhdmVcclxuXHJcbiAgc2VsZWN0dWwub24oXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICQodGhpcykucGFyZW50KFwiLmRyb3Bkb3duLWNvbnRhaW5lclwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICB9KTsgLy9zZWxlY3QgdGhlIG9wdGlvblxyXG5cclxuICBzZWxlY3RsaS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB0aGF0ID0gJCh0aGlzKTsgLy9lbnN1cmUgY2xpY2tpbmcgZ3JvdXAgbGFiZWxzIGRvZXMgbm90IGNhdXNlIGNoYW5nZVxyXG5cclxuICAgIGlmICghdGhhdC5oYXNDbGFzcyhcIm9wdGdyb3VwXCIpKSB7XHJcbiAgICAgIHZhciBwYXJlbnRVbCA9IHRoYXQucGFyZW50KFwidWxcIiksXHJcbiAgICAgICAgdGhpc2RkID0gcGFyZW50VWwuc2libGluZ3MoXCIuZHJvcGRvd24tc2VsZWN0XCIpLFxyXG4gICAgICAgIGxpaHRtbCA9IHRoYXQuaHRtbCgpLFxyXG4gICAgICAgIGxpdmFsdWUgPSB0aGF0LmF0dHIoXCJkYXRhLXZhbHVlXCIpLFxyXG4gICAgICAgIG9yaWdpbmFsU2VsZWN0ID0gXCIjXCIgKyBwYXJlbnRVbC5hdHRyKFwiZGF0YS1yb2xlXCIpOyAvL2Nsb3NlIHRoZSBkcm9wZG93blxyXG5cclxuICAgICAgcGFyZW50VWwucGFyZW50KFwiLmRyb3Bkb3duLWNvbnRhaW5lclwiKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKTsgLy9yZW1vdmUgc2VsZWN0ZWQgY2xhc3MgZnJvbSBhbGwgbGlzdCBpdGVtc1xyXG5cclxuICAgICAgdGhhdC5zaWJsaW5ncyhcImxpXCIpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIik7IC8vYWRkIC5zZWxlY3RlZCB0byBjbGlja2VkIGxpXHJcblxyXG4gICAgICB0aGF0LmFkZENsYXNzKFwic2VsZWN0ZWRcIik7IC8vc2V0IHRoZSB2YWx1ZSBvZiB0aGUgaGlkZGVuIGlucHV0XHJcblxyXG4gICAgICAkKG9yaWdpbmFsU2VsZWN0KS52YWwobGl2YWx1ZSk7IC8vY2hhbmdlIHRoZSBkcm9wZG93biB0ZXh0XHJcblxyXG4gICAgICB0aGlzZGQuY2hpbGRyZW4oXCJzcGFuXCIpLmh0bWwobGlodG1sKTtcclxuICAgIH1cclxuICB9KTtcclxufSkoalF1ZXJ5KTtcclxuLyogdGFicyAqL1xyXG4vLyB0YWJiZWQgY29udGVudFxyXG4vLyBodHRwOi8vd3d3LmVudGhlb3N3ZWIuY29tL3R1dG9yaWFscy9jc3MvdGFicy5hc3BcclxuXHJcbiQoXCIudGFiLWNvbnRlbnRcIikuaGlkZSgpO1xyXG4kKFwiLnRhYi1jb250ZW50OmZpcnN0XCIpLnNob3coKTtcclxuLyogaWYgaW4gdGFiIG1vZGUgKi9cclxuXHJcbiQoXCJ1bC50YWJzIGxpLC5wcm9kdWN0LWNhcmRfX3Jldmlldy1saW5rIGEsLnNjaGVkdWxlLWJ0biBhXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAkKFwiLnRhYi1jb250ZW50XCIpLmhpZGUoKTtcclxuICB2YXIgYWN0aXZlVGFiID0gJCh0aGlzKS5hdHRyKFwicmVsXCIpO1xyXG4gICQoXCIjXCIgKyBhY3RpdmVUYWIpLmZhZGVJbigpO1xyXG4gICQoXCJ1bC50YWJzIGxpXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICQodGhpcykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgJChcIi50YWJfZHJhd2VyX2hlYWRpbmdcIikucmVtb3ZlQ2xhc3MoXCJkX2FjdGl2ZVwiKTtcclxuICAkKFwiLnRhYl9kcmF3ZXJfaGVhZGluZ1tyZWxePSdcIiArIGFjdGl2ZVRhYiArIFwiJ11cIikuYWRkQ2xhc3MoXCJkX2FjdGl2ZVwiKTtcclxufSk7XHJcbi8qIGlmIGluIGRyYXdlciBtb2RlICovXHJcblxyXG4kKFwiLnRhYl9kcmF3ZXJfaGVhZGluZ1wiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGRfYWN0aXZlVGFiID0gJCh0aGlzKS5hdHRyKFwicmVsXCIpLFxyXG4gICAgYWN0aXZlVGFiQmxvY2sgPSAkKFwiI1wiICsgZF9hY3RpdmVUYWIgKyBcIjpoaWRkZW5cIiksXHJcbiAgICAkdGhpc0FjdGl2ZSA9ICQodGhpcykubm90KFwiLmRfYWN0aXZlXCIpO1xyXG4gICQoXCIudGFiLWNvbnRlbnRcIikuaGlkZSgpO1xyXG4gIGFjdGl2ZVRhYkJsb2NrLmZhZGVJbigpO1xyXG4gICQoXCIudGFiX2RyYXdlcl9oZWFkaW5nXCIpLnJlbW92ZUNsYXNzKFwiZF9hY3RpdmVcIik7XHJcbiAgJHRoaXNBY3RpdmUuYWRkQ2xhc3MoXCJkX2FjdGl2ZVwiKTtcclxuICAkKFwidWwudGFicyBsaVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAkKFwidWwudGFicyBsaVtyZWxePSdcIiArIGRfYWN0aXZlVGFiICsgXCInXVwiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxufSk7XHJcbi8qIEV4dHJhIGNsYXNzIFwidGFiX2xhc3RcIlxyXG4gdG8gYWRkIGJvcmRlciB0byByaWdodCBzaWRlXHJcbiBvZiBsYXN0IHRhYiAqL1xyXG5cclxuJChcInVsLnRhYnMgbGlcIikubGFzdCgpLmFkZENsYXNzKFwidGFiX2xhc3RcIik7XHJcbmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gIGpRdWVyeShcIi5zY2hlZHVsZS1idG4gYVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBqUXVlcnkoXCIuc2NoZWR1bGUtbGlua1wiKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICB9KTtcclxufSk7XHJcbmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gIGpRdWVyeShcIi5wcm9kdWN0LWNhcmRfX3Jldmlldy1saW5rIGFcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgalF1ZXJ5KFwiLnJldmlldy10YWItbGlua1wiKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICB9KTtcclxufSk7IC8vc2xpZGVzaG93XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHN5bmMxID0gJChcIiNzeW5jMVwiKTtcclxuICB2YXIgc3luYzIgPSAkKFwiI3N5bmMyXCIpO1xyXG4gIHZhciBzbGlkZXNQZXJQYWdlID0gMzsgLy9nbG9iYWx5IGRlZmluZSBudW1iZXIgb2YgZWxlbWVudHMgcGVyIHBhZ2VcclxuXHJcbiAgdmFyIHN5bmNlZFNlY29uZGFyeSA9IHRydWU7XHJcbiAgc3luYzFcclxuICAub3dsQ2Fyb3VzZWwoe1xyXG4gICAgaXRlbXM6IDEsXHJcbiAgICBzbGlkZVNwZWVkOiAyMDAwLFxyXG4gICAgbmF2OiB0cnVlLFxyXG4gICAgYXV0b3BsYXk6IGZhbHNlLFxyXG4gICAgZG90czogdHJ1ZSxcclxuICAgIGxvb3A6IHRydWUsXHJcbiAgICByZXNwb25zaXZlUmVmcmVzaFJhdGU6IDIwMCxcclxuICAgIG1hcmdpbjogMTAsXHJcbiAgfSlcclxuICAub24oXCJjaGFuZ2VkLm93bC5jYXJvdXNlbFwiLCBzeW5jUG9zaXRpb24pO1xyXG4gIHN5bmMyXHJcbiAgLm9uKFwiaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIHN5bmMyLmZpbmQoXCIub3dsLWl0ZW1cIikuZXEoMCkuYWRkQ2xhc3MoXCJjdXJyZW50XCIpO1xyXG4gIH0pXHJcbiAgLm93bENhcm91c2VsKHtcclxuICAgIGl0ZW1zOiBzbGlkZXNQZXJQYWdlLFxyXG4gICAgZG90czogdHJ1ZSxcclxuICAgIG5hdjogdHJ1ZSxcclxuICAgIG1hcmdpbjogMTAsXHJcbiAgICBzbWFydFNwZWVkOiAyMDAsXHJcbiAgICBzbGlkZVNwZWVkOiA1MDAsXHJcbiAgICBzbGlkZUJ5OiBzbGlkZXNQZXJQYWdlLFxyXG4gICAgLy9hbHRlcm5hdGl2ZWx5IHlvdSBjYW4gc2xpZGUgYnkgMSwgdGhpcyB3YXkgdGhlIGFjdGl2ZSBzbGlkZSB3aWxsIHN0aWNrIHRvIHRoZSBmaXJzdCBpdGVtIGluIHRoZSBzZWNvbmQgY2Fyb3VzZWxcclxuICAgIHJlc3BvbnNpdmVSZWZyZXNoUmF0ZTogMTAwLFxyXG4gIH0pXHJcbiAgLm9uKFwiY2hhbmdlZC5vd2wuY2Fyb3VzZWxcIiwgc3luY1Bvc2l0aW9uMik7XHJcblxyXG4gIGZ1bmN0aW9uIHN5bmNQb3NpdGlvbihlbCkge1xyXG4gICAgLy9pZiB5b3Ugc2V0IGxvb3AgdG8gZmFsc2UsIHlvdSBoYXZlIHRvIHJlc3RvcmUgdGhpcyBuZXh0IGxpbmVcclxuICAgIC8vdmFyIGN1cnJlbnQgPSBlbC5pdGVtLmluZGV4O1xyXG4gICAgLy9pZiB5b3UgZGlzYWJsZSBsb29wIHlvdSBoYXZlIHRvIGNvbW1lbnQgdGhpcyBibG9ja1xyXG4gICAgdmFyIGNvdW50ID0gZWwuaXRlbS5jb3VudCAtIDE7XHJcbiAgICB2YXIgY3VycmVudCA9IE1hdGgucm91bmQoZWwuaXRlbS5pbmRleCAtIGVsLml0ZW0uY291bnQgLyAyIC0gMC41KTtcclxuXHJcbiAgICBpZiAoY3VycmVudCA8IDApIHtcclxuICAgICAgY3VycmVudCA9IGNvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50ID4gY291bnQpIHtcclxuICAgICAgY3VycmVudCA9IDA7XHJcbiAgICB9IC8vZW5kIGJsb2NrXHJcblxyXG4gICAgc3luYzIuZmluZChcIi5vd2wtaXRlbVwiKS5yZW1vdmVDbGFzcyhcImN1cnJlbnRcIikuZXEoY3VycmVudCkuYWRkQ2xhc3MoXCJjdXJyZW50XCIpO1xyXG4gICAgdmFyIG9uc2NyZWVuID0gc3luYzIuZmluZChcIi5vd2wtaXRlbS5hY3RpdmVcIikubGVuZ3RoIC0gMTtcclxuICAgIHZhciBzdGFydCA9IHN5bmMyLmZpbmQoXCIub3dsLWl0ZW0uYWN0aXZlXCIpLmZpcnN0KCkuaW5kZXgoKTtcclxuICAgIHZhciBlbmQgPSBzeW5jMi5maW5kKFwiLm93bC1pdGVtLmFjdGl2ZVwiKS5sYXN0KCkuaW5kZXgoKTtcclxuXHJcbiAgICBpZiAoY3VycmVudCA+IGVuZCkge1xyXG4gICAgICBzeW5jMi5kYXRhKFwib3dsLmNhcm91c2VsXCIpLnRvKGN1cnJlbnQsIDEwMCwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGN1cnJlbnQgPCBzdGFydCkge1xyXG4gICAgICBzeW5jMi5kYXRhKFwib3dsLmNhcm91c2VsXCIpLnRvKGN1cnJlbnQgLSBvbnNjcmVlbiwgMTAwLCB0cnVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHN5bmNQb3NpdGlvbjIoZWwpIHtcclxuICAgIGlmIChzeW5jZWRTZWNvbmRhcnkpIHtcclxuICAgICAgdmFyIG51bWJlciA9IGVsLml0ZW0uaW5kZXg7XHJcbiAgICAgIHN5bmMxLmRhdGEoXCJvd2wuY2Fyb3VzZWxcIikudG8obnVtYmVyLCAxMDAsIHRydWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3luYzIub24oXCJjbGlja1wiLCBcIi5vd2wtaXRlbVwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdmFyIG51bWJlciA9ICQodGhpcykuaW5kZXgoKTtcclxuICAgIHN5bmMxLmRhdGEoXCJvd2wuY2Fyb3VzZWxcIikudG8obnVtYmVyLCAzMDAsIHRydWUpO1xyXG4gIH0pO1xyXG59KTtcclxuKGZ1bmN0aW9uICgkKSB7XHJcbiAgdmFyIHBsdWdpbk5hbWUgPSBcImNzY3JsYlwiO1xyXG5cclxuICBmdW5jdGlvbiBQbHVnaW4oZWxlbWVudCwgb3B0aW9ucykge1xyXG4gICAgdmFyIGVsID0gZWxlbWVudDtcclxuICAgIHZhciAkZWwgPSAkKGVsZW1lbnQpO1xyXG4gICAgdmFyICRzY3JvbGxDb250ZW50RWw7XHJcbiAgICB2YXIgJGNvbnRlbnRFbCA9ICRlbC5maW5kKFwiLmNzY3JsYi1jb250ZW50XCIpO1xyXG4gICAgdmFyICRzY3JvbGxiYXJFbDtcclxuICAgIHZhciAkZHJhZ0hhbmRsZUVsO1xyXG4gICAgdmFyIGRyYWdPZmZzZXQ7XHJcbiAgICB2YXIgZmxhc2hUaW1lb3V0O1xyXG4gICAgdmFyIHBhZ2VKdW1wTXVsdHAgPSA3IC8gODtcclxuICAgIHZhciBzY3JvbGxEaXJlY3Rpb24gPSBcInZlcnRcIjtcclxuICAgIHZhciBzY3JvbGxPZmZzZXRBdHRyID0gXCJzY3JvbGxUb3BcIjtcclxuICAgIHZhciBzaXplQXR0ciA9IFwiaGVpZ2h0XCI7XHJcbiAgICB2YXIgb2Zmc2V0QXR0ciA9IFwidG9wXCI7XHJcbiAgICBvcHRpb25zID0gJC5leHRlbmQoe30sICQuZm5bcGx1Z2luTmFtZV0uZGVmYXVsdHMsIG9wdGlvbnMpO1xyXG5cclxuICAgIHdpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICRjb250ZW50RWwuZm9jdXMoKTtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgICAgaWYgKCRlbC5oYXNDbGFzcyhcImhvcml6b250YWxcIikpIHtcclxuICAgICAgICBzY3JvbGxEaXJlY3Rpb24gPSBcImhvcml6XCI7XHJcbiAgICAgICAgc2Nyb2xsT2Zmc2V0QXR0ciA9IFwic2Nyb2xsTGVmdFwiO1xyXG4gICAgICAgIHNpemVBdHRyID0gXCJ3aWR0aFwiO1xyXG4gICAgICAgIG9mZnNldEF0dHIgPSBcImxlZnRcIjtcclxuICAgICAgfVxyXG5cclxuICAgICAgJGVsLnByZXBlbmQoJzxkaXYgY2xhc3M9XCJjc2NybGItc2Nyb2xsYmFyXCI+PGRpdiBjbGFzcz1cImRyYWctaGFuZGxlXCI+PC9kaXY+PC9kaXY+Jyk7XHJcbiAgICAgICRzY3JvbGxiYXJFbCA9ICRlbC5maW5kKFwiLmNzY3JsYi1zY3JvbGxiYXJcIik7XHJcbiAgICAgICRkcmFnSGFuZGxlRWwgPSAkZWwuZmluZChcIi5kcmFnLWhhbmRsZVwiKTtcclxuXHJcbiAgICAgIGlmIChvcHRpb25zLndyYXBDb250ZW50KSB7XHJcbiAgICAgICAgJGNvbnRlbnRFbC53cmFwKCc8ZGl2IGNsYXNzPVwiY3NjcmxiLXNjcm9sbC1jb250ZW50XCIgLz4nKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJHNjcm9sbENvbnRlbnRFbCA9ICRlbC5maW5kKFwiLmNzY3JsYi1zY3JvbGwtY29udGVudFwiKTtcclxuICAgICAgcmVzaXplU2Nyb2xsQ29udGVudCgpO1xyXG5cclxuICAgICAgaWYgKG9wdGlvbnMuYXV0b0hpZGUpIHtcclxuICAgICAgICAkZWwub24oXCJtb3VzZWVudGVyXCIsIGZsYXNoU2Nyb2xsYmFyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJGRyYWdIYW5kbGVFbC5vbihcIm1vdXNlZG93blwiLCBzdGFydERyYWcpO1xyXG4gICAgICAkc2Nyb2xsYmFyRWwub24oXCJtb3VzZWRvd25cIiwganVtcFNjcm9sbCk7XHJcbiAgICAgICRzY3JvbGxDb250ZW50RWwub24oXCJzY3JvbGxcIiwgb25TY3JvbGxlZCk7XHJcbiAgICAgIHJlc2l6ZVNjcm9sbGJhcigpO1xyXG4gICAgICAkKHdpbmRvdykub24oXCJyZXNpemVcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJlY2FsY3VsYXRlKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKCFvcHRpb25zLmF1dG9IaWRlKSB7XHJcbiAgICAgICAgc2hvd1Njcm9sbGJhcigpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc3RhcnREcmFnKGUpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB2YXIgZXZlbnRPZmZzZXQgPSBlLnBhZ2VZO1xyXG5cclxuICAgICAgaWYgKHNjcm9sbERpcmVjdGlvbiA9PT0gXCJob3JpelwiKSB7XHJcbiAgICAgICAgZXZlbnRPZmZzZXQgPSBlLnBhZ2VYO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkcmFnT2Zmc2V0ID0gZXZlbnRPZmZzZXQgLSAkZHJhZ0hhbmRsZUVsLm9mZnNldCgpW29mZnNldEF0dHJdO1xyXG4gICAgICAkKGRvY3VtZW50KS5vbihcIm1vdXNlbW92ZVwiLCBkcmFnKTtcclxuICAgICAgJChkb2N1bWVudCkub24oXCJtb3VzZXVwXCIsIGVuZERyYWcpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRyYWcoZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHZhciBldmVudE9mZnNldCA9IGUucGFnZVk7XHJcblxyXG4gICAgICBpZiAoc2Nyb2xsRGlyZWN0aW9uID09PSBcImhvcml6XCIpIHtcclxuICAgICAgICBldmVudE9mZnNldCA9IGUucGFnZVg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBkcmFnUG9zID0gZXZlbnRPZmZzZXQgLSAkc2Nyb2xsYmFyRWwub2Zmc2V0KClbb2Zmc2V0QXR0cl0gLSBkcmFnT2Zmc2V0O1xyXG4gICAgICB2YXIgZHJhZ1BlcmMgPSBkcmFnUG9zIC8gJHNjcm9sbGJhckVsW3NpemVBdHRyXSgpO1xyXG4gICAgICB2YXIgc2Nyb2xsUG9zID0gZHJhZ1BlcmMgKiAkY29udGVudEVsW3NpemVBdHRyXSgpO1xyXG4gICAgICAkc2Nyb2xsQ29udGVudEVsW3Njcm9sbE9mZnNldEF0dHJdKHNjcm9sbFBvcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZW5kRHJhZygpIHtcclxuICAgICAgJChkb2N1bWVudCkub2ZmKFwibW91c2Vtb3ZlXCIsIGRyYWcpO1xyXG4gICAgICAkKGRvY3VtZW50KS5vZmYoXCJtb3VzZXVwXCIsIGVuZERyYWcpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGp1bXBTY3JvbGwoZSkge1xyXG4gICAgICBpZiAoZS50YXJnZXQgPT09ICRkcmFnSGFuZGxlRWxbMF0pIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBqdW1wQW10ID0gcGFnZUp1bXBNdWx0cCAqICRzY3JvbGxDb250ZW50RWxbc2l6ZUF0dHJdKCk7XHJcbiAgICAgIHZhciBldmVudE9mZnNldCA9XHJcbiAgICAgICAgc2Nyb2xsRGlyZWN0aW9uID09PSBcInZlcnRcIiA/IGUub3JpZ2luYWxFdmVudC5sYXllclkgOiBlLm9yaWdpbmFsRXZlbnQubGF5ZXJYO1xyXG4gICAgICB2YXIgZHJhZ0hhbmRsZU9mZnNldCA9ICRkcmFnSGFuZGxlRWwucG9zaXRpb24oKVtvZmZzZXRBdHRyXTtcclxuICAgICAgdmFyIHNjcm9sbFBvcyA9XHJcbiAgICAgICAgZXZlbnRPZmZzZXQgPCBkcmFnSGFuZGxlT2Zmc2V0XHJcbiAgICAgICAgICA/ICRzY3JvbGxDb250ZW50RWxbc2Nyb2xsT2Zmc2V0QXR0cl0oKSAtIGp1bXBBbXRcclxuICAgICAgICAgIDogJHNjcm9sbENvbnRlbnRFbFtzY3JvbGxPZmZzZXRBdHRyXSgpICsganVtcEFtdDtcclxuICAgICAgJHNjcm9sbENvbnRlbnRFbFtzY3JvbGxPZmZzZXRBdHRyXShzY3JvbGxQb3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9uU2Nyb2xsZWQoZSkge1xyXG4gICAgICBmbGFzaFNjcm9sbGJhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc2l6ZVNjcm9sbGJhcigpIHtcclxuICAgICAgdmFyIGNvbnRlbnRTaXplID0gJGNvbnRlbnRFbFtzaXplQXR0cl0oKTtcclxuICAgICAgdmFyIHNjcm9sbE9mZnNldCA9ICRzY3JvbGxDb250ZW50RWxbc2Nyb2xsT2Zmc2V0QXR0cl0oKTsgLy8gc2Nyb2xsVG9wKCkg44GLIHNjcm9sbExlZnQoKVxyXG5cclxuICAgICAgdmFyIHNjcm9sbGJhclNpemUgPSAkc2Nyb2xsYmFyRWxbc2l6ZUF0dHJdKCk7XHJcbiAgICAgIHZhciBzY3JvbGxiYXJSYXRpbyA9IHNjcm9sbGJhclNpemUgLyBjb250ZW50U2l6ZTtcclxuICAgICAgdmFyIGhhbmRsZU9mZnNldCA9IE1hdGgucm91bmQoc2Nyb2xsYmFyUmF0aW8gKiBzY3JvbGxPZmZzZXQpO1xyXG4gICAgICAvKiArIDI7ICovXHJcblxyXG4gICAgICB2YXIgaGFuZGxlU2l6ZSA9IE1hdGguZmxvb3Ioc2Nyb2xsYmFyUmF0aW8gKiAoc2Nyb2xsYmFyU2l6ZSArIDIpKTtcclxuICAgICAgLyogIC0gMikpIC0gMjsgKi9cclxuXHJcbiAgICAgIGlmIChzY3JvbGxiYXJTaXplIDwgY29udGVudFNpemUpIHtcclxuICAgICAgICBpZiAoc2Nyb2xsRGlyZWN0aW9uID09PSBcInZlcnRcIikge1xyXG4gICAgICAgICAgJGRyYWdIYW5kbGVFbC5jc3Moe1xyXG4gICAgICAgICAgICB0b3A6IGhhbmRsZU9mZnNldCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBoYW5kbGVTaXplLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRkcmFnSGFuZGxlRWwuY3NzKHtcclxuICAgICAgICAgICAgbGVmdDogaGFuZGxlT2Zmc2V0LFxyXG4gICAgICAgICAgICB3aWR0aDogaGFuZGxlU2l6ZSxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJHNjcm9sbGJhckVsLnNob3coKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkc2Nyb2xsYmFyRWwuaGlkZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZmxhc2hTY3JvbGxiYXIoKSB7XHJcbiAgICAgIHJlc2l6ZVNjcm9sbGJhcigpO1xyXG4gICAgICBzaG93U2Nyb2xsYmFyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2hvd1Njcm9sbGJhcigpIHtcclxuICAgICAgJGRyYWdIYW5kbGVFbC5hZGRDbGFzcyhcInZpc2libGVcIik7XHJcblxyXG4gICAgICBpZiAoIW9wdGlvbnMuYXV0b0hpZGUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0eXBlb2YgZmxhc2hUaW1lb3V0ID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChmbGFzaFRpbWVvdXQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmbGFzaFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaGlkZVNjcm9sbGJhcigpO1xyXG4gICAgICB9LCAxMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBoaWRlU2Nyb2xsYmFyKCkge1xyXG4gICAgICAkZHJhZ0hhbmRsZUVsLnJlbW92ZUNsYXNzKFwidmlzaWJsZVwiKTtcclxuXHJcbiAgICAgIGlmICh0eXBlb2YgZmxhc2hUaW1lb3V0ID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChmbGFzaFRpbWVvdXQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzaXplU2Nyb2xsQ29udGVudCgpIHtcclxuICAgICAgaWYgKHNjcm9sbERpcmVjdGlvbiA9PT0gXCJ2ZXJ0XCIpIHtcclxuICAgICAgICAkc2Nyb2xsQ29udGVudEVsLndpZHRoKCRlbC53aWR0aCgpICsgc2Nyb2xsYmFyV2lkdGgoKSk7XHJcbiAgICAgICAgJHNjcm9sbENvbnRlbnRFbC5oZWlnaHQoJGVsLmhlaWdodCgpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkc2Nyb2xsQ29udGVudEVsLndpZHRoKCRlbC53aWR0aCgpKTtcclxuICAgICAgICAkc2Nyb2xsQ29udGVudEVsLmhlaWdodCgkZWwuaGVpZ2h0KCkgKyBzY3JvbGxiYXJXaWR0aCgpKTtcclxuICAgICAgICAkY29udGVudEVsLmhlaWdodCgkZWwuaGVpZ2h0KCkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2Nyb2xsYmFyV2lkdGgoKSB7XHJcbiAgICAgIHZhciB0ZW1wRWwgPSAkKFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwic2Nyb2xsYmFyLXdpZHRoLXRlc3RlclwiIHN0eWxlPVwid2lkdGg6NTBweDtoZWlnaHQ6NTBweDtvdmVyZmxvdy15OnNjcm9sbDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTIwMHB4O2xlZnQ6LTIwMHB4O1wiPjxkaXYgc3R5bGU9XCJoZWlnaHQ6MTAwcHg7XCI+PC9kaXY+J1xyXG4gICAgICApO1xyXG4gICAgICAkKFwiYm9keVwiKS5hcHBlbmQodGVtcEVsKTtcclxuICAgICAgdmFyIHdpZHRoID0gJCh0ZW1wRWwpLmlubmVyV2lkdGgoKTtcclxuICAgICAgdmFyIHdpZHRoTWludXNTY3JvbGxiYXJzID0gJChcImRpdlwiLCB0ZW1wRWwpLmlubmVyV2lkdGgoKTtcclxuICAgICAgdGVtcEVsLnJlbW92ZSgpO1xyXG5cclxuICAgICAgaWYgKFxyXG4gICAgICAgIHdpZHRoID09PSB3aWR0aE1pbnVzU2Nyb2xsYmFycyAmJlxyXG4gICAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiZmlyZWZveFwiKSA+IC0xXHJcbiAgICAgICkge1xyXG4gICAgICAgIHJldHVybiAxNztcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHdpZHRoIC0gd2lkdGhNaW51c1Njcm9sbGJhcnM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVjYWxjdWxhdGUoKSB7XHJcbiAgICAgIHJlc2l6ZVNjcm9sbENvbnRlbnQoKTtcclxuICAgICAgcmVzaXplU2Nyb2xsYmFyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb3B0aW9uKGtleSwgdmFsKSB7XHJcbiAgICAgIGlmICh2YWwpIHtcclxuICAgICAgICBvcHRpb25zW2tleV0gPSB2YWw7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnNba2V5XTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XHJcbiAgICAgICRjb250ZW50RWwuaW5zZXJ0QmVmb3JlKCRzY3JvbGxiYXJFbCk7XHJcbiAgICAgICRzY3JvbGxiYXJFbC5yZW1vdmUoKTtcclxuICAgICAgJHNjcm9sbENvbnRlbnRFbC5yZW1vdmUoKTtcclxuICAgICAgJGNvbnRlbnRFbC5jc3Moe1xyXG4gICAgICAgIGhlaWdodDogJGVsLmhlaWdodCgpICsgXCJweFwiLFxyXG4gICAgICAgIFwib3ZlcmZsb3cteVwiOiBcInNjcm9sbFwiLFxyXG4gICAgICB9KTtcclxuICAgICAgaG9vayhcIm9uRGVzdHJveVwiKTtcclxuICAgICAgJGVsLnJlbW92ZURhdGEoXCJwbHVnaW5fXCIgKyBwbHVnaW5OYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBob29rKGhvb2tOYW1lKSB7XHJcbiAgICAgIGlmIChvcHRpb25zW2hvb2tOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgb3B0aW9uc1tob29rTmFtZV0uY2FsbChlbCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpbml0KCk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBvcHRpb246IG9wdGlvbixcclxuICAgICAgZGVzdHJveTogZGVzdHJveSxcclxuICAgICAgcmVjYWxjdWxhdGU6IHJlY2FsY3VsYXRlLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gICQuZm5bcGx1Z2luTmFtZV0gPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgdmFyIG1ldGhvZE5hbWUgPSBhcmd1bWVudHNbMF07XHJcbiAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuICAgICAgdmFyIHJldHVyblZhbDtcclxuICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBwbHVnaW5OYW1lKSAmJlxyXG4gICAgICAgICAgdHlwZW9mICQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUpW21ldGhvZE5hbWVdID09PSBcImZ1bmN0aW9uXCJcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHJldHVyblZhbCA9ICQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUpW21ldGhvZE5hbWVdLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIgXCIgKyBtZXRob2ROYW1lICsgXCIgXCIgKyBwbHVnaW5OYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKHJldHVyblZhbCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHJldHVyblZhbDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChfdHlwZW9mKG9wdGlvbnMpID09PSBcIm9iamVjdFwiIHx8ICFvcHRpb25zKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgcGx1Z2luTmFtZSkpIHtcclxuICAgICAgICAgICQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUsIG5ldyBQbHVnaW4odGhpcywgb3B0aW9ucykpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgJC5mbltwbHVnaW5OYW1lXS5kZWZhdWx0cyA9IHtcclxuICAgIG9uSW5pdDogZnVuY3Rpb24gb25Jbml0KCkge30sXHJcbiAgICBvbkRlc3Ryb3k6IGZ1bmN0aW9uIG9uRGVzdHJveSgpIHt9LFxyXG4gICAgd3JhcENvbnRlbnQ6IHRydWUsXHJcbiAgICBhdXRvSGlkZTogZmFsc2UsXHJcbiAgfTtcclxufSkoalF1ZXJ5KTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICQoXCIuY3NjcmxiLXNjcm9sbGFibGVcIikuY3NjcmxiKCk7XHJcbn0pOyAvLyBjYXRhbG9nXHJcblxyXG4oKCkgPT4ge1xyXG4gIGNvbnN0IGJ1dHRvbkRlZmF1bHRWaWV3ID0gJChcIi5idXR0b24xXCIpO1xyXG4gIGNvbnN0IGJ1dHRvbldpZGVWaWV3ID0gJChcIi5idXR0b24yXCIpO1xyXG4gIGNvbnN0IGJ1dHRvbkxpbmVWaWV3ID0gJChcIi5idXR0b24zXCIpO1xyXG4gIGNvbnN0IGl0ZW1zID0gJChcIi5wcm9kdWN0LWl0ZW1cIik7XHJcblxyXG4gIGJ1dHRvbldpZGVWaWV3LmNsaWNrKChldmVudCkgPT4ge1xyXG4gICAgYnV0dG9uRGVmYXVsdFZpZXcucmVtb3ZlQ2xhc3MoXCJjdXJyZW50XCIpO1xyXG4gICAgYnV0dG9uTGluZVZpZXcucmVtb3ZlQ2xhc3MoXCJjdXJyZW50XCIpO1xyXG4gICAgJChldmVudC5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcyhcImN1cnJlbnRcIik7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNhdGFsb2dHcmlkXCIsIFwid2lkZVwiKTtcclxuICAgIGl0ZW1zLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1pdGVtLS1saW5lXCIpO1xyXG4gICAgaXRlbXMuYWRkQ2xhc3MoXCJwcm9kdWN0LWl0ZW0tLXdpZGVcIik7XHJcbiAgfSk7XHJcblxyXG4gIGJ1dHRvbkxpbmVWaWV3LmNsaWNrKChldmVudCkgPT4ge1xyXG4gICAgYnV0dG9uV2lkZVZpZXcucmVtb3ZlQ2xhc3MoXCJjdXJyZW50XCIpO1xyXG4gICAgYnV0dG9uRGVmYXVsdFZpZXcucmVtb3ZlQ2xhc3MoXCJjdXJyZW50XCIpO1xyXG4gICAgJChldmVudC5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcyhcImN1cnJlbnRcIik7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNhdGFsb2dHcmlkXCIsIFwid2lkZVwiKTtcclxuICAgIGl0ZW1zLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1pdGVtLS13aWRlXCIpO1xyXG4gICAgaXRlbXMuYWRkQ2xhc3MoXCJwcm9kdWN0LWl0ZW0tLWxpbmVcIik7XHJcbiAgfSk7XHJcblxyXG4gIGJ1dHRvbkRlZmF1bHRWaWV3LmNsaWNrKChldmVudCkgPT4ge1xyXG4gICAgYnV0dG9uV2lkZVZpZXcucmVtb3ZlQ2xhc3MoXCJjdXJyZW50XCIpO1xyXG4gICAgYnV0dG9uTGluZVZpZXcucmVtb3ZlQ2xhc3MoXCJjdXJyZW50XCIpO1xyXG4gICAgJChldmVudC5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcyhcImN1cnJlbnRcIik7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNhdGFsb2dHcmlkXCIsIFwiZGVmYXVsdFwiKTtcclxuICAgIGl0ZW1zLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1pdGVtLS13aWRlXCIpO1xyXG4gICAgaXRlbXMucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWl0ZW0tLWxpbmVcIik7XHJcbiAgfSk7XHJcbn0pKCk7XHJcbi8qIHJhbmdlIHNsaWRlciAqL1xyXG5cclxudmFyIGtleXByZXNzU2xpZGVycyA9ICQoXCIucmFuZ2Utc2xpZGVyXCIpO1xyXG4kKGtleXByZXNzU2xpZGVycykuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGtleXByZXNzU2xpZGVyKSB7XHJcbiAgdmFyIGZpZWxkX25hbWUgPSAkKGtleXByZXNzU2xpZGVyKS5kYXRhKFwibmFtZVwiKTtcclxuICB2YXIgaW5wdXQwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpZF9cIiArIGZpZWxkX25hbWUgKyBcIl8wXCIpO1xyXG4gIHZhciBpbnB1dDEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlkX1wiICsgZmllbGRfbmFtZSArIFwiXzFcIik7XHJcbiAgdmFyIGlucHV0cyA9IFtpbnB1dDAsIGlucHV0MV07XHJcblxyXG4gIGlmIChpbnB1dDAgJiYgaW5wdXQxKSB7XHJcbiAgICB2YXIgc3RhcnRWYWwgPSBwYXJzZUludChpbnB1dDAuZGF0YXNldC5jdXJyZW50VmFsdWUpLFxyXG4gICAgICBlbmRWYWwgPSBwYXJzZUludChpbnB1dDEuZGF0YXNldC5jdXJyZW50VmFsdWUpO1xyXG4gICAgdmFyIG1pblZhbCA9IHBhcnNlSW50KGlucHV0MC5kYXRhc2V0Lm1pblZhbHVlKSxcclxuICAgICAgbWF4VmFsID0gcGFyc2VJbnQoaW5wdXQxLmRhdGFzZXQubWF4VmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgdmFyIHBvc3RmaXggPSBcIlwiO1xyXG5cclxuICBpZiAoZmllbGRfbmFtZSA9PSBcInByaWNlX3JhbmdlXCIpIHtcclxuICAgIHBvc3RmaXggPSBcIiDigr1cIjtcclxuICB9XHJcblxyXG4gIGlmICh0eXBlb2Ygbm9VaVNsaWRlciAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgbm9VaVNsaWRlci5jcmVhdGUoa2V5cHJlc3NTbGlkZXIsIHtcclxuICAgICAgc3RhcnQ6IFtzdGFydFZhbCwgZW5kVmFsXSxcclxuICAgICAgY29ubmVjdDogdHJ1ZSxcclxuICAgICAgcmFuZ2U6IHtcclxuICAgICAgICBtaW46IG1pblZhbCxcclxuICAgICAgICBtYXg6IG1heFZhbCxcclxuICAgICAgfSxcclxuICAgICAgZm9ybWF0OiB3TnVtYih7XHJcbiAgICAgICAgZGVjaW1hbHM6IDAsXHJcbiAgICAgICAgdGhvdXNhbmQ6IFwiIFwiLFxyXG4gICAgICAgIHBvc3RmaXg6IHBvc3RmaXgsXHJcbiAgICAgIH0pLFxyXG4gICAgICBzdGVwOiAxLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBpZiAoa2V5cHJlc3NTbGlkZXIgIT09IG51bGwgJiYga2V5cHJlc3NTbGlkZXIubm9VaVNsaWRlcikge1xyXG4gICAga2V5cHJlc3NTbGlkZXIubm9VaVNsaWRlci5vbihcInVwZGF0ZVwiLCBmdW5jdGlvbiAodmFsdWVzLCBoYW5kbGUpIHtcclxuICAgICAgaW5wdXRzW2hhbmRsZV0udmFsdWUgPSB2YWx1ZXNbaGFuZGxlXTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2V0U2xpZGVySGFuZGxlKGksIHZhbHVlKSB7XHJcbiAgICB2YXIgciA9IFtudWxsLCBudWxsXTtcclxuICAgIHJbaV0gPSB2YWx1ZTtcclxuICAgIGtleXByZXNzU2xpZGVyLm5vVWlTbGlkZXIuc2V0KHIpO1xyXG4gIH0gLy8gTGlzdGVuIHRvIGtleWRvd24gZXZlbnRzIG9uIHRoZSBpbnB1dCBmaWVsZC5cclxuXHJcbiAgaW5wdXRzLmZvckVhY2goZnVuY3Rpb24gKGlucHV0LCBoYW5kbGUpIHtcclxuICAgIGlmIChpbnB1dCA9PT0gbnVsbCkgcmV0dXJuO1xyXG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHNldFNsaWRlckhhbmRsZShoYW5kbGUsIHRoaXMudmFsdWUpO1xyXG4gICAgfSk7XHJcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICB2YXIgdmFsdWVzID0ga2V5cHJlc3NTbGlkZXIubm9VaVNsaWRlci5nZXQoKTtcclxuICAgICAgdmFyIHZhbHVlID0gTnVtYmVyKHZhbHVlc1toYW5kbGVdKTsgLy8gW1toYW5kbGUwX2Rvd24sIGhhbmRsZTBfdXBdLCBbaGFuZGxlMV9kb3duLCBoYW5kbGUxX3VwXV1cclxuXHJcbiAgICAgIHZhciBzdGVwcyA9IGtleXByZXNzU2xpZGVyLm5vVWlTbGlkZXIuc3RlcHMoKTsgLy8gW2Rvd24sIHVwXVxyXG5cclxuICAgICAgdmFyIHN0ZXAgPSBzdGVwc1toYW5kbGVdO1xyXG4gICAgICB2YXIgcG9zaXRpb247IC8vIDEzIGlzIGVudGVyLFxyXG4gICAgICAvLyAzOCBpcyBrZXkgdXAsXHJcbiAgICAgIC8vIDQwIGlzIGtleSBkb3duLlxyXG5cclxuICAgICAgc3dpdGNoIChlLndoaWNoKSB7XHJcbiAgICAgICAgY2FzZSAxMzpcclxuICAgICAgICAgIHNldFNsaWRlckhhbmRsZShoYW5kbGUsIHRoaXMudmFsdWUpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgMzg6XHJcbiAgICAgICAgICAvLyBHZXQgc3RlcCB0byBnbyBpbmNyZWFzZSBzbGlkZXIgdmFsdWUgKHVwKVxyXG4gICAgICAgICAgcG9zaXRpb24gPSBzdGVwWzFdOyAvLyBmYWxzZSA9IG5vIHN0ZXAgaXMgc2V0XHJcblxyXG4gICAgICAgICAgaWYgKHBvc2l0aW9uID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IDE7XHJcbiAgICAgICAgICB9IC8vIG51bGwgPSBlZGdlIG9mIHNsaWRlclxyXG5cclxuICAgICAgICAgIGlmIChwb3NpdGlvbiAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBzZXRTbGlkZXJIYW5kbGUoaGFuZGxlLCB2YWx1ZSArIHBvc2l0aW9uKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSA0MDpcclxuICAgICAgICAgIHBvc2l0aW9uID0gc3RlcFswXTtcclxuXHJcbiAgICAgICAgICBpZiAocG9zaXRpb24gPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gMTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAocG9zaXRpb24gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgc2V0U2xpZGVySGFuZGxlKGhhbmRsZSwgdmFsdWUgLSBwb3NpdGlvbik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbi8vIGFjY29yZGlvblxyXG4kKFwiLmFjY19fdG9nZ2xlOm5vdCgubm90X3RvZ2dsZSlcIikuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAvLyBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIHZhciAkdGhpcyA9ICQodGhpcyk7XHJcbiAgaWYgKCR0aGlzLm5leHQoKS5oYXNDbGFzcyhcInNob3dcIikpIHtcclxuICAgICR0aGlzLm5leHQoKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcbiAgICAkdGhpcy5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICR0aGlzLm5leHQoKS5zbGlkZVVwKDIwMCk7XHJcbiAgfSBlbHNlIHtcclxuICAgICR0aGlzLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoXCJsaSAuaW5uZXJcIikucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgJHRoaXMucGFyZW50KCkucGFyZW50KCkuZmluZChcImxpIC5hY2NfX3RvZ2dsZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICR0aGlzLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoXCJsaSAuaW5uZXJcIikuc2xpZGVVcCgyMDApO1xyXG4gICAgJHRoaXMubmV4dCgpLnRvZ2dsZUNsYXNzKFwic2hvd1wiKTtcclxuICAgICR0aGlzLnRvZ2dsZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgJHRoaXMubmV4dCgpLnNsaWRlVG9nZ2xlKDIwMCk7XHJcbiAgfVxyXG59KTtcclxuXHJcbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xyXG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xyXG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xyXG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcclxuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcclxuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XHJcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkge1xyXG4gIHZhciBpdDtcclxuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBvW1N5bWJvbC5pdGVyYXRvcl0gPT0gbnVsbCkge1xyXG4gICAgaWYgKFxyXG4gICAgICBBcnJheS5pc0FycmF5KG8pIHx8XHJcbiAgICAgIChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHxcclxuICAgICAgKGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKVxyXG4gICAgKSB7XHJcbiAgICAgIGlmIChpdCkgbyA9IGl0O1xyXG4gICAgICB2YXIgaSA9IDA7XHJcbiAgICAgIHZhciBGID0gZnVuY3Rpb24gRigpIHt9O1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHM6IEYsXHJcbiAgICAgICAgbjogZnVuY3Rpb24gbigpIHtcclxuICAgICAgICAgIGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07XHJcbiAgICAgICAgICByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZTogZnVuY3Rpb24gZShfZSkge1xyXG4gICAgICAgICAgdGhyb3cgX2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmOiBGLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcclxuICAgICAgXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiXHJcbiAgICApO1xyXG4gIH1cclxuICB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsXHJcbiAgICBkaWRFcnIgPSBmYWxzZSxcclxuICAgIGVycjtcclxuICByZXR1cm4ge1xyXG4gICAgczogZnVuY3Rpb24gcygpIHtcclxuICAgICAgaXQgPSBvW1N5bWJvbC5pdGVyYXRvcl0oKTtcclxuICAgIH0sXHJcbiAgICBuOiBmdW5jdGlvbiBuKCkge1xyXG4gICAgICB2YXIgc3RlcCA9IGl0Lm5leHQoKTtcclxuICAgICAgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTtcclxuICAgICAgcmV0dXJuIHN0ZXA7XHJcbiAgICB9LFxyXG4gICAgZTogZnVuY3Rpb24gZShfZTIpIHtcclxuICAgICAgZGlkRXJyID0gdHJ1ZTtcclxuICAgICAgZXJyID0gX2UyO1xyXG4gICAgfSxcclxuICAgIGY6IGZ1bmN0aW9uIGYoKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTtcclxuICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xyXG4gIGlmICghbykgcmV0dXJuO1xyXG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XHJcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xyXG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XHJcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XHJcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpXHJcbiAgICByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcclxufVxyXG5cclxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcclxuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcclxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHtcclxuICAgIGFycjJbaV0gPSBhcnJbaV07XHJcbiAgfVxyXG4gIHJldHVybiBhcnIyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XHJcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XHJcbiAgfVxyXG59XHJcblxyXG52YXIgYnJlYWtwb2ludHMgPSB7XHJcbiAgeHM6IDAsXHJcbiAgc206IDU3NixcclxuICBtZDogNzY4LFxyXG4gIGxnOiAxMDI0LFxyXG4gIHhsOiAxMjgwLFxyXG59O1xyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgaG9tZUJhbm5lcigpO1xyXG4gIGhlYWRlcigpO1xyXG4gIGdhbGxlcnkoKTtcclxuICBsYW5kaW5nX3NsaWRlcnMoKTtcclxuICB1cCgpO1xyXG4gIGNoYXRCbG9jaygpO1xyXG4gIHRvZ2dsZSgpOyAvL2ludGVyYWN0aW9uXHJcblxyXG4gIG5ldyDQoXVzdG9tSW50ZXJhY3Rpb24oe1xyXG4gICAgdGFyZ2V0czogXCJhLCBidXR0b24sIFtkYXRhLWN1c3RvbS1pbnRlcmFjdGlvbl0sIC5pbWFnZS16b29tXCIsXHJcbiAgfSk7IC8vc2xpZGVyIGNvbnN0cnVjdG9yXHJcblxyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2xpZGVyLWNvbnN0cnVjdG9yXCIpLmZvckVhY2goZnVuY3Rpb24gKCR0aGlzKSB7XHJcbiAgICBuZXcgU2xpZGVyQ29uc3RydWN0b3IoJHRoaXMpLmluaXQoKTtcclxuICB9KTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiB0aHJvdHRsZShmdW5jLCBpbnRlcnZhbCwgY29udGV4dCkge1xyXG4gIHZhciBpc0Nvb2xkb3duID0gZmFsc2U7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChpc0Nvb2xkb3duKSByZXR1cm47XHJcbiAgICBmdW5jLmFwcGx5KGNvbnRleHQgfHwgdGhpcywgYXJndW1lbnRzKTtcclxuICAgIGlzQ29vbGRvd24gPSB0cnVlO1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiAoaXNDb29sZG93biA9IGZhbHNlKTtcclxuICAgIH0sIGludGVydmFsKTtcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jLCBpbnRlcnZhbCwgY29udGV4dCkge1xyXG4gIHZhciB0aW1lb3V0ID0gZmFsc2U7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzLFxyXG4gICAgICBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgaWYgKHRpbWVvdXQpIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgZnVuYy5hcHBseShjb250ZXh0IHx8IF90aGlzLCBfYXJndW1lbnRzKTtcclxuICAgIH0sIGludGVydmFsKTtcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBob21lQmFubmVyKCkge1xyXG4gIHZhciAkc2xpZGVyID0gJChcIi5ob21lLWJhbm5lciAub3dsLWNhcm91c2VsXCIpLFxyXG4gICAgYXJyb3dQcmV2ID1cclxuICAgICAgJzxzdmcgY2xhc3M9XCJpY29uXCIgdmlld0JveD1cIjAgMCAxMC41IDE4LjFcIj48cGF0aCBzdHJva2U9XCJub25lXCIgZD1cIk05LDBsMS40LDEuNEwyLjgsOWw3LjYsNy42TDksMTguMUwwLDlDMCw5LDkuMSwwLDksMHpcIj48L3BhdGg+PC9zdmc+JyxcclxuICAgIGFycm93TmV4dCA9XHJcbiAgICAgICc8c3ZnIGNsYXNzPVwiaWNvblwiIHZpZXdCb3g9XCIwIDAgMTAuNSAxOC4xXCI+PHBhdGggc3Ryb2tlPVwibm9uZVwiIGQ9XCJNMS40LDE4LjFMMCwxNi43bDcuNi03LjZMMCwxLjVMMS40LDBsOSw5LjFDMTAuNCw5LjEsMS4zLDE4LjEsMS40LDE4LjF6XCI+PC9wYXRoPjwvc3ZnPic7XHJcblxyXG4gIGlmICgkc2xpZGVyLmxlbmd0aCkge1xyXG4gICAgJHNsaWRlci5vd2xDYXJvdXNlbCh7XHJcbiAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgIG5hdjogdHJ1ZSxcclxuICAgICAgc21hcnRTcGVlZDogNTAwLFxyXG4gICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICBpdGVtczogMSxcclxuICAgICAgbGF6eUxvYWQ6IHRydWUsXHJcbiAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICBhdXRvcGxheVRpbWVvdXQ6ICgrJHNsaWRlci5kYXRhKFwiYXV0b3BsYXktdGltZW91dFwiKSB8fCA1KSAqIDEwMDAsXHJcbiAgICAgIG5hdlRleHQ6IFthcnJvd1ByZXYsIGFycm93TmV4dF0sXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhlYWRlcigpIHtcclxuICB2YXIgJGhlYWRlciA9ICQoXCJoZWFkZXJcIiksXHJcbiAgICBoZWlnaHQsXHJcbiAgICBzY3JvbGw7XHJcbiAgbGV0IGlzVGhyb3R0bGVkID0gZmFsc2U7XHJcbiAgY2hlY2soKTtcclxuICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChpc1Rocm90dGxlZCkgcmV0dXJuO1xyXG4gICAgaXNUaHJvdHRsZWQgPSB0cnVlO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGNoZWNrKCk7XHJcbiAgICAgIGlzVGhyb3R0bGVkID0gZmFsc2U7XHJcbiAgICB9LCAxMDApO1xyXG4gIH0pO1xyXG5cclxuICBmdW5jdGlvbiBjaGVjaygpIHtcclxuICAgIGlmICghJGhlYWRlci5oYXNDbGFzcyhcImhlYWRlcl9sYW5kaW5nXCIpKSB7XHJcbiAgICAgIHNjcm9sbCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuICAgICAgaGVpZ2h0ID0gJGhlYWRlci5oZWlnaHQoKTtcclxuXHJcbiAgICAgIGlmIChzY3JvbGwgPiBoZWlnaHQpIHtcclxuICAgICAgICAkaGVhZGVyLmFkZENsYXNzKFwiZml4ZWRcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJGhlYWRlci5yZW1vdmVDbGFzcyhcImZpeGVkXCIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59IC8vZ2FsbGVyeVxyXG5cclxuZnVuY3Rpb24gZ2FsbGVyeSgpIHtcclxuICBpZiAoJC5mYW5jeWJveCkge1xyXG4gICAgJChcIi5vd2wtaXRlbSBbZGF0YS1mYW5jeWJveF1cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciAkc2VsZWN0b3IgPSAkKHRoaXMpXHJcbiAgICAgIC5wYXJlbnRzKFwiLm93bC1jYXJvdXNlbFwiKVxyXG4gICAgICAuZmluZChcIi5vd2wtaXRlbTpub3QoLmNsb25lZCkgW2RhdGEtZmFuY3lib3hdXCIpO1xyXG4gICAgICAkLmZhbmN5Ym94Lm9wZW4oXHJcbiAgICAgICAgJHNlbGVjdG9yLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHNlbGVjdG9yOiAkc2VsZWN0b3IsXHJcbiAgICAgICAgICBiYWNrRm9jdXM6IGZhbHNlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJHNlbGVjdG9yLmluZGV4KHRoaXMpXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gbGFuZGluZ19zbGlkZXJzKCkge1xyXG4gIHZhciAkc2xpZGVycyA9ICQoXCIubGFuZGluZy1zbGlkZXIgLm93bC1jYXJvdXNlbFwiKTtcclxuXHJcbiAgaWYgKCRzbGlkZXJzLmxlbmd0aCkge1xyXG4gICAgJHNsaWRlcnMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgIHZhciBjb3VudDEsIGNvdW50MiwgY291bnQzLCBjb3VudDQ7XHJcblxyXG4gICAgICBpZiAoJHRoaXMuaXMoXCIubGFuZGluZy1zbGlkZXJfMSAub3dsLWNhcm91c2VsXCIpKSB7XHJcbiAgICAgICAgY291bnQxID0gMjtcclxuICAgICAgICBjb3VudDIgPSAyO1xyXG4gICAgICAgIGNvdW50MyA9IDM7XHJcbiAgICAgICAgY291bnQ0ID0gNDtcclxuICAgICAgfSBlbHNlIGlmICgkdGhpcy5pcyhcIi5sYW5kaW5nLXNsaWRlcl8yIC5vd2wtY2Fyb3VzZWxcIikpIHtcclxuICAgICAgICBjb3VudDEgPSAxO1xyXG4gICAgICAgIGNvdW50MiA9IDI7XHJcbiAgICAgICAgY291bnQzID0gMztcclxuICAgICAgICBjb3VudDQgPSA0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkdGhpcy5vd2xDYXJvdXNlbCh7XHJcbiAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICBtYXJnaW46IDIwLFxyXG4gICAgICAgIHJlc3BvbnNpdmU6IHtcclxuICAgICAgICAgIDA6IHtcclxuICAgICAgICAgICAgaXRlbXM6IGNvdW50MSxcclxuICAgICAgICAgICAgbWFyZ2luOiAxNixcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICA1NzY6IHtcclxuICAgICAgICAgICAgaXRlbXM6IGNvdW50MixcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICA3Njg6IHtcclxuICAgICAgICAgICAgaXRlbXM6IGNvdW50MyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICA5OTI6IHtcclxuICAgICAgICAgICAgaXRlbXM6IGNvdW50NCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRvZ2dsZSgpIHtcclxuICB2YXIgJHNlY3Rpb24gPSAkKFwiLnRvZ2dsZS1zZWN0aW9uXCIpLFxyXG4gICAgc3BlZWQgPSAyNTA7XHJcbiAgJHNlY3Rpb24uZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLFxyXG4gICAgICAkdG9nZ2xlID0gJHRoaXMuY2hpbGRyZW4oXCIudG9nZ2xlLXNlY3Rpb25fX3RyaWdnZXJcIiksXHJcbiAgICAgICRjb250ZW50ID0gJHRoaXMuY2hpbGRyZW4oXCIudG9nZ2xlLXNlY3Rpb25fX2NvbnRlbnRcIiksXHJcbiAgICAgICRjbG9zZSA9ICRjb250ZW50LmZpbmQoXCIudG9nZ2xlLXNlY3Rpb25fX2Nsb3NlXCIpLFxyXG4gICAgICBzdGF0ZSA9ICR0aGlzLmhhc0NsYXNzKFwiYWN0aXZlXCIpID8gdHJ1ZSA6IGZhbHNlLFxyXG4gICAgICBpbml0aWFsaXplZDtcclxuICAgICR0b2dnbGUub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHN0YXRlID0gIXN0YXRlID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICBjaGVjaygpO1xyXG4gICAgfSk7XHJcbiAgICAkY2xvc2Uub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHN0YXRlID0gZmFsc2U7XHJcbiAgICAgIGNoZWNrKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoJHRoaXMuaXMoXCJbZGF0YS1ob3Zlcl1cIikpIHtcclxuICAgICAgdmFyIHRpbWVvdXQ7XHJcbiAgICAgICR0b2dnbGUuYWRkKCRjb250ZW50KS5vbihcIm1vdXNlZW50ZXJcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKCFpc1RvdWNoKSB7XHJcbiAgICAgICAgICBpZiAodGltZW91dCkgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG4gICAgICAgICAgc3RhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgY2hlY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICAkdG9nZ2xlLmFkZCgkY29udGVudCkub24oXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGlmICghaXNUb3VjaCkge1xyXG4gICAgICAgICAgdmFyIGRlbGF5O1xyXG5cclxuICAgICAgICAgIGlmICgkKHRoaXMpLmlzKCR0b2dnbGUpKSB7XHJcbiAgICAgICAgICAgIGRlbGF5ID0gNTAwO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGVsYXkgPSAxMDA7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzdGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjaGVjaygpO1xyXG4gICAgICAgICAgfSwgZGVsYXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCR0aGlzLmlzKFwiW2RhdGEtb3V0LWhpZGVdXCIpIHx8ICR0aGlzLmlzKFwiW2RhdGEtaG92ZXJdXCIpKSB7XHJcbiAgICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2sgdG91Y2hzdGFydFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgJHRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KTtcclxuXHJcbiAgICAgICAgaWYgKCEkdGFyZ2V0LmNsb3Nlc3QoJGNvbnRlbnQpLmxlbmd0aCAmJiAhJHRhcmdldC5jbG9zZXN0KCR0b2dnbGUpLmxlbmd0aCAmJiBzdGF0ZSkge1xyXG4gICAgICAgICAgc3RhdGUgPSBmYWxzZTtcclxuICAgICAgICAgIGNoZWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjaGVjaygpIHtcclxuICAgICAgaWYgKHN0YXRlKSB7XHJcbiAgICAgICAgJHRoaXMuYWRkKCRjb250ZW50KS5hZGQoJHRvZ2dsZSkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgICAgIGlmICgkdGhpcy5pcyhcIltkYXRhLXNsaWRlXVwiKSkge1xyXG4gICAgICAgICAgJGNvbnRlbnQuc2xpZGVEb3duKHNwZWVkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJHRoaXMuYWRkKCR0b2dnbGUpLmFkZCgkY29udGVudCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgICAgIGlmICgkdGhpcy5pcyhcIltkYXRhLXNsaWRlXVwiKSkge1xyXG4gICAgICAgICAgaWYgKGluaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgICRjb250ZW50LnN0b3AoKS5zbGlkZVVwKHNwZWVkKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRjb250ZW50LmhpZGUoMCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2soKTtcclxuICAgIGluaXRpYWxpemVkID0gdHJ1ZTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXAoKSB7XHJcbiAgdmFyICRidG4gPSAkKFwiLmpzLXVwXCIpO1xyXG5cclxuICBmdW5jdGlvbiBjaGVjaygpIHtcclxuICAgIHZhciBzY3JvbGwgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcblxyXG4gICAgaWYgKHNjcm9sbCA+IDUwKSB7XHJcbiAgICAgICRidG4uYWRkQ2xhc3MoXCJ2aXNpYmxlXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJGJ0bi5yZW1vdmVDbGFzcyhcInZpc2libGVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsZXQgaXNUaHJvdHRsZWQgPSBmYWxzZTtcclxuICAkKHdpbmRvdykub24oXCJzY3JvbGxcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKGlzVGhyb3R0bGVkKSByZXR1cm47XHJcbiAgICBpc1Rocm90dGxlZCA9IHRydWU7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgY2hlY2soKTtcclxuICAgICAgaXNUaHJvdHRsZWQgPSBmYWxzZTtcclxuICAgIH0sIDEwMCk7XHJcbiAgfSk7XHJcbiAgY2hlY2soKTtcclxuICAkYnRuLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgJChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZShcclxuICAgICAge1xyXG4gICAgICAgIHNjcm9sbFRvcDogMCxcclxuICAgICAgfSxcclxuICAgICAgNTAwXHJcbiAgICApO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGF0QmxvY2soKSB7XHJcbiAgdmFyICRibG9jayA9ICQoXCIuY2hhdC1ibG9ja1wiKSxcclxuICAgICRvcGVuID0gJChcIltkYXRhLWNoYXQtb3Blbl1cIiksXHJcbiAgICAkY2xvc2UgPSAkKFwiW2RhdGEtY2hhdC1jbG9zZV1cIik7XHJcbiAgJG9wZW4ub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkYmxvY2suYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgfSk7XHJcbiAgJGNsb3NlLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgJGJsb2NrLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gIH0pO1xyXG59XHJcblxyXG52YXIg0KF1c3RvbUludGVyYWN0aW9uID0gZnVuY3Rpb24g0KF1c3RvbUludGVyYWN0aW9uKCkge1xyXG4gIHZhciBfdGhpczIgPSB0aGlzO1xyXG5cclxuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XHJcblxyXG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCDQoXVzdG9tSW50ZXJhY3Rpb24pO1xyXG5cclxuICB0aGlzLnRhcmdldHMgPSBvcHRpb25zLnRhcmdldHM7XHJcbiAgdGhpcy50b3VjaGVuZERlbGF5ID0gb3B0aW9ucy50b3VjaGVuZERlbGF5IHx8IDEwMDsgLy9tc1xyXG5cclxuICB2YXIgZXZlbnRzID0gZnVuY3Rpb24gZXZlbnRzKGV2ZW50KSB7XHJcbiAgICB2YXIgJHRhcmdldHMgPSBbXTtcclxuICAgICR0YXJnZXRzWzBdID0gZXZlbnQudGFyZ2V0ICE9PSBkb2N1bWVudCA/IGV2ZW50LnRhcmdldC5jbG9zZXN0KF90aGlzMi50YXJnZXRzKSA6IG51bGw7XHJcbiAgICB2YXIgJGVsZW1lbnQgPSAkdGFyZ2V0c1swXSxcclxuICAgICAgaSA9IDA7XHJcblxyXG4gICAgd2hpbGUgKCR0YXJnZXRzWzBdKSB7XHJcbiAgICAgICRlbGVtZW50ID0gJGVsZW1lbnQucGFyZW50Tm9kZTtcclxuXHJcbiAgICAgIGlmICgkZWxlbWVudCAhPT0gZG9jdW1lbnQpIHtcclxuICAgICAgICBpZiAoJGVsZW1lbnQubWF0Y2hlcygkdGFyZ2V0cy52YWx1ZSkpIHtcclxuICAgICAgICAgIGkrKztcclxuICAgICAgICAgICR0YXJnZXRzW2ldID0gJGVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9IC8vdG91Y2hzdGFydFxyXG5cclxuICAgIGlmIChldmVudC50eXBlID09IFwidG91Y2hzdGFydFwiKSB7XHJcbiAgICAgIF90aGlzMi50b3VjaGVkID0gdHJ1ZTtcclxuICAgICAgaWYgKF90aGlzMi50aW1lb3V0KSBjbGVhclRpbWVvdXQoX3RoaXMyLnRpbWVvdXQpO1xyXG5cclxuICAgICAgaWYgKCR0YXJnZXRzWzBdKSB7XHJcbiAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKCR0YXJnZXRzKSxcclxuICAgICAgICAgIF9zdGVwO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTsgKSB7XHJcbiAgICAgICAgICAgIHZhciAkdGFyZ2V0ID0gX3N0ZXAudmFsdWU7XHJcbiAgICAgICAgICAgICR0YXJnZXQuc2V0QXR0cmlidXRlKFwiZGF0YS10b3VjaFwiLCBcIlwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7XHJcbiAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgIF9pdGVyYXRvci5mKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvL3RvdWNoZW5kXHJcbiAgICBlbHNlIGlmIChldmVudC50eXBlID09IFwidG91Y2hlbmRcIiB8fCAoZXZlbnQudHlwZSA9PSBcImNvbnRleHRtZW51XCIgJiYgX3RoaXMyLnRvdWNoZWQpKSB7XHJcbiAgICAgIF90aGlzMi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3RoaXMyLnRvdWNoZWQgPSBmYWxzZTtcclxuICAgICAgfSwgX3RoaXMyLnRvdWNoZW5kRGVsYXkpO1xyXG5cclxuICAgICAgaWYgKCR0YXJnZXRzWzBdKSB7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKCR0YXJnZXRzKSxcclxuICAgICAgICAgICAgX3N0ZXAyO1xyXG5cclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7ICkge1xyXG4gICAgICAgICAgICAgIHZhciBfJHRhcmdldCA9IF9zdGVwMi52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgXyR0YXJnZXQucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS10b3VjaFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpO1xyXG4gICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgX3RoaXMyLnRvdWNoZW5kRGVsYXkpO1xyXG4gICAgICB9XHJcbiAgICB9IC8vbW91c2VlbnRlclxyXG5cclxuICAgIGlmIChcclxuICAgICAgZXZlbnQudHlwZSA9PSBcIm1vdXNlZW50ZXJcIiAmJlxyXG4gICAgICAhX3RoaXMyLnRvdWNoZWQgJiZcclxuICAgICAgJHRhcmdldHNbMF0gJiZcclxuICAgICAgJHRhcmdldHNbMF0gPT0gZXZlbnQudGFyZ2V0XHJcbiAgICApIHtcclxuICAgICAgJHRhcmdldHNbMF0uc2V0QXR0cmlidXRlKFwiZGF0YS1ob3ZlclwiLCBcIlwiKTtcclxuICAgIH1cclxuICAgIC8vbW91c2VsZWF2ZVxyXG4gICAgZWxzZSBpZiAoXHJcbiAgICAgIGV2ZW50LnR5cGUgPT0gXCJtb3VzZWxlYXZlXCIgJiZcclxuICAgICAgIV90aGlzMi50b3VjaGVkICYmXHJcbiAgICAgICR0YXJnZXRzWzBdICYmXHJcbiAgICAgICR0YXJnZXRzWzBdID09IGV2ZW50LnRhcmdldFxyXG4gICAgKSB7XHJcbiAgICAgICR0YXJnZXRzWzBdLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtY2xpY2tcIik7XHJcbiAgICAgICR0YXJnZXRzWzBdLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtaG92ZXJcIik7XHJcbiAgICB9IC8vbW91c2Vkb3duXHJcblxyXG4gICAgaWYgKGV2ZW50LnR5cGUgPT0gXCJtb3VzZWRvd25cIiAmJiAhX3RoaXMyLnRvdWNoZWQgJiYgJHRhcmdldHNbMF0pIHtcclxuICAgICAgJHRhcmdldHNbMF0uc2V0QXR0cmlidXRlKFwiZGF0YS1jbGlja1wiLCBcIlwiKTtcclxuICAgIH1cclxuICAgIC8vbW91c2V1cFxyXG4gICAgZWxzZSBpZiAoZXZlbnQudHlwZSA9PSBcIm1vdXNldXBcIiAmJiAhX3RoaXMyLnRvdWNoZWQgJiYgJHRhcmdldHNbMF0pIHtcclxuICAgICAgJHRhcmdldHNbMF0ucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1jbGlja1wiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBldmVudHMpO1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBldmVudHMpO1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIGV2ZW50cywgdHJ1ZSk7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgZXZlbnRzLCB0cnVlKTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGV2ZW50cyk7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgZXZlbnRzKTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgZXZlbnRzKTtcclxufTtcclxuXHJcbnZhciBTbGlkZXJDb25zdHJ1Y3RvciA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcclxuICBmdW5jdGlvbiBTbGlkZXJDb25zdHJ1Y3RvcihlbGVtZW50KSB7XHJcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2xpZGVyQ29uc3RydWN0b3IpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfY3JlYXRlQ2xhc3MoU2xpZGVyQ29uc3RydWN0b3IsIFtcclxuICAgIHtcclxuICAgICAga2V5OiBcImluaXRcIixcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XHJcblxyXG4gICAgICAgIHRoaXMucGFyYW1zID0ge307XHJcbiAgICAgICAgdGhpcy5wYXJhbXMuYXV0b3BsYXkgPSB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1hdXRvcGxheS10aW1lb3V0XCIpICE9PSBudWxsO1xyXG4gICAgICAgIHRoaXMucGFyYW1zLmF1dG9wbGF5VGltZW91dCA9ICt0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1hdXRvcGxheS10aW1lb3V0XCIpIHx8IDUwMDA7XHJcbiAgICAgICAgdGhpcy5wYXJhbXMuYXJyb3dzID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtbm8tYXJyb3dzXCIpID09PSBudWxsID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICBjb25zdCBtZWRpYVF1ZXJ5ID0gd2luZG93Lm1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiA1NzUuOThweClcIik7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIG1lZGlhIHF1ZXJ5IGlzIHRydWVcclxuICAgICAgICBpZiAobWVkaWFRdWVyeS5tYXRjaGVzKSB7XHJcbiAgICAgICAgICB0aGlzLnBhcmFtcy5kb3RzID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtbm8tZG90c1wiKSA9PT0gbnVsbCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5wYXJhbXMuZG90cyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnBhcmFtcy5hZGFwdGl2ZUhlaWdodCA9IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWFkYXB0aXZlLWhlaWdodFwiKSAhPT0gbnVsbDtcclxuICAgICAgICB0aGlzLnBhcmFtcy5jZW50ZXJNb2RlID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtY2VudGVyXCIpID09PSBudWxsID8gZmFsc2UgOiB0cnVlO1xyXG4gICAgICAgIHRoaXMucGFyYW1zLmNvdW50ID0ge307XHJcbiAgICAgICAgdGhpcy5wYXJhbXMuY291bnQueHMgPSArdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtc2xpZGVzXCIpIHx8IDE7XHJcbiAgICAgICAgdGhpcy5wYXJhbXMuY291bnQuc20gPSArdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtc20tc2xpZGVzXCIpIHx8IHRoaXMucGFyYW1zLmNvdW50LnhzO1xyXG4gICAgICAgIHRoaXMucGFyYW1zLmNvdW50Lm1kID0gK3RoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1kLXNsaWRlc1wiKSB8fCB0aGlzLnBhcmFtcy5jb3VudC5zbTtcclxuICAgICAgICB0aGlzLnBhcmFtcy5jb3VudC5sZyA9ICt0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1sZy1zbGlkZXNcIikgfHwgdGhpcy5wYXJhbXMuY291bnQubWQ7XHJcbiAgICAgICAgdGhpcy5wYXJhbXMuY291bnQueGwgPSArdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEteGwtc2xpZGVzXCIpIHx8IHRoaXMucGFyYW1zLmNvdW50LmxnO1xyXG4gICAgICAgIHRoaXMucGFyYW1zLnJvd3MgPSB7fTtcclxuICAgICAgICAodGhpcy5wYXJhbXMucm93cy54cyA9ICt0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1yb3dzXCIpIHx8IDEpLFxyXG4gICAgICAgICAgKHRoaXMucGFyYW1zLnJvd3Muc20gPSArdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtc20tcm93c1wiKSB8fCB0aGlzLnBhcmFtcy5yb3dzLnhzKSxcclxuICAgICAgICAgICh0aGlzLnBhcmFtcy5yb3dzLm1kID0gK3RoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1kLXJvd3NcIikgfHwgdGhpcy5wYXJhbXMucm93cy5zbSksXHJcbiAgICAgICAgICAodGhpcy5wYXJhbXMucm93cy5sZyA9ICt0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1sZy1yb3dzXCIpIHx8IHRoaXMucGFyYW1zLnJvd3MubWQpLFxyXG4gICAgICAgICAgKHRoaXMucGFyYW1zLnJvd3MueGwgPSArdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEteGwtcm93c1wiKSB8fCB0aGlzLnBhcmFtcy5yb3dzLmxnKTtcclxuICAgICAgICB0aGlzLnBhcmFtcy5zdGF0ZSA9IHt9O1xyXG4gICAgICAgIE9iamVjdC5rZXlzKGJyZWFrcG9pbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXksIGluZGV4KSB7XHJcbiAgICAgICAgICB2YXIgYnJlYWtwb2ludCA9IGluZGV4ICE9PSAwID8gXCItXCIgKyBrZXkgKyBcIi1cIiA6IFwiLVwiO1xyXG5cclxuICAgICAgICAgIHZhciBhdHRyID0gX3RoaXMzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YVwiLmNvbmNhdChicmVha3BvaW50LCBcIm1vdW50ZWRcIikpO1xyXG5cclxuICAgICAgICAgIGlmIChhdHRyID09PSBudWxsICYmIGluZGV4ICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHZhciBwcmV2S2V5ID0gT2JqZWN0LmtleXMoYnJlYWtwb2ludHMpW2luZGV4IC0gMV07XHJcbiAgICAgICAgICAgIF90aGlzMy5wYXJhbXMuc3RhdGVba2V5XSA9IF90aGlzMy5wYXJhbXMuc3RhdGVbcHJldktleV07XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGF0dHIgPT09IFwidHJ1ZVwiIHx8IChpbmRleCA9PT0gMCAmJiBhdHRyICE9PSBcImZhbHNlXCIpKSB7XHJcbiAgICAgICAgICAgIF90aGlzMy5wYXJhbXMuc3RhdGVba2V5XSA9IHRydWU7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBfdGhpczMucGFyYW1zLnN0YXRlW2tleV0gPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNsaWRlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY29udGFpbnNNb2JpbGVIaWRkZW5TbGlkZXMgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChzbGlkZSkge1xyXG4gICAgICAgICAgaWYgKCFzbGlkZS50YWdOYW1lKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgaWYgKHNsaWRlLmdldEF0dHJpYnV0ZShcImRhdGEtc2xpZGUtbW9iaWxlLWhpZGRlblwiKSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBfdGhpczMuY29udGFpbnNNb2JpbGVIaWRkZW5TbGlkZXMgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIF90aGlzMy5zbGlkZXMucHVzaChzbGlkZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVJY29ucygpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tTbGlkZXJTdGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tTbGlkZXJTdGF0ZURlYm91bmNlZCA9IGRlYm91bmNlKHRoaXMuY2hlY2tTbGlkZXJTdGF0ZSwgNTAwLCB0aGlzKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLmNoZWNrU2xpZGVyU3RhdGVEZWJvdW5jZWQpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAga2V5OiBcImNyZWF0ZUljb25zXCIsXHJcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVJY29ucygpIHtcclxuICAgICAgICB2YXIgbGVmdEljb24gPVxyXG4gICAgICAgICAgJ1xcbiAgICAgIDxzdmcgdmlld0JveD1cIjAgMCAxMSAxOVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XFxuICAgICAgICA8cGF0aCBkPVwiTTEuNCAxOC4xTDAgMTYuN0w3LjYgOS4xMDAwMUwwIDEuNUwxLjQgMEwxMC40IDkuMTAwMDFDMTAuNCA5LjEwMDAxIDEuMyAxOC4xIDEuNCAxOC4xWlwiLz5cXG4gICAgICA8L3N2Zz5cXG4gICAgJztcclxuICAgICAgICB2YXIgcmlnaHRJY29uID1cclxuICAgICAgICAgICdcXG4gICAgICA8c3ZnIHZpZXdCb3g9XCIwIDAgMTEgMTlcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxcbiAgICAgICAgPHBhdGggZD1cIk05LjAwMDM5IDcuMjQ3OTJlLTA1TDEwLjQwMDQgMS40MDAwN0wyLjgwMDM5IDkuMDAwMDlMMTAuNDAwNCAxNi42MDAxTDkuMDAwMzkgMTguMTAwMUwwLjAwMDM5MTAwNiA5LjAwMDA5QzAuMDAwMzkxMDA2IDkuMDAwMDkgOS4xMDAzOSA3LjI0NzkyZS0wNSA5LjAwMDM5IDcuMjQ3OTJlLTA1WlwiLz5cXG4gICAgICA8L3N2Zz5cXG4gICAgJztcclxuICAgICAgICB2YXIgbGVmdEljb25DbGFzcyA9IFwiY3VzdG9tLWljb24tbGVmdFwiO1xyXG4gICAgICAgIHZhciByaWdodEljb25DbGFzcyA9IFwiY3VzdG9tLWljb24tcmlnaHRcIjtcclxuICAgICAgICB2YXIgY3VzdG9tSWNvbnMgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuICAgICAgICAgIFwiLlwiLmNvbmNhdChsZWZ0SWNvbkNsYXNzLCBcIiwgLlwiKS5jb25jYXQocmlnaHRJY29uQ2xhc3MpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjdXN0b21JY29ucy5mb3JFYWNoKGZ1bmN0aW9uIChpY29uKSB7XHJcbiAgICAgICAgICB2YXIgaXNMZWZ0SWNvbiA9IGljb24uY2xhc3NMaXN0LmNvbnRhaW5zKGxlZnRJY29uQ2xhc3MpO1xyXG4gICAgICAgICAgdmFyIGlzUmlnaHRJY29uID0gaWNvbi5jbGFzc0xpc3QuY29udGFpbnMocmlnaHRJY29uQ2xhc3MpO1xyXG5cclxuICAgICAgICAgIGlmIChpc0xlZnRJY29uKSB7XHJcbiAgICAgICAgICAgIGljb24uY2xhc3NMaXN0LnJlbW92ZShsZWZ0SWNvbkNsYXNzKTtcclxuICAgICAgICAgICAgbGVmdEljb24gPSBpY29uLm91dGVySFRNTDtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNSaWdodEljb24pIHtcclxuICAgICAgICAgICAgaWNvbi5jbGFzc0xpc3QucmVtb3ZlKHJpZ2h0SWNvbkNsYXNzKTtcclxuICAgICAgICAgICAgcmlnaHRJY29uID0gaWNvbi5vdXRlckhUTUw7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWNvbi5yZW1vdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm5leHRBcnJvdyA9ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ1dHRvbiBidXR0b25fc3R5bGUtMSBzbGljay1uZXh0XCI+Jy5jb25jYXQoXHJcbiAgICAgICAgICBsZWZ0SWNvbixcclxuICAgICAgICAgIFwiPC9idXR0b24+XCJcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMucHJldkFycm93ID0gJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnV0dG9uIGJ1dHRvbl9zdHlsZS0xIHNsaWNrLXByZXZcIj4nLmNvbmNhdChcclxuICAgICAgICAgIHJpZ2h0SWNvbixcclxuICAgICAgICAgIFwiPC9idXR0b24+XCJcclxuICAgICAgICApO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAga2V5OiBcImNoZWNrU2xpZGVyU3RhdGVcIixcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrU2xpZGVyU3RhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubW91bnRlZCAmJiB0aGlzLnNhdmVkV2luZG93V2lkdGggPT09IHdpbmRvdy5pbm5lcldpZHRoKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5zYXZlZFdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1vdW50ZWQpIHtcclxuICAgICAgICAgIHRoaXMudW5tb3VudCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHN0YXRlO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBicmVha3BvaW50IGluIGJyZWFrcG9pbnRzKSB7XHJcbiAgICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPj0gYnJlYWtwb2ludHNbYnJlYWtwb2ludF0pIHtcclxuICAgICAgICAgICAgc3RhdGUgPSB0aGlzLnBhcmFtcy5zdGF0ZVticmVha3BvaW50XTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzdGF0ZSkge1xyXG4gICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xyXG5cclxuICAgICAgICAgIGlmICh0aGlzLmNvbnRhaW5zTW9iaWxlSGlkZGVuU2xpZGVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tTbGlkZXNWaXNpYmlsaXR5KCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdGhpcy5tb3VudCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAga2V5OiBcImNoZWNrU2xpZGVzVmlzaWJpbGl0eVwiLFxyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tTbGlkZXNWaXNpYmlsaXR5KCkge1xyXG4gICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xyXG5cclxuICAgICAgICB0aGlzLnNsaWRlcy5mb3JFYWNoKGZ1bmN0aW9uIChzbGlkZSkge1xyXG4gICAgICAgICAgc2xpZGUucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zbGlkZXMuZm9yRWFjaChmdW5jdGlvbiAoc2xpZGUpIHtcclxuICAgICAgICAgIHZhciBzaG91bGRCZUhpZGRlbiA9IHNsaWRlLmdldEF0dHJpYnV0ZShcImRhdGEtc2xpZGUtbW9iaWxlLWhpZGRlblwiKSAhPT0gbnVsbDtcclxuICAgICAgICAgIHZhciBicmVha3BvaW50ID0gd2luZG93LmlubmVyV2lkdGggPCBicmVha3BvaW50cy5zbTtcclxuXHJcbiAgICAgICAgICBpZiAoIShzaG91bGRCZUhpZGRlbiAmJiBicmVha3BvaW50KSkge1xyXG4gICAgICAgICAgICBfdGhpczQuZWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJiZWZvcmVlbmRcIiwgc2xpZGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAga2V5OiBcIm1vdW50XCIsXHJcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBtb3VudCgpIHtcclxuICAgICAgICAkKHRoaXMuZWxlbWVudCkuc2xpY2soe1xyXG4gICAgICAgICAgYXV0b3BsYXk6IHRoaXMucGFyYW1zLmF1dG9wbGF5LFxyXG4gICAgICAgICAgYXV0b3BsYXlTcGVlZDogdGhpcy5wYXJhbXMuYXV0b3BsYXlUaW1lb3V0LFxyXG4gICAgICAgICAgbW9iaWxlRmlyc3Q6IHRydWUsXHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IHRoaXMucGFyYW1zLmNvdW50LnhzLFxyXG4gICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IHRoaXMucGFyYW1zLmNvdW50LnhzLFxyXG4gICAgICAgICAgcm93czogdGhpcy5wYXJhbXMucm93cy54cyxcclxuICAgICAgICAgIHByZXZBcnJvdzogdGhpcy5wcmV2QXJyb3csXHJcbiAgICAgICAgICBuZXh0QXJyb3c6IHRoaXMubmV4dEFycm93LFxyXG4gICAgICAgICAgYXJyb3dzOiB0aGlzLnBhcmFtcy5hcnJvd3MsXHJcbiAgICAgICAgICBhZGFwdGl2ZUhlaWdodDogdGhpcy5wYXJhbXMuYWRhcHRpdmVIZWlnaHQsXHJcbiAgICAgICAgICBkb3RzOiB0aGlzLnBhcmFtcy5kb3RzLFxyXG4gICAgICAgICAgY2VudGVyTW9kZTogdGhpcy5wYXJhbXMuY2VudGVyTW9kZSxcclxuICAgICAgICAgIGFjY2Vzc2liaWxpdHk6IGZhbHNlLFxyXG4gICAgICAgICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogYnJlYWtwb2ludHMuc20gLSAxLFxyXG4gICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IHRoaXMucGFyYW1zLmNvdW50LnNtLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IHRoaXMucGFyYW1zLmNvdW50LnNtLFxyXG4gICAgICAgICAgICAgICAgcm93czogdGhpcy5wYXJhbXMucm93cy5zbSxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogYnJlYWtwb2ludHMubWQgLSAxLFxyXG4gICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IHRoaXMucGFyYW1zLmNvdW50Lm1kLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IHRoaXMucGFyYW1zLmNvdW50Lm1kLFxyXG4gICAgICAgICAgICAgICAgcm93czogdGhpcy5wYXJhbXMucm93cy5tZCxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogYnJlYWtwb2ludHMubGcgLSAxLFxyXG4gICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IHRoaXMucGFyYW1zLmNvdW50LmxnLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IHRoaXMucGFyYW1zLmNvdW50LmxnLFxyXG4gICAgICAgICAgICAgICAgcm93czogdGhpcy5wYXJhbXMucm93cy5sZyxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogYnJlYWtwb2ludHMueGwgLSAxLFxyXG4gICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IHRoaXMucGFyYW1zLmNvdW50LnhsLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IHRoaXMucGFyYW1zLmNvdW50LnhsLFxyXG4gICAgICAgICAgICAgICAgcm93czogdGhpcy5wYXJhbXMucm93cy54bCxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgXSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm1vdW50ZWQgPSB0cnVlO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAga2V5OiBcInVubW91bnRcIixcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVubW91bnQoKSB7XHJcbiAgICAgICAgJCh0aGlzLmVsZW1lbnQpLnNsaWNrKFwidW5zbGlja1wiKTtcclxuICAgICAgICB0aGlzLm1vdW50ZWQgPSBmYWxzZTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgXSk7XHJcblxyXG4gIHJldHVybiBTbGlkZXJDb25zdHJ1Y3RvcjtcclxufSkoKTtcclxuIl19
